(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();function im(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Br={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function nv(){if(vh)return Yl;vh=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:i,type:s,key:m,ref:u!==void 0?u:null,props:f}}return Yl.Fragment=n,Yl.jsx=o,Yl.jsxs=o,Yl}var xh;function iv(){return xh||(xh=1,Br.exports=nv()),Br.exports}var p=iv(),Or={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function lv(){if(Th)return he;Th=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,Y={};function z(C,U,Z){this.props=C,this.context=U,this.refs=Y,this.updater=Z||w}z.prototype.isReactComponent={},z.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function F(){}F.prototype=z.prototype;function O(C,U,Z){this.props=C,this.context=U,this.refs=Y,this.updater=Z||w}var J=O.prototype=new F;J.constructor=O,D(J,z.prototype),J.isPureReactComponent=!0;var X=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function L(C,U,Z){var oe=Z.ref;return{$$typeof:i,type:C,key:U,ref:oe!==void 0?oe:null,props:Z}}function te(C,U){return L(C.type,U,C.props)}function de(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function re(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Z){return U[Z]})}var De=/\/+/g;function Xe(C,U){return typeof C=="object"&&C!==null&&C.key!=null?re(""+C.key):U.toString(36)}function Pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Q,Q):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function V(C,U,Z,oe,fe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var Ne=!1;if(C===null)Ne=!0;else switch(ge){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(C.$$typeof){case i:case n:Ne=!0;break;case x:return Ne=C._init,V(Ne(C._payload),U,Z,oe,fe)}}if(Ne)return fe=fe(C),Ne=oe===""?"."+Xe(C,0):oe,X(fe)?(Z="",Ne!=null&&(Z=Ne.replace(De,"$&/")+"/"),V(fe,U,Z,"",function(Zi){return Zi})):fe!=null&&(de(fe)&&(fe=te(fe,Z+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(De,"$&/")+"/")+Ne)),U.push(fe)),1;Ne=0;var ot=oe===""?".":oe+":";if(X(C))for(var ze=0;ze<C.length;ze++)oe=C[ze],ge=ot+Xe(oe,ze),Ne+=V(oe,U,Z,ge,fe);else if(ze=_(C),typeof ze=="function")for(C=ze.call(C),ze=0;!(oe=C.next()).done;)oe=oe.value,ge=ot+Xe(oe,ze++),Ne+=V(oe,U,Z,ge,fe);else if(ge==="object"){if(typeof C.then=="function")return V(Pe(C),U,Z,oe,fe);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function H(C,U,Z){if(C==null)return C;var oe=[],fe=0;return V(C,oe,"","",function(ge){return U.call(Z,ge,fe++)}),oe}function ne(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(Z){(C._status===0||C._status===-1)&&(C._status=1,C._result=Z)},function(Z){(C._status===0||C._status===-1)&&(C._status=2,C._result=Z)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var $=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ee={map:H,forEach:function(C,U,Z){H(C,function(){U.apply(this,arguments)},Z)},count:function(C){var U=0;return H(C,function(){U++}),U},toArray:function(C){return H(C,function(U){return U})||[]},only:function(C){if(!de(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return he.Activity=S,he.Children=ee,he.Component=z,he.Fragment=o,he.Profiler=u,he.PureComponent=O,he.StrictMode=s,he.Suspense=v,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,he.__COMPILER_RUNTIME={__proto__:null,c:function(C){return K.H.useMemoCache(C)}},he.cache=function(C){return function(){return C.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(C,U,Z){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=D({},C.props),fe=C.key;if(U!=null)for(ge in U.key!==void 0&&(fe=""+U.key),U)!W.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(oe[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)oe.children=Z;else if(1<ge){for(var Ne=Array(ge),ot=0;ot<ge;ot++)Ne[ot]=arguments[ot+2];oe.children=Ne}return L(C.type,fe,oe)},he.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},he.createElement=function(C,U,Z){var oe,fe={},ge=null;if(U!=null)for(oe in U.key!==void 0&&(ge=""+U.key),U)W.call(U,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=U[oe]);var Ne=arguments.length-2;if(Ne===1)fe.children=Z;else if(1<Ne){for(var ot=Array(Ne),ze=0;ze<Ne;ze++)ot[ze]=arguments[ze+2];fe.children=ot}if(C&&C.defaultProps)for(oe in Ne=C.defaultProps,Ne)fe[oe]===void 0&&(fe[oe]=Ne[oe]);return L(C,ge,fe)},he.createRef=function(){return{current:null}},he.forwardRef=function(C){return{$$typeof:y,render:C}},he.isValidElement=de,he.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:ne}},he.memo=function(C,U){return{$$typeof:g,type:C,compare:U===void 0?null:U}},he.startTransition=function(C){var U=K.T,Z={};K.T=Z;try{var oe=C(),fe=K.S;fe!==null&&fe(Z,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Q,$)}catch(ge){$(ge)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),K.T=U}},he.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},he.use=function(C){return K.H.use(C)},he.useActionState=function(C,U,Z){return K.H.useActionState(C,U,Z)},he.useCallback=function(C,U){return K.H.useCallback(C,U)},he.useContext=function(C){return K.H.useContext(C)},he.useDebugValue=function(){},he.useDeferredValue=function(C,U){return K.H.useDeferredValue(C,U)},he.useEffect=function(C,U){return K.H.useEffect(C,U)},he.useEffectEvent=function(C){return K.H.useEffectEvent(C)},he.useId=function(){return K.H.useId()},he.useImperativeHandle=function(C,U,Z){return K.H.useImperativeHandle(C,U,Z)},he.useInsertionEffect=function(C,U){return K.H.useInsertionEffect(C,U)},he.useLayoutEffect=function(C,U){return K.H.useLayoutEffect(C,U)},he.useMemo=function(C,U){return K.H.useMemo(C,U)},he.useOptimistic=function(C,U){return K.H.useOptimistic(C,U)},he.useReducer=function(C,U,Z){return K.H.useReducer(C,U,Z)},he.useRef=function(C){return K.H.useRef(C)},he.useState=function(C){return K.H.useState(C)},he.useSyncExternalStore=function(C,U,Z){return K.H.useSyncExternalStore(C,U,Z)},he.useTransition=function(){return K.H.useTransition()},he.version="19.2.0",he}var Sh;function ru(){return Sh||(Sh=1,Or.exports=lv()),Or.exports}var j=ru();const $r=im(j);var Yr={exports:{}},Jl={},Jr={exports:{}},Fr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function ov(){return Eh||(Eh=1,(function(i){function n(V,H){var ne=V.length;V.push(H);e:for(;0<ne;){var $=ne-1>>>1,ee=V[$];if(0<u(ee,H))V[$]=H,V[ne]=ee,ne=$;else break e}}function o(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var H=V[0],ne=V.pop();if(ne!==H){V[0]=ne;e:for(var $=0,ee=V.length,C=ee>>>1;$<C;){var U=2*($+1)-1,Z=V[U],oe=U+1,fe=V[oe];if(0>u(Z,ne))oe<ee&&0>u(fe,Z)?(V[$]=fe,V[oe]=ne,$=oe):(V[$]=Z,V[U]=ne,$=U);else if(oe<ee&&0>u(fe,ne))V[$]=fe,V[oe]=ne,$=oe;else break e}}return H}function u(V,H){var ne=V.sortIndex-H.sortIndex;return ne!==0?ne:V.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var v=[],g=[],x=1,S=null,E=3,_=!1,w=!1,D=!1,Y=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function J(V){for(var H=o(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=V)s(g),H.sortIndex=H.expirationTime,n(v,H);else break;H=o(g)}}function X(V){if(D=!1,J(V),!w)if(o(v)!==null)w=!0,Q||(Q=!0,re());else{var H=o(g);H!==null&&Pe(X,H.startTime-V)}}var Q=!1,K=-1,W=5,L=-1;function te(){return Y?!0:!(i.unstable_now()-L<W)}function de(){if(Y=!1,Q){var V=i.unstable_now();L=V;var H=!0;try{e:{w=!1,D&&(D=!1,F(K),K=-1),_=!0;var ne=E;try{t:{for(J(V),S=o(v);S!==null&&!(S.expirationTime>V&&te());){var $=S.callback;if(typeof $=="function"){S.callback=null,E=S.priorityLevel;var ee=$(S.expirationTime<=V);if(V=i.unstable_now(),typeof ee=="function"){S.callback=ee,J(V),H=!0;break t}S===o(v)&&s(v),J(V)}else s(v);S=o(v)}if(S!==null)H=!0;else{var C=o(g);C!==null&&Pe(X,C.startTime-V),H=!1}}break e}finally{S=null,E=ne,_=!1}H=void 0}}finally{H?re():Q=!1}}}var re;if(typeof O=="function")re=function(){O(de)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Xe=De.port2;De.port1.onmessage=de,re=function(){Xe.postMessage(null)}}else re=function(){z(de,0)};function Pe(V,H){K=z(function(){V(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(V){switch(E){case 1:case 2:case 3:var H=3;break;default:H=E}var ne=E;E=H;try{return V()}finally{E=ne}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=E;E=V;try{return H()}finally{E=ne}},i.unstable_scheduleCallback=function(V,H,ne){var $=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?$+ne:$):ne=$,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,V={id:x++,callback:H,priorityLevel:V,startTime:ne,expirationTime:ee,sortIndex:-1},ne>$?(V.sortIndex=ne,n(g,V),o(v)===null&&V===o(g)&&(D?(F(K),K=-1):D=!0,Pe(X,ne-$))):(V.sortIndex=ee,n(v,V),w||_||(w=!0,Q||(Q=!0,re()))),V},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(V){var H=E;return function(){var ne=E;E=H;try{return V.apply(this,arguments)}finally{E=ne}}}})(Fr)),Fr}var bh;function av(){return bh||(bh=1,Jr.exports=ov()),Jr.exports}var Kr={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function sv(){if(Ch)return it;Ch=1;var i=ru();function n(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,g,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:v,containerInfo:g,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,it.createPortal=function(v,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(v,g,null,x)},it.flushSync=function(v){var g=m.T,x=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=g,s.p=x,s.d.f()}},it.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},it.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},it.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var x=g.as,S=y(x,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:_}):x==="script"&&s.d.X(v,{crossOrigin:S,integrity:E,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},it.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=y(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},it.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,S=y(x,g.crossOrigin);s.d.L(v,x,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},it.preloadModule=function(v,g){if(typeof v=="string")if(g){var x=y(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},it.requestFormReset=function(v){s.d.r(v)},it.unstable_batchedUpdates=function(v,g){return v(g)},it.useFormState=function(v,g,x){return m.H.useFormState(v,g,x)},it.useFormStatus=function(){return m.H.useHostTransitionStatus()},it.version="19.2.0",it}var Ah;function rv(){if(Ah)return Kr.exports;Ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Kr.exports=sv(),Kr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function uv(){if(Nh)return Jl;Nh=1;var i=av(),n=ru(),o=rv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var d=l.return;if(d===null)break;var h=d.alternate;if(h===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===l)return v(d),e;if(h===a)return v(d),t;h=h.sibling}throw Error(s(188))}if(l.return!==a.return)l=d,a=h;else{for(var T=!1,b=d.child;b;){if(b===l){T=!0,l=d,a=h;break}if(b===a){T=!0,a=d,l=h;break}b=b.sibling}if(!T){for(b=h.child;b;){if(b===l){T=!0,l=h,a=d;break}if(b===a){T=!0,a=h,l=d;break}b=b.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),O=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case z:return"Profiler";case Y:return"StrictMode";case X:return"Suspense";case Q:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case O:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Xe(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return Xe(e(t))}catch{}}return null}var Pe=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},$=[],ee=-1;function C(e){return{current:e}}function U(e){0>ee||(e.current=$[ee],$[ee]=null,ee--)}function Z(e,t){ee++,$[ee]=e.current,e.current=t}var oe=C(null),fe=C(null),ge=C(null),Ne=C(null);function ot(e,t){switch(Z(ge,t),Z(fe,e),Z(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zf(t),e=Bf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(oe),Z(oe,e)}function ze(){U(oe),U(fe),U(ge)}function Zi(e){e.memoizedState!==null&&Z(Ne,e);var t=oe.current,l=Bf(t,e.type);t!==l&&(Z(fe,e),Z(oe,l))}function Xl(e){fe.current===e&&(U(oe),U(fe)),Ne.current===e&&(U(Ne),Pl._currentValue=ne)}var Ca,gu;function Gn(e){if(Ca===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ca=t&&t[1]||"",gu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+e+gu}var Aa=!1;function Na(e,t){if(!e||Aa)return"";Aa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(G){var k=G}Reflect.construct(e,[],B)}else{try{B.call()}catch(G){k=G}e.call(B.prototype)}}else{try{throw Error()}catch(G){k=G}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(G){if(G&&k&&typeof G.stack=="string")return[G.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),T=h[0],b=h[1];if(T&&b){var A=T.split(`
`),I=b.split(`
`);for(d=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(a===A.length||d===I.length)for(a=A.length-1,d=I.length-1;1<=a&&0<=d&&A[a]!==I[d];)d--;for(;1<=a&&0<=d;a--,d--)if(A[a]!==I[d]){if(a!==1||d!==1)do if(a--,d--,0>d||A[a]!==I[d]){var q=`
`+A[a].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=a&&0<=d);break}}}finally{Aa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Gn(l):""}function Dm(e,t){switch(e.tag){case 26:case 27:case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return e.child!==t&&t!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Na(e.type,!1);case 11:return Na(e.type.render,!1);case 1:return Na(e.type,!0);case 31:return Gn("Activity");default:return""}}function yu(e){try{var t="",l=null;do t+=Dm(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var _a=Object.prototype.hasOwnProperty,Ma=i.unstable_scheduleCallback,wa=i.unstable_cancelCallback,Um=i.unstable_shouldYield,Lm=i.unstable_requestPaint,pt=i.unstable_now,Gm=i.unstable_getCurrentPriorityLevel,vu=i.unstable_ImmediatePriority,xu=i.unstable_UserBlockingPriority,Ql=i.unstable_NormalPriority,Vm=i.unstable_LowPriority,Tu=i.unstable_IdlePriority,qm=i.log,Hm=i.unstable_setDisableYieldValue,$i=null,mt=null;function cn(e){if(typeof qm=="function"&&Hm(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode($i,e)}catch{}}var gt=Math.clz32?Math.clz32:Bm,Pm=Math.log,zm=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(Pm(e)/zm|0)|0}var Zl=256,$l=262144,Wl=4194304;function Vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function eo(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~h,a!==0?d=Vn(a):(T&=b,T!==0?d=Vn(T):l||(l=b&~e,l!==0&&(d=Vn(l))))):(b=a&~h,b!==0?d=Vn(b):T!==0?d=Vn(T):l||(l=a&~e,l!==0&&(d=Vn(l)))),d===0?0:t!==0&&t!==d&&(t&h)===0&&(h=d&-d,l=t&-t,h>=l||h===32&&(l&4194048)!==0)?t:d}function Wi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Om(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var e=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),e}function Ra(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function el(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ym(e,t,l,a,d,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(l=T&~l;0<l;){var q=31-gt(l),B=1<<q;b[q]=0,A[q]=-1;var k=I[q];if(k!==null)for(I[q]=null,q=0;q<k.length;q++){var G=k[q];G!==null&&(G.lane&=-536870913)}l&=~B}a!==0&&Eu(e,a,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~t))}function Eu(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function bu(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-gt(l),d=1<<a;d&t|e[a]&t&&(e[a]|=t),l&=~d}}function Cu(e,t){var l=t&-t;return l=(l&42)!==0?1:Ia(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ia(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ka(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Au(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:dh(e.type))}function Nu(e,t){var l=H.p;try{return H.p=e,t()}finally{H.p=l}}var dn=Math.random().toString(36).slice(2),$e="__reactFiber$"+dn,st="__reactProps$"+dn,ai="__reactContainer$"+dn,Da="__reactEvents$"+dn,Jm="__reactListeners$"+dn,Fm="__reactHandles$"+dn,_u="__reactResources$"+dn,tl="__reactMarker$"+dn;function Ua(e){delete e[$e],delete e[st],delete e[Da],delete e[Jm],delete e[Fm]}function si(e){var t=e[$e];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ai]||l[$e]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Xf(e);e!==null;){if(l=e[$e])return l;e=Xf(e)}return t}e=l,l=e.parentNode}return null}function ri(e){if(e=e[$e]||e[ai]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ui(e){var t=e[_u];return t||(t=e[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[tl]=!0}var Mu=new Set,wu={};function qn(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(wu[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var Km=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},Iu={};function jm(e){return _a.call(Iu,e)?!0:_a.call(Ru,e)?!1:Km.test(e)?Iu[e]=!0:(Ru[e]=!0,!1)}function to(e,t,l){if(jm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function no(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Yt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xm(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function La(e){if(!e._valueTracker){var t=ku(e)?"checked":"value";e._valueTracker=Xm(e,t,""+e[t])}}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=ku(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qm=/[\n"\\]/g;function At(e){return e.replace(Qm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ga(e,t,l,a,d,h,T,b){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?Va(e,T,Ct(t)):l!=null?Va(e,T,Ct(l)):a!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ct(b):e.removeAttribute("name")}function Uu(e,t,l,a,d,h,T,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){La(e);return}l=l!=null?""+Ct(l):"",t=t!=null?""+Ct(t):l,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),La(e)}function Va(e,t,l){t==="number"&&io(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function di(e,t,l,a){if(e=e.options,t){t={};for(var d=0;d<l.length;d++)t["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=t.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Ct(l),t=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Lu(e,t,l){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Ct(l):""}function Gu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(Pe(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Ct(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),La(e)}function fi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Zm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Zm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function qu(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in t)a=t[d],t.hasOwnProperty(d)&&l[d]!==a&&Vu(e,d,a)}else for(var h in t)t.hasOwnProperty(h)&&Vu(e,h,t[h])}function qa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(e){return Wm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jt(){}var Ha=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hi=null,pi=null;function Hu(e){var t=ri(e);if(t&&(e=t.stateNode)){var l=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ga(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var d=a[st]||null;if(!d)throw Error(s(90));Ga(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Du(a)}break e;case"textarea":Lu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&di(e,!!l.multiple,t,!1)}}}var za=!1;function Pu(e,t,l){if(za)return e(t,l);za=!0;try{var a=e(t);return a}finally{if(za=!1,(hi!==null||pi!==null)&&(Fo(),hi&&(t=hi,e=pi,pi=hi=null,Hu(t),e)))for(t=0;t<e.length;t++)Hu(e[t])}}function il(e,t){var l=e.stateNode;if(l===null)return null;var a=l[st]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Ft)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Ba=!1}var fn=null,Oa=null,oo=null;function zu(){if(oo)return oo;var e,t=Oa,l=t.length,a,d="value"in fn?fn.value:fn.textContent,h=d.length;for(e=0;e<l&&t[e]===d[e];e++);var T=l-e;for(a=1;a<=T&&t[l-a]===d[h-a];a++);return oo=d.slice(e,1<a?1-a:void 0)}function ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Bu(){return!1}function rt(e){function t(l,a,d,h,T){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?so:Bu,this.isPropagationStopped=Bu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=rt(Hn),ol=S({},Hn,{view:0,detail:0}),eg=rt(ol),Ya,Ja,al,uo=S({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==al&&(al&&e.type==="mousemove"?(Ya=e.screenX-al.screenX,Ja=e.screenY-al.screenY):Ja=Ya=0,al=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),Ou=rt(uo),tg=S({},uo,{dataTransfer:0}),ng=rt(tg),ig=S({},ol,{relatedTarget:0}),Fa=rt(ig),lg=S({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),og=rt(lg),ag=S({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=rt(ag),rg=S({},Hn,{data:0}),Yu=rt(rg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dg[e])?!!t[e]:!1}function Ka(){return fg}var hg=S({},ol,{key:function(e){if(e.key){var t=ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=rt(hg),mg=S({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=rt(mg),gg=S({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),yg=rt(gg),vg=S({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xg=rt(vg),Tg=S({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=rt(Tg),Eg=S({},Hn,{newState:0,oldState:0}),bg=rt(Eg),Cg=[9,13,27,32],ja=Ft&&"CompositionEvent"in window,sl=null;Ft&&"documentMode"in document&&(sl=document.documentMode);var Ag=Ft&&"TextEvent"in window&&!sl,Fu=Ft&&(!ja||sl&&8<sl&&11>=sl),Ku=" ",ju=!1;function Xu(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function Ng(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(ju=!0,Ku);case"textInput":return e=t.data,e===Ku&&ju?null:e;default:return null}}function _g(e,t){if(mi)return e==="compositionend"||!ja&&Xu(e,t)?(e=zu(),oo=Oa=fn=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fu&&t.locale!=="ko"?null:t.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mg[e.type]:t==="textarea"}function $u(e,t,l,a){hi?pi?pi.push(a):pi=[a]:hi=a,t=Wo(t,"onChange"),0<t.length&&(l=new ro("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var rl=null,ul=null;function wg(e){Lf(e,0)}function co(e){var t=nl(e);if(Du(t))return e}function Wu(e,t){if(e==="change")return t}var ec=!1;if(Ft){var Xa;if(Ft){var Qa="oninput"in document;if(!Qa){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Qa=typeof tc.oninput=="function"}Xa=Qa}else Xa=!1;ec=Xa&&(!document.documentMode||9<document.documentMode)}function nc(){rl&&(rl.detachEvent("onpropertychange",ic),ul=rl=null)}function ic(e){if(e.propertyName==="value"&&co(ul)){var t=[];$u(t,ul,e,Pa(e)),Pu(wg,t)}}function Rg(e,t,l){e==="focusin"?(nc(),rl=t,ul=l,rl.attachEvent("onpropertychange",ic)):e==="focusout"&&nc()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(ul)}function kg(e,t){if(e==="click")return co(t)}function Dg(e,t){if(e==="input"||e==="change")return co(t)}function Ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Ug;function cl(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!_a.call(t,d)||!yt(e[d],t[d]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var l=lc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lc(l)}}function ac(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ac(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=io(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=io(e.document)}return t}function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lg=Ft&&"documentMode"in document&&11>=document.documentMode,gi=null,$a=null,dl=null,Wa=!1;function rc(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wa||gi==null||gi!==io(a)||(a=gi,"selectionStart"in a&&Za(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),dl&&cl(dl,a)||(dl=a,a=Wo($a,"onSelect"),0<a.length&&(t=new ro("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=gi)))}function Pn(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var yi={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},es={},uc={};Ft&&(uc=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function zn(e){if(es[e])return es[e];if(!yi[e])return e;var t=yi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in uc)return es[e]=t[l];return e}var cc=zn("animationend"),dc=zn("animationiteration"),fc=zn("animationstart"),Gg=zn("transitionrun"),Vg=zn("transitionstart"),qg=zn("transitioncancel"),hc=zn("transitionend"),pc=new Map,ts="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ts.push("scrollEnd");function Gt(e,t){pc.set(e,t),qn(t,[e])}var fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],vi=0,ns=0;function ho(){for(var e=vi,t=ns=vi=0;t<e;){var l=Nt[t];Nt[t++]=null;var a=Nt[t];Nt[t++]=null;var d=Nt[t];Nt[t++]=null;var h=Nt[t];if(Nt[t++]=null,a!==null&&d!==null){var T=a.pending;T===null?d.next=d:(d.next=T.next,T.next=d),a.pending=d}h!==0&&mc(l,d,h)}}function po(e,t,l,a){Nt[vi++]=e,Nt[vi++]=t,Nt[vi++]=l,Nt[vi++]=a,ns|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function is(e,t,l,a){return po(e,t,l,a),mo(e)}function Bn(e,t){return po(e,null,null,t),mo(e)}function mc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,h=e.return;h!==null;)h.childLanes|=l,a=h.alternate,a!==null&&(a.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&t!==null&&(d=31-gt(l),e=h.hiddenUpdates,a=e[d],a===null?e[d]=[t]:a.push(t),t.lane=l|536870912),h):null}function mo(e){if(50<Dl)throw Dl=0,fr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xi={};function Hg(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,l,a){return new Hg(e,t,l,a)}function ls(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kt(e,t){var l=e.alternate;return l===null?(l=vt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function gc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,l,a,d,h){var T=0;if(a=e,typeof e=="function")ls(e)&&(T=1);else if(typeof e=="string")T=Yy(e,l,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=vt(31,l,t,d),e.elementType=L,e.lanes=h,e;case D:return On(l.children,d,h,t);case Y:T=8,d|=24;break;case z:return e=vt(12,l,t,d|2),e.elementType=z,e.lanes=h,e;case X:return e=vt(13,l,t,d),e.elementType=X,e.lanes=h,e;case Q:return e=vt(19,l,t,d),e.elementType=Q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:T=10;break e;case F:T=9;break e;case J:T=11;break e;case K:T=14;break e;case W:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=vt(T,l,t,d),t.elementType=e,t.type=a,t.lanes=h,t}function On(e,t,l,a){return e=vt(7,e,a,t),e.lanes=l,e}function os(e,t,l){return e=vt(6,e,null,t),e.lanes=l,e}function yc(e){var t=vt(18,null,null,0);return t.stateNode=e,t}function as(e,t,l){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vc=new WeakMap;function _t(e,t){if(typeof e=="object"&&e!==null){var l=vc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:yu(t)},vc.set(e,t),t)}return{value:e,source:t,stack:yu(t)}}var Ti=[],Si=0,yo=null,fl=0,Mt=[],wt=0,hn=null,Pt=1,zt="";function jt(e,t){Ti[Si++]=fl,Ti[Si++]=yo,yo=e,fl=t}function xc(e,t,l){Mt[wt++]=Pt,Mt[wt++]=zt,Mt[wt++]=hn,hn=e;var a=Pt;e=zt;var d=32-gt(a)-1;a&=~(1<<d),l+=1;var h=32-gt(t)+d;if(30<h){var T=d-d%5;h=(a&(1<<T)-1).toString(32),a>>=T,d-=T,Pt=1<<32-gt(t)+d|l<<d|a,zt=h+e}else Pt=1<<h|l<<d|a,zt=e}function ss(e){e.return!==null&&(jt(e,1),xc(e,1,0))}function rs(e){for(;e===yo;)yo=Ti[--Si],Ti[Si]=null,fl=Ti[--Si],Ti[Si]=null;for(;e===hn;)hn=Mt[--wt],Mt[wt]=null,zt=Mt[--wt],Mt[wt]=null,Pt=Mt[--wt],Mt[wt]=null}function Tc(e,t){Mt[wt++]=Pt,Mt[wt++]=zt,Mt[wt++]=hn,Pt=t.id,zt=t.overflow,hn=e}var We=null,Ue=null,Se=!1,pn=null,Rt=!1,us=Error(s(519));function mn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(_t(t,e)),us}function Sc(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[$e]=e,t[st]=a,l){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)ve(Ll[l],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Uu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Gu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Hf(t.textContent,l)?(a.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),a.onScroll!=null&&ve("scroll",t),a.onScrollEnd!=null&&ve("scrollend",t),a.onClick!=null&&(t.onclick=Jt),t=!0):t=!1,t||mn(e,!0)}function Ec(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:We=We.return}}function Ei(e){if(e!==We)return!1;if(!Se)return Ec(e),Se=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||_r(e.type,e.memoizedProps)),l=!l),l&&Ue&&mn(e),Ec(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=jf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=jf(e)}else t===27?(t=Ue,wn(e.type)?(e=kr,kr=null,Ue=e):Ue=t):Ue=We?kt(e.stateNode.nextSibling):null;return!0}function Yn(){Ue=We=null,Se=!1}function cs(){var e=pn;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),pn=null),e}function hl(e){pn===null?pn=[e]:pn.push(e)}var ds=C(null),Jn=null,Xt=null;function gn(e,t,l){Z(ds,t._currentValue),t._currentValue=l}function Qt(e){e._currentValue=ds.current,U(ds)}function fs(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function hs(e,t,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=d;for(var A=0;A<t.length;A++)if(b.context===t[A]){h.lanes|=l,b=h.alternate,b!==null&&(b.lanes|=l),fs(h.return,l,e),a||(T=null);break e}h=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),fs(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function bi(e,t,l,a){e=null;for(var d=t,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=d.type;yt(d.pendingProps.value,T.value)||(e!==null?e.push(b):e=[b])}}else if(d===Ne.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}d=d.return}e!==null&&hs(t,e,l,a),t.flags|=262144}function vo(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fn(e){Jn=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return bc(Jn,e)}function xo(e,t){return Jn===null&&Fn(e),bc(e,t)}function bc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Xt===null){if(e===null)throw Error(s(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return l}var Pg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},zg=i.unstable_scheduleCallback,Bg=i.unstable_NormalPriority,Ye={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ps(){return{controller:new Pg,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&zg(Bg,function(){e.controller.abort()})}var ml=null,ms=0,Ci=0,Ai=null;function Og(e,t){if(ml===null){var l=ml=[];ms=0,Ci=vr(),Ai={status:"pending",value:void 0,then:function(a){l.push(a)}}}return ms++,t.then(Cc,Cc),t}function Cc(){if(--ms===0&&ml!==null){Ai!==null&&(Ai.status="fulfilled");var e=ml;ml=null,Ci=0,Ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yg(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var d=0;d<l.length;d++)(0,l[d])(t)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var Ac=V.S;V.S=function(e,t){uf=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Og(e,t),Ac!==null&&Ac(e,t)};var Kn=C(null);function gs(){var e=Kn.current;return e!==null?e:ke.pooledCache}function To(e,t){t===null?Z(Kn,Kn.current):Z(Kn,t.pool)}function Nc(){var e=gs();return e===null?null:{parent:Ye._currentValue,pool:e}}var Ni=Error(s(460)),ys=Error(s(474)),So=Error(s(542)),Eo={then:function(){}};function _c(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Jt,Jt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rc(e),e;default:if(typeof t.status=="string")t.then(Jt,Jt);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=a}},function(a){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rc(e),e}throw Xn=t,Ni}}function jn(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xn=l,Ni):l}}var Xn=null;function wc(){if(Xn===null)throw Error(s(459));var e=Xn;return Xn=null,e}function Rc(e){if(e===Ni||e===So)throw Error(s(483))}var _i=null,gl=0;function bo(e){var t=gl;return gl+=1,_i===null&&(_i=[]),Mc(_i,e,t)}function yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Co(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ic(e){function t(M,N){if(e){var R=M.deletions;R===null?(M.deletions=[N],M.flags|=16):R.push(N)}}function l(M,N){if(!e)return null;for(;N!==null;)t(M,N),N=N.sibling;return null}function a(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function d(M,N){return M=Kt(M,N),M.index=0,M.sibling=null,M}function h(M,N,R){return M.index=R,e?(R=M.alternate,R!==null?(R=R.index,R<N?(M.flags|=67108866,N):R):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function b(M,N,R,P){return N===null||N.tag!==6?(N=os(R,M.mode,P),N.return=M,N):(N=d(N,R),N.return=M,N)}function A(M,N,R,P){var ue=R.type;return ue===D?q(M,N,R.props.children,P,R.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&jn(ue)===N.type)?(N=d(N,R.props),yl(N,R),N.return=M,N):(N=go(R.type,R.key,R.props,null,M.mode,P),yl(N,R),N.return=M,N)}function I(M,N,R,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==R.containerInfo||N.stateNode.implementation!==R.implementation?(N=as(R,M.mode,P),N.return=M,N):(N=d(N,R.children||[]),N.return=M,N)}function q(M,N,R,P,ue){return N===null||N.tag!==7?(N=On(R,M.mode,P,ue),N.return=M,N):(N=d(N,R),N.return=M,N)}function B(M,N,R){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=os(""+N,M.mode,R),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return R=go(N.type,N.key,N.props,null,M.mode,R),yl(R,N),R.return=M,R;case w:return N=as(N,M.mode,R),N.return=M,N;case W:return N=jn(N),B(M,N,R)}if(Pe(N)||re(N))return N=On(N,M.mode,R,null),N.return=M,N;if(typeof N.then=="function")return B(M,bo(N),R);if(N.$$typeof===O)return B(M,xo(M,N),R);Co(M,N)}return null}function k(M,N,R,P){var ue=N!==null?N.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ue!==null?null:b(M,N,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return R.key===ue?A(M,N,R,P):null;case w:return R.key===ue?I(M,N,R,P):null;case W:return R=jn(R),k(M,N,R,P)}if(Pe(R)||re(R))return ue!==null?null:q(M,N,R,P,null);if(typeof R.then=="function")return k(M,N,bo(R),P);if(R.$$typeof===O)return k(M,N,xo(M,R),P);Co(M,R)}return null}function G(M,N,R,P,ue){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return M=M.get(R)||null,b(N,M,""+P,ue);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return M=M.get(P.key===null?R:P.key)||null,A(N,M,P,ue);case w:return M=M.get(P.key===null?R:P.key)||null,I(N,M,P,ue);case W:return P=jn(P),G(M,N,R,P,ue)}if(Pe(P)||re(P))return M=M.get(R)||null,q(N,M,P,ue,null);if(typeof P.then=="function")return G(M,N,R,bo(P),ue);if(P.$$typeof===O)return G(M,N,R,xo(N,P),ue);Co(N,P)}return null}function le(M,N,R,P){for(var ue=null,Ee=null,se=N,me=N=0,Te=null;se!==null&&me<R.length;me++){se.index>me?(Te=se,se=null):Te=se.sibling;var be=k(M,se,R[me],P);if(be===null){se===null&&(se=Te);break}e&&se&&be.alternate===null&&t(M,se),N=h(be,N,me),Ee===null?ue=be:Ee.sibling=be,Ee=be,se=Te}if(me===R.length)return l(M,se),Se&&jt(M,me),ue;if(se===null){for(;me<R.length;me++)se=B(M,R[me],P),se!==null&&(N=h(se,N,me),Ee===null?ue=se:Ee.sibling=se,Ee=se);return Se&&jt(M,me),ue}for(se=a(se);me<R.length;me++)Te=G(se,M,me,R[me],P),Te!==null&&(e&&Te.alternate!==null&&se.delete(Te.key===null?me:Te.key),N=h(Te,N,me),Ee===null?ue=Te:Ee.sibling=Te,Ee=Te);return e&&se.forEach(function(Un){return t(M,Un)}),Se&&jt(M,me),ue}function ce(M,N,R,P){if(R==null)throw Error(s(151));for(var ue=null,Ee=null,se=N,me=N=0,Te=null,be=R.next();se!==null&&!be.done;me++,be=R.next()){se.index>me?(Te=se,se=null):Te=se.sibling;var Un=k(M,se,be.value,P);if(Un===null){se===null&&(se=Te);break}e&&se&&Un.alternate===null&&t(M,se),N=h(Un,N,me),Ee===null?ue=Un:Ee.sibling=Un,Ee=Un,se=Te}if(be.done)return l(M,se),Se&&jt(M,me),ue;if(se===null){for(;!be.done;me++,be=R.next())be=B(M,be.value,P),be!==null&&(N=h(be,N,me),Ee===null?ue=be:Ee.sibling=be,Ee=be);return Se&&jt(M,me),ue}for(se=a(se);!be.done;me++,be=R.next())be=G(se,M,me,be.value,P),be!==null&&(e&&be.alternate!==null&&se.delete(be.key===null?me:be.key),N=h(be,N,me),Ee===null?ue=be:Ee.sibling=be,Ee=be);return e&&se.forEach(function(tv){return t(M,tv)}),Se&&jt(M,me),ue}function Ie(M,N,R,P){if(typeof R=="object"&&R!==null&&R.type===D&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case _:e:{for(var ue=R.key;N!==null;){if(N.key===ue){if(ue=R.type,ue===D){if(N.tag===7){l(M,N.sibling),P=d(N,R.props.children),P.return=M,M=P;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&jn(ue)===N.type){l(M,N.sibling),P=d(N,R.props),yl(P,R),P.return=M,M=P;break e}l(M,N);break}else t(M,N);N=N.sibling}R.type===D?(P=On(R.props.children,M.mode,P,R.key),P.return=M,M=P):(P=go(R.type,R.key,R.props,null,M.mode,P),yl(P,R),P.return=M,M=P)}return T(M);case w:e:{for(ue=R.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===R.containerInfo&&N.stateNode.implementation===R.implementation){l(M,N.sibling),P=d(N,R.children||[]),P.return=M,M=P;break e}else{l(M,N);break}else t(M,N);N=N.sibling}P=as(R,M.mode,P),P.return=M,M=P}return T(M);case W:return R=jn(R),Ie(M,N,R,P)}if(Pe(R))return le(M,N,R,P);if(re(R)){if(ue=re(R),typeof ue!="function")throw Error(s(150));return R=ue.call(R),ce(M,N,R,P)}if(typeof R.then=="function")return Ie(M,N,bo(R),P);if(R.$$typeof===O)return Ie(M,N,xo(M,R),P);Co(M,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,N!==null&&N.tag===6?(l(M,N.sibling),P=d(N,R),P.return=M,M=P):(l(M,N),P=os(R,M.mode,P),P.return=M,M=P),T(M)):l(M,N)}return function(M,N,R,P){try{gl=0;var ue=Ie(M,N,R,P);return _i=null,ue}catch(se){if(se===Ni||se===So)throw se;var Ee=vt(29,se,null,M.mode);return Ee.lanes=P,Ee.return=M,Ee}finally{}}}var Qn=Ic(!0),kc=Ic(!1),yn=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ae&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,t=mo(e),mc(e,null,l),t}return po(e,a,t,l),mo(e)}function vl(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,bu(e,l)}}function Ts(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?d=h=t:h=h.next=t}else d=h=t;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ss=!1;function xl(){if(Ss){var e=Ai;if(e!==null)throw e}}function Tl(e,t,l,a){Ss=!1;var d=e.updateQueue;yn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var A=b,I=A.next;A.next=null,T===null?h=I:T.next=I,T=A;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==T&&(b===null?q.firstBaseUpdate=I:b.next=I,q.lastBaseUpdate=A))}if(h!==null){var B=d.baseState;T=0,q=I=A=null,b=h;do{var k=b.lane&-536870913,G=k!==b.lane;if(G?(xe&k)===k:(a&k)===k){k!==0&&k===Ci&&(Ss=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var le=e,ce=b;k=t;var Ie=l;switch(ce.tag){case 1:if(le=ce.payload,typeof le=="function"){B=le.call(Ie,B,k);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,k=typeof le=="function"?le.call(Ie,B,k):le,k==null)break e;B=S({},B,k);break e;case 2:yn=!0}}k=b.callback,k!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[k]:G.push(k))}else G={lane:k,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(I=q=G,A=B):q=q.next=G,T|=k;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;G=b,b=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);q===null&&(A=B),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=q,h===null&&(d.shared.lanes=0),Cn|=T,e.lanes=T,e.memoizedState=B}}function Dc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Uc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Dc(l[e],t)}var Mi=C(null),Ao=C(0);function Lc(e,t){e=an,Z(Ao,e),Z(Mi,t),an=e|t.baseLanes}function Es(){Z(Ao,an),Z(Mi,Mi.current)}function bs(){an=Ao.current,U(Mi),U(Ao)}var xt=C(null),It=null;function Tn(e){var t=e.alternate;Z(Be,Be.current&1),Z(xt,e),It===null&&(t===null||Mi.current!==null||t.memoizedState!==null)&&(It=e)}function Cs(e){Z(Be,Be.current),Z(xt,e),It===null&&(It=e)}function Gc(e){e.tag===22?(Z(Be,Be.current),Z(xt,e),It===null&&(It=e)):Sn()}function Sn(){Z(Be,Be.current),Z(xt,xt.current)}function Tt(e){U(xt),It===e&&(It=null),U(Be)}var Be=C(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Rr(l)||Ir(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zt=0,pe=null,we=null,Je=null,_o=!1,wi=!1,Zn=!1,Mo=0,Sl=0,Ri=null,Jg=0;function qe(){throw Error(s(321))}function As(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!yt(e[l],t[l]))return!1;return!0}function Ns(e,t,l,a,d,h){return Zt=h,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?xd:zs,Zn=!1,h=l(a,d),Zn=!1,wi&&(h=qc(t,l,a,d)),Vc(e),h}function Vc(e){V.H=Cl;var t=we!==null&&we.next!==null;if(Zt=0,Je=we=pe=null,_o=!1,Sl=0,Ri=null,t)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&vo(e)&&(Fe=!0))}function qc(e,t,l,a){pe=e;var d=0;do{if(wi&&(Ri=null),Sl=0,wi=!1,25<=d)throw Error(s(301));if(d+=1,Je=we=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=Td,h=t(l,a)}while(wi);return h}function Fg(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?El(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(pe.flags|=1024),t}function _s(){var e=Mo!==0;return Mo=0,e}function Ms(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function ws(e){if(_o){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_o=!1}Zt=0,Je=we=pe=null,wi=!1,Sl=Mo=0,Ri=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?pe.memoizedState=Je=e:Je=Je.next=e,Je}function Oe(){if(we===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Je===null?pe.memoizedState:Je.next;if(t!==null)Je=t,we=e;else{if(e===null)throw pe.alternate===null?Error(s(467)):Error(s(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Je===null?pe.memoizedState=Je=e:Je=Je.next=e}return Je}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var t=Sl;return Sl+=1,Ri===null&&(Ri=[]),e=Mc(Ri,e,t),t=pe,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?xd:zs),e}function Ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===O)return et(e)}throw Error(s(438,String(e)))}function Rs(e){var t=null,l=pe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=wo(),pe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=te;return t.index++,l}function $t(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=Oe();return Is(t,we,e)}function Is(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var d=e.baseQueue,h=a.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}t.baseQueue=d=h,a.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{t=d.next;var b=T=null,A=null,I=t,q=!1;do{var B=I.lane&-536870913;if(B!==I.lane?(xe&B)===B:(Zt&B)===B){var k=I.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),B===Ci&&(q=!0);else if((Zt&k)===k){I=I.next,k===Ci&&(q=!0);continue}else B={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(b=A=B,T=h):A=A.next=B,pe.lanes|=k,Cn|=k;B=I.action,Zn&&l(h,B),h=I.hasEagerState?I.eagerState:l(h,B)}else k={lane:B,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(b=A=k,T=h):A=A.next=k,pe.lanes|=B,Cn|=B;I=I.next}while(I!==null&&I!==t);if(A===null?T=h:A.next=b,!yt(h,e.memoizedState)&&(Fe=!0,q&&(l=Ai,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=A,a.lastRenderedState=h}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ks(e){var t=Oe(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,h=t.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do h=e(h,T.action),T=T.next;while(T!==d);yt(h,t.memoizedState)||(Fe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),l.lastRenderedState=h}return[h,a]}function Hc(e,t,l){var a=pe,d=Oe(),h=Se;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=t();var T=!yt((we||d).memoizedState,l);if(T&&(d.memoizedState=l,Fe=!0),d=d.queue,Ls(Bc.bind(null,a,d,e),[e]),d.getSnapshot!==t||T||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,Ii(9,{destroy:void 0},zc.bind(null,a,d,l,t),null),ke===null)throw Error(s(349));h||(Zt&127)!==0||Pc(a,t,l)}return l}function Pc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=pe.updateQueue,t===null?(t=wo(),pe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function zc(e,t,l,a){t.value=l,t.getSnapshot=a,Oc(t)&&Yc(e)}function Bc(e,t,l){return l(function(){Oc(t)&&Yc(e)})}function Oc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!yt(e,l)}catch{return!0}}function Yc(e){var t=Bn(e,2);t!==null&&ht(t,e,2)}function Ds(e){var t=at();if(typeof e=="function"){var l=e;if(e=l(),Zn){cn(!0);try{l()}finally{cn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:e},t}function Jc(e,t,l,a){return e.baseState=l,Is(e,we,typeof a=="function"?a:$t)}function Kg(e,t,l,a,d){if(Uo(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};V.T!==null?l(!0):h.isTransition=!1,a(h),l=t.pending,l===null?(h.next=t.pending=h,Fc(t,h)):(h.next=l.next,t.pending=l.next=h)}}function Fc(e,t){var l=t.action,a=t.payload,d=e.state;if(t.isTransition){var h=V.T,T={};V.T=T;try{var b=l(d,a),A=V.S;A!==null&&A(T,b),Kc(e,t,b)}catch(I){Us(e,t,I)}finally{h!==null&&T.types!==null&&(h.types=T.types),V.T=h}}else try{h=l(d,a),Kc(e,t,h)}catch(I){Us(e,t,I)}}function Kc(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){jc(e,t,a)},function(a){return Us(e,t,a)}):jc(e,t,l)}function jc(e,t,l){t.status="fulfilled",t.value=l,Xc(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Fc(e,l)))}function Us(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Xc(t),t=t.next;while(t!==a)}e.action=null}function Xc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qc(e,t){return t}function Zc(e,t){if(Se){var l=ke.formState;if(l!==null){e:{var a=pe;if(Se){if(Ue){t:{for(var d=Ue,h=Rt;d.nodeType!==8;){if(!h){d=null;break t}if(d=kt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ue=kt(d.nextSibling),a=d.data==="F!";break e}}mn(a)}a=!1}a&&(t=l[0])}}return l=at(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},l.queue=a,l=gd.bind(null,pe,a),a.dispatch=l,a=Ds(!1),h=Ps.bind(null,pe,!1,a.queue),a=at(),d={state:t,dispatch:null,action:e,pending:null},a.queue=d,l=Kg.bind(null,pe,d,h,l),d.dispatch=l,a.memoizedState=e,[t,l,!1]}function $c(e){var t=Oe();return Wc(t,we,e)}function Wc(e,t,l){if(t=Is(e,t,Qc)[0],e=Io($t)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=El(t)}catch(T){throw T===Ni?So:T}else a=t;t=Oe();var d=t.queue,h=d.dispatch;return l!==t.memoizedState&&(pe.flags|=2048,Ii(9,{destroy:void 0},jg.bind(null,d,l),null)),[a,h,e]}function jg(e,t){e.action=t}function ed(e){var t=Oe(),l=we;if(l!==null)return Wc(t,l,e);Oe(),t=t.memoizedState,l=Oe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ii(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=pe.updateQueue,t===null&&(t=wo(),pe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function td(){return Oe().memoizedState}function ko(e,t,l,a){var d=at();pe.flags|=e,d.memoizedState=Ii(1|t,{destroy:void 0},l,a===void 0?null:a)}function Do(e,t,l,a){var d=Oe();a=a===void 0?null:a;var h=d.memoizedState.inst;we!==null&&a!==null&&As(a,we.memoizedState.deps)?d.memoizedState=Ii(t,h,l,a):(pe.flags|=e,d.memoizedState=Ii(1|t,h,l,a))}function nd(e,t){ko(8390656,8,e,t)}function Ls(e,t){Do(2048,8,e,t)}function Xg(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=wo(),pe.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function id(e){var t=Oe().memoizedState;return Xg({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function ld(e,t){return Do(4,2,e,t)}function od(e,t){return Do(4,4,e,t)}function ad(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sd(e,t,l){l=l!=null?l.concat([e]):null,Do(4,4,ad.bind(null,t,e),l)}function Gs(){}function rd(e,t){var l=Oe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&As(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function ud(e,t){var l=Oe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&As(t,a[1]))return a[0];if(a=e(),Zn){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[a,t],a}function Vs(e,t,l){return l===void 0||(Zt&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=df(),pe.lanes|=e,Cn|=e,l)}function cd(e,t,l,a){return yt(l,t)?l:Mi.current!==null?(e=Vs(e,l,a),yt(e,t)||(Fe=!0),e):(Zt&42)===0||(Zt&1073741824)!==0&&(xe&261930)===0?(Fe=!0,e.memoizedState=l):(e=df(),pe.lanes|=e,Cn|=e,t)}function dd(e,t,l,a,d){var h=H.p;H.p=h!==0&&8>h?h:8;var T=V.T,b={};V.T=b,Ps(e,!1,t,l);try{var A=d(),I=V.S;if(I!==null&&I(b,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=Yg(A,a);bl(e,t,q,bt(e))}else bl(e,t,a,bt(e))}catch(B){bl(e,t,{then:function(){},status:"rejected",reason:B},bt())}finally{H.p=h,T!==null&&b.types!==null&&(T.types=b.types),V.T=T}}function Qg(){}function qs(e,t,l,a){if(e.tag!==5)throw Error(s(476));var d=fd(e).queue;dd(e,d,t,ne,l===null?Qg:function(){return hd(e),l(a)})}function fd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:ne},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hd(e){var t=fd(e);t.next===null&&(t=e.alternate.memoizedState),bl(e,t.next.queue,{},bt())}function Hs(){return et(Pl)}function pd(){return Oe().memoizedState}function md(){return Oe().memoizedState}function Zg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=bt();e=vn(l);var a=xn(t,e,l);a!==null&&(ht(a,t,l),vl(a,t,l)),t={cache:ps()},e.payload=t;return}t=t.return}}function $g(e,t,l){var a=bt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uo(e)?yd(t,l):(l=is(e,t,l,a),l!==null&&(ht(l,e,a),vd(l,t,a)))}function gd(e,t,l){var a=bt();bl(e,t,l,a)}function bl(e,t,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))yd(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var T=t.lastRenderedState,b=h(T,l);if(d.hasEagerState=!0,d.eagerState=b,yt(b,T))return po(e,t,d,0),ke===null&&ho(),!1}catch{}finally{}if(l=is(e,t,d,a),l!==null)return ht(l,e,a),vd(l,t,a),!0}return!1}function Ps(e,t,l,a){if(a={lane:2,revertLane:vr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(s(479))}else t=is(e,l,a,2),t!==null&&ht(t,e,2)}function Uo(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function yd(e,t){wi=_o=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function vd(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,bu(e,l)}}var Cl={readContext:et,use:Ro,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Cl.useEffectEvent=qe;var xd={readContext:et,use:Ro,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:nd,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ko(4194308,4,ad.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){ko(4,2,e,t)},useMemo:function(e,t){var l=at();t=t===void 0?null:t;var a=e();if(Zn){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=at();if(l!==void 0){var d=l(t);if(Zn){cn(!0);try{l(t)}finally{cn(!1)}}}else d=t;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=$g.bind(null,pe,e),[a.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Ds(e);var t=e.queue,l=gd.bind(null,pe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Gs,useDeferredValue:function(e,t){var l=at();return Vs(l,e,t)},useTransition:function(){var e=Ds(!1);return e=dd.bind(null,pe,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=pe,d=at();if(Se){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),ke===null)throw Error(s(349));(xe&127)!==0||Pc(a,t,l)}d.memoizedState=l;var h={value:l,getSnapshot:t};return d.queue=h,nd(Bc.bind(null,a,h,e),[e]),a.flags|=2048,Ii(9,{destroy:void 0},zc.bind(null,a,h,l,t),null),l},useId:function(){var e=at(),t=ke.identifierPrefix;if(Se){var l=zt,a=Pt;l=(a&~(1<<32-gt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Mo++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Jg++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Hs,useFormState:Zc,useActionState:Zc,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Ps.bind(null,pe,!0,l),l.dispatch=t,[e,t]},useMemoCache:Rs,useCacheRefresh:function(){return at().memoizedState=Zg.bind(null,pe)},useEffectEvent:function(e){var t=at(),l={impl:e};return t.memoizedState=l,function(){if((Ae&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},zs={readContext:et,use:Ro,useCallback:rd,useContext:et,useEffect:Ls,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:od,useMemo:ud,useReducer:Io,useRef:td,useState:function(){return Io($t)},useDebugValue:Gs,useDeferredValue:function(e,t){var l=Oe();return cd(l,we.memoizedState,e,t)},useTransition:function(){var e=Io($t)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:El(e),t]},useSyncExternalStore:Hc,useId:pd,useHostTransitionStatus:Hs,useFormState:$c,useActionState:$c,useOptimistic:function(e,t){var l=Oe();return Jc(l,we,e,t)},useMemoCache:Rs,useCacheRefresh:md};zs.useEffectEvent=id;var Td={readContext:et,use:Ro,useCallback:rd,useContext:et,useEffect:Ls,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:od,useMemo:ud,useReducer:ks,useRef:td,useState:function(){return ks($t)},useDebugValue:Gs,useDeferredValue:function(e,t){var l=Oe();return we===null?Vs(l,e,t):cd(l,we.memoizedState,e,t)},useTransition:function(){var e=ks($t)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:El(e),t]},useSyncExternalStore:Hc,useId:pd,useHostTransitionStatus:Hs,useFormState:ed,useActionState:ed,useOptimistic:function(e,t){var l=Oe();return we!==null?Jc(l,we,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Rs,useCacheRefresh:md};Td.useEffectEvent=id;function Bs(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Os={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=bt(),d=vn(a);d.payload=t,l!=null&&(d.callback=l),t=xn(e,d,a),t!==null&&(ht(t,e,a),vl(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=bt(),d=vn(a);d.tag=1,d.payload=t,l!=null&&(d.callback=l),t=xn(e,d,a),t!==null&&(ht(t,e,a),vl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=bt(),a=vn(l);a.tag=2,t!=null&&(a.callback=t),t=xn(e,a,l),t!==null&&(ht(t,e,l),vl(t,e,l))}};function Sd(e,t,l,a,d,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,T):t.prototype&&t.prototype.isPureReactComponent?!cl(l,a)||!cl(d,h):!0}function Ed(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Os.enqueueReplaceState(t,t.state,null)}function $n(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function bd(e){fo(e)}function Cd(e){console.error(e)}function Ad(e){fo(e)}function Lo(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Nd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ys(e,t,l){return l=vn(l),l.tag=3,l.payload={element:null},l.callback=function(){Lo(e,t)},l}function _d(e){return e=vn(e),e.tag=3,e}function Md(e,t,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var h=a.value;e.payload=function(){return d(h)},e.callback=function(){Nd(t,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Nd(t,l,a),typeof d!="function"&&(An===null?An=new Set([this]):An.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function Wg(e,t,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&bi(t,l,d,!0),l=xt.current,l!==null){switch(l.tag){case 31:case 13:return It===null?Ko():l.alternate===null&&He===0&&(He=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===Eo?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),mr(e,a,d)),!1;case 22:return l.flags|=65536,a===Eo?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),mr(e,a,d)),!1}throw Error(s(435,l.tag))}return mr(e,a,d),Ko(),!1}if(Se)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,a!==us&&(e=Error(s(422),{cause:a}),hl(_t(e,l)))):(a!==us&&(t=Error(s(423),{cause:a}),hl(_t(t,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=_t(a,l),d=Ys(e.stateNode,a,d),Ts(e,d),He!==4&&(He=2)),!1;var h=Error(s(520),{cause:a});if(h=_t(h,l),kl===null?kl=[h]:kl.push(h),He!==4&&(He=2),t===null)return!0;a=_t(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Ys(l.stateNode,a,e),Ts(l,e),!1;case 1:if(t=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(An===null||!An.has(h))))return l.flags|=65536,d&=-d,l.lanes|=d,d=_d(d),Md(d,e,l,a),Ts(l,d),!1}l=l.return}while(l!==null);return!1}var Js=Error(s(461)),Fe=!1;function tt(e,t,l,a){t.child=e===null?kc(t,null,l,a):Qn(t,e.child,l,a)}function wd(e,t,l,a,d){l=l.render;var h=t.ref;if("ref"in a){var T={};for(var b in a)b!=="ref"&&(T[b]=a[b])}else T=a;return Fn(t),a=Ns(e,t,l,T,h,d),b=_s(),e!==null&&!Fe?(Ms(e,t,d),Wt(e,t,d)):(Se&&b&&ss(t),t.flags|=1,tt(e,t,a,d),t.child)}function Rd(e,t,l,a,d){if(e===null){var h=l.type;return typeof h=="function"&&!ls(h)&&h.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=h,Id(e,t,h,a,d)):(e=go(l.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Ws(e,d)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:cl,l(T,a)&&e.ref===t.ref)return Wt(e,t,d)}return t.flags|=1,e=Kt(h,a),e.ref=t.ref,e.return=t,t.child=e}function Id(e,t,l,a,d){if(e!==null){var h=e.memoizedProps;if(cl(h,a)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=a=h,Ws(e,d))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,Wt(e,t,d)}return Fs(e,t,l,a,d)}function kd(e,t,l,a){var d=a.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(a=t.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~h}else a=0,t.child=null;return Dd(e,t,h,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(t,h!==null?h.cachePool:null),h!==null?Lc(t,h):Es(),Gc(t);else return a=t.lanes=536870912,Dd(e,t,h!==null?h.baseLanes|l:l,l,a)}else h!==null?(To(t,h.cachePool),Lc(t,h),Sn(),t.memoizedState=null):(e!==null&&To(t,null),Es(),Sn());return tt(e,t,d,l),t.child}function Al(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Dd(e,t,l,a,d){var h=gs();return h=h===null?null:{parent:Ye._currentValue,pool:h},t.memoizedState={baseLanes:l,cachePool:h},e!==null&&To(t,null),Es(),Gc(t),e!==null&&bi(e,t,a,!0),t.childLanes=d,null}function Go(e,t){return t=qo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ud(e,t,l){return Qn(t,e.child,null,l),e=Go(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function ey(e,t,l){var a=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(a.mode==="hidden")return e=Go(t,a),t.lanes=536870912,Al(null,e);if(Cs(t),(e=Ue)?(e=Kf(e,Rt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hn!==null?{id:Pt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},l=yc(e),l.return=t,t.child=l,We=t,Ue=null)):e=null,e===null)throw mn(t);return t.lanes=536870912,null}return Go(t,a)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(Cs(t),d)if(t.flags&256)t.flags&=-257,t=Ud(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Fe||bi(e,t,l,!1),d=(l&e.childLanes)!==0,Fe||d){if(a=ke,a!==null&&(T=Cu(a,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,Bn(e,T),ht(a,e,T),Js;Ko(),t=Ud(e,t,l)}else e=h.treeContext,Ue=kt(T.nextSibling),We=t,Se=!0,pn=null,Rt=!1,e!==null&&Tc(t,e),t=Go(t,a),t.flags|=4096;return t}return e=Kt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Fs(e,t,l,a,d){return Fn(t),l=Ns(e,t,l,a,void 0,d),a=_s(),e!==null&&!Fe?(Ms(e,t,d),Wt(e,t,d)):(Se&&a&&ss(t),t.flags|=1,tt(e,t,l,d),t.child)}function Ld(e,t,l,a,d,h){return Fn(t),t.updateQueue=null,l=qc(t,a,l,d),Vc(e),a=_s(),e!==null&&!Fe?(Ms(e,t,h),Wt(e,t,h)):(Se&&a&&ss(t),t.flags|=1,tt(e,t,l,h),t.child)}function Gd(e,t,l,a,d){if(Fn(t),t.stateNode===null){var h=xi,T=l.contextType;typeof T=="object"&&T!==null&&(h=et(T)),h=new l(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Os,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},vs(t),T=l.contextType,h.context=typeof T=="object"&&T!==null?et(T):xi,h.state=t.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Bs(t,l,T,a),h.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Os.enqueueReplaceState(h,h.state,null),Tl(t,a,h,d),xl(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,A=$n(l,b);h.props=A;var I=h.context,q=l.contextType;T=xi,typeof q=="object"&&q!==null&&(T=et(q));var B=l.getDerivedStateFromProps;q=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||I!==T)&&Ed(t,h,a,T),yn=!1;var k=t.memoizedState;h.state=k,Tl(t,a,h,d),xl(),I=t.memoizedState,b||k!==I||yn?(typeof B=="function"&&(Bs(t,l,B,a),I=t.memoizedState),(A=yn||Sd(t,l,A,a,k,I,T))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),h.props=a,h.state=I,h.context=T,a=A):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,xs(e,t),T=t.memoizedProps,q=$n(l,T),h.props=q,B=t.pendingProps,k=h.context,I=l.contextType,A=xi,typeof I=="object"&&I!==null&&(A=et(I)),b=l.getDerivedStateFromProps,(I=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==B||k!==A)&&Ed(t,h,a,A),yn=!1,k=t.memoizedState,h.state=k,Tl(t,a,h,d),xl();var G=t.memoizedState;T!==B||k!==G||yn||e!==null&&e.dependencies!==null&&vo(e.dependencies)?(typeof b=="function"&&(Bs(t,l,b,a),G=t.memoizedState),(q=yn||Sd(t,l,q,a,k,G,A)||e!==null&&e.dependencies!==null&&vo(e.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,G,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,G,A)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),h.props=a,h.state=G,h.context=A,a=q):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,Vo(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=Qn(t,e.child,null,d),t.child=Qn(t,null,l,d)):tt(e,t,l,d),t.memoizedState=h.state,e=t.child):e=Wt(e,t,d),e}function Vd(e,t,l,a){return Yn(),t.flags|=256,tt(e,t,l,a),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(e){return{baseLanes:e,cachePool:Nc()}}function Xs(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Et),e}function qd(e,t,l){var a=t.pendingProps,d=!1,h=(t.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(d=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(d?Tn(t):Sn(),(e=Ue)?(e=Kf(e,Rt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hn!==null?{id:Pt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},l=yc(e),l.return=t,t.child=l,We=t,Ue=null)):e=null,e===null)throw mn(t);return Ir(e)?t.lanes=32:t.lanes=536870912,null}var b=a.children;return a=a.fallback,d?(Sn(),d=t.mode,b=qo({mode:"hidden",children:b},d),a=On(a,d,l,null),b.return=t,a.return=t,b.sibling=a,t.child=b,a=t.child,a.memoizedState=js(l),a.childLanes=Xs(e,T,l),t.memoizedState=Ks,Al(null,a)):(Tn(t),Qs(t,b))}var A=e.memoizedState;if(A!==null&&(b=A.dehydrated,b!==null)){if(h)t.flags&256?(Tn(t),t.flags&=-257,t=Zs(e,t,l)):t.memoizedState!==null?(Sn(),t.child=e.child,t.flags|=128,t=null):(Sn(),b=a.fallback,d=t.mode,a=qo({mode:"visible",children:a.children},d),b=On(b,d,l,null),b.flags|=2,a.return=t,b.return=t,a.sibling=b,t.child=a,Qn(t,e.child,null,l),a=t.child,a.memoizedState=js(l),a.childLanes=Xs(e,T,l),t.memoizedState=Ks,t=Al(null,a));else if(Tn(t),Ir(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var I=T.dgst;T=I,a=Error(s(419)),a.stack="",a.digest=T,hl({value:a,source:null,stack:null}),t=Zs(e,t,l)}else if(Fe||bi(e,t,l,!1),T=(l&e.childLanes)!==0,Fe||T){if(T=ke,T!==null&&(a=Cu(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,Bn(e,a),ht(T,e,a),Js;Rr(b)||Ko(),t=Zs(e,t,l)}else Rr(b)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ue=kt(b.nextSibling),We=t,Se=!0,pn=null,Rt=!1,e!==null&&Tc(t,e),t=Qs(t,a.children),t.flags|=4096);return t}return d?(Sn(),b=a.fallback,d=t.mode,A=e.child,I=A.sibling,a=Kt(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,I!==null?b=Kt(I,b):(b=On(b,d,l,null),b.flags|=2),b.return=t,a.return=t,a.sibling=b,t.child=a,Al(null,a),a=t.child,b=e.child.memoizedState,b===null?b=js(l):(d=b.cachePool,d!==null?(A=Ye._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Nc(),b={baseLanes:b.baseLanes|l,cachePool:d}),a.memoizedState=b,a.childLanes=Xs(e,T,l),t.memoizedState=Ks,Al(e.child,a)):(Tn(t),l=e.child,e=l.sibling,l=Kt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=l,t.memoizedState=null,l)}function Qs(e,t){return t=qo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qo(e,t){return e=vt(22,e,null,t),e.lanes=0,e}function Zs(e,t,l){return Qn(t,e.child,null,l),e=Qs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fs(e.return,t,l)}function $s(e,t,l,a,d,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:h}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=d,T.treeForkCount=h)}function Pd(e,t,l){var a=t.pendingProps,d=a.revealOrder,h=a.tail;a=a.children;var T=Be.current,b=(T&2)!==0;if(b?(T=T&1|2,t.flags|=128):T&=1,Z(Be,T),tt(e,t,a,l),a=Se?fl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,l,t);else if(e.tag===19)Hd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=t.child,d=null;l!==null;)e=l.alternate,e!==null&&No(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=t.child,t.child=null):(d=l.sibling,l.sibling=null),$s(t,!1,d,l,h,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&No(e)===null){t.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}$s(t,!0,l,null,h,a);break;case"together":$s(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Wt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(bi(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=Kt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Kt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ws(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vo(e)))}function ty(e,t,l){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),gn(t,Ye,e.memoizedState.cache),Yn();break;case 27:case 5:Zi(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:gn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cs(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Tn(t),t.flags|=128,null):(l&t.child.childLanes)!==0?qd(e,t,l):(Tn(t),e=Wt(e,t,l),e!==null?e.sibling:null);Tn(t);break;case 19:var d=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(bi(e,t,l,!1),a=(l&t.childLanes)!==0),d){if(a)return Pd(e,t,l);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Be,Be.current),a)break;return null;case 22:return t.lanes=0,kd(e,t,l,t.pendingProps);case 24:gn(t,Ye,e.memoizedState.cache)}return Wt(e,t,l)}function zd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!Ws(e,l)&&(t.flags&128)===0)return Fe=!1,ty(e,t,l);Fe=(e.flags&131072)!==0}else Fe=!1,Se&&(t.flags&1048576)!==0&&xc(t,fl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=jn(t.elementType),t.type=e,typeof e=="function")ls(e)?(a=$n(e,a),t.tag=1,t=Gd(null,t,e,a,l)):(t.tag=0,t=Fs(null,t,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===J){t.tag=11,t=wd(null,t,e,a,l);break e}else if(d===K){t.tag=14,t=Rd(null,t,e,a,l);break e}}throw t=Xe(e)||e,Error(s(306,t,""))}}return t;case 0:return Fs(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,d=$n(a,t.pendingProps),Gd(e,t,a,d,l);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var h=t.memoizedState;d=h.element,xs(e,t),Tl(t,a,null,l);var T=t.memoizedState;if(a=T.cache,gn(t,Ye,a),a!==h.cache&&hs(t,[Ye],l,!0),xl(),a=T.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Vd(e,t,a,l);break e}else if(a!==d){d=_t(Error(s(424)),t),hl(d),t=Vd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=kt(e.firstChild),We=t,Se=!0,pn=null,Rt=!0,l=kc(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Yn(),a===d){t=Wt(e,t,l);break e}tt(e,t,a,l)}t=t.child}return t;case 26:return Vo(e,t),e===null?(l=Wf(t.type,null,t.pendingProps,null))?t.memoizedState=l:Se||(l=t.type,e=t.pendingProps,a=ea(ge.current).createElement(l),a[$e]=t,a[st]=e,nt(a,l,e),Qe(a),t.stateNode=a):t.memoizedState=Wf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zi(t),e===null&&Se&&(a=t.stateNode=Qf(t.type,t.pendingProps,ge.current),We=t,Rt=!0,d=Ue,wn(t.type)?(kr=d,Ue=kt(a.firstChild)):Ue=d),tt(e,t,t.pendingProps.children,l),Vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((d=a=Ue)&&(a=Iy(a,t.type,t.pendingProps,Rt),a!==null?(t.stateNode=a,We=t,Ue=kt(a.firstChild),Rt=!1,d=!0):d=!1),d||mn(t)),Zi(t),d=t.type,h=t.pendingProps,T=e!==null?e.memoizedProps:null,a=h.children,_r(d,h)?a=null:T!==null&&_r(d,T)&&(t.flags|=32),t.memoizedState!==null&&(d=Ns(e,t,Fg,null,null,l),Pl._currentValue=d),Vo(e,t),tt(e,t,a,l),t.child;case 6:return e===null&&Se&&((e=l=Ue)&&(l=ky(l,t.pendingProps,Rt),l!==null?(t.stateNode=l,We=t,Ue=null,e=!0):e=!1),e||mn(t)),null;case 13:return qd(e,t,l);case 4:return ot(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qn(t,null,a,l):tt(e,t,a,l),t.child;case 11:return wd(e,t,t.type,t.pendingProps,l);case 7:return tt(e,t,t.pendingProps,l),t.child;case 8:return tt(e,t,t.pendingProps.children,l),t.child;case 12:return tt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,gn(t,t.type,a.value),tt(e,t,a.children,l),t.child;case 9:return d=t.type._context,a=t.pendingProps.children,Fn(t),d=et(d),a=a(d),t.flags|=1,tt(e,t,a,l),t.child;case 14:return Rd(e,t,t.type,t.pendingProps,l);case 15:return Id(e,t,t.type,t.pendingProps,l);case 19:return Pd(e,t,l);case 31:return ey(e,t,l);case 22:return kd(e,t,l,t.pendingProps);case 24:return Fn(t),a=et(Ye),e===null?(d=gs(),d===null&&(d=ke,h=ps(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=l),d=h),t.memoizedState={parent:a,cache:d},vs(t),gn(t,Ye,d)):((e.lanes&l)!==0&&(xs(e,t),Tl(t,null,null,l),xl()),d=e.memoizedState,h=t.memoizedState,d.parent!==a?(d={parent:a,cache:a},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),gn(t,Ye,a)):(a=h.cache,gn(t,Ye,a),a!==d.cache&&hs(t,[Ye],l,!0))),tt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function en(e){e.flags|=4}function er(e,t,l,a,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(mf())e.flags|=8192;else throw Xn=Eo,ys}else e.flags&=-16777217}function Bd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lh(t))if(mf())e.flags|=8192;else throw Xn=Eo,ys}function Ho(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Su():536870912,e.lanes|=t,Li|=t)}function Nl(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function ny(e,t,l){var a=t.pendingProps;switch(rs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(Ye),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?en(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cs())),Le(t),null;case 26:var d=t.type,h=t.memoizedState;return e===null?(en(t),h!==null?(Le(t),Bd(t,h)):(Le(t),er(t,d,null,a,l))):h?h!==e.memoizedState?(en(t),Le(t),Bd(t,h)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&en(t),Le(t),er(t,d,e,a,l)),null;case 27:if(Xl(t),l=ge.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&en(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Le(t),null}e=oe.current,Ei(t)?Sc(t):(e=Qf(d,a,l),t.stateNode=e,en(t))}return Le(t),null;case 5:if(Xl(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&en(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Le(t),null}if(h=oe.current,Ei(t))Sc(t);else{var T=ea(ge.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?T.createElement(d,{is:a.is}):T.createElement(d)}}h[$e]=t,h[st]=a;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=h;e:switch(nt(h,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&en(t)}}return Le(t),er(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&en(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ge.current,Ei(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,d=We,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[$e]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Hf(e.nodeValue,l)),e||mn(t,!0)}else e=ea(e).createTextNode(a),e[$e]=t,t.stateNode=e}return Le(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ei(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[$e]=t}else Yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else l=cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Le(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ei(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[$e]=t}else Yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),d=!1}else d=cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==d&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ho(t,t.updateQueue),Le(t),null);case 4:return ze(),e===null&&Er(t.stateNode.containerInfo),Le(t),null;case 10:return Qt(t.type),Le(t),null;case 19:if(U(Be),a=t.memoizedState,a===null)return Le(t),null;if(d=(t.flags&128)!==0,h=a.rendering,h===null)if(d)Nl(a,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=No(e),h!==null){for(t.flags|=128,Nl(a,!1),e=h.updateQueue,t.updateQueue=e,Ho(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)gc(l,e),l=l.sibling;return Z(Be,Be.current&1|2),Se&&jt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&pt()>Yo&&(t.flags|=128,d=!0,Nl(a,!1),t.lanes=4194304)}else{if(!d)if(e=No(h),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Ho(t,e),Nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!Se)return Le(t),null}else 2*pt()-a.renderingStartTime>Yo&&l!==536870912&&(t.flags|=128,d=!0,Nl(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(e=a.last,e!==null?e.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pt(),e.sibling=null,l=Be.current,Z(Be,d?l&1|2:l&1),Se&&jt(t,a.treeForkCount),e):(Le(t),null);case 22:case 23:return Tt(t),bs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),l=t.updateQueue,l!==null&&Ho(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&U(Kn),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Qt(Ye),Le(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function iy(e,t){switch(rs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(Ye),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xl(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(s(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Be),null;case 4:return ze(),null;case 10:return Qt(t.type),null;case 22:case 23:return Tt(t),bs(),e!==null&&U(Kn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(Ye),null;case 25:return null;default:return null}}function Od(e,t){switch(rs(t),t.tag){case 3:Qt(Ye),ze();break;case 26:case 27:case 5:Xl(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:U(Be);break;case 10:Qt(t.type);break;case 22:case 23:Tt(t),bs(),e!==null&&U(Kn);break;case 24:Qt(Ye)}}function _l(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var h=l.create,T=l.inst;a=h(),T.destroy=a}l=l.next}while(l!==d)}}catch(b){Me(t,t.return,b)}}function En(e,t,l){try{var a=t.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var h=d.next;a=h;do{if((a.tag&e)===e){var T=a.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=t;var A=l,I=b;try{I()}catch(q){Me(d,A,q)}}}a=a.next}while(a!==h)}}catch(q){Me(t,t.return,q)}}function Yd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Uc(t,l)}catch(a){Me(e,e.return,a)}}}function Jd(e,t,l){l.props=$n(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Me(e,t,a)}}function Ml(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Me(e,t,d)}}function Bt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Me(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Me(e,t,d)}else l.current=null}function Fd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Me(e,e.return,d)}}function tr(e,t,l){try{var a=e.stateNode;Ay(a,e.type,l,t),a[st]=t}catch(d){Me(e,e.return,d)}}function Kd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wn(e.type)||e.tag===4}function nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ir(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Jt));else if(a!==4&&(a===27&&wn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(ir(e,t,l),e=e.sibling;e!==null;)ir(e,t,l),e=e.sibling}function Po(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&wn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Po(e,t,l),e=e.sibling;e!==null;)Po(e,t,l),e=e.sibling}function jd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);nt(t,a,l),t[$e]=e,t[st]=l}catch(h){Me(e,e.return,h)}}var tn=!1,Ke=!1,lr=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ly(e,t){if(e=e.containerInfo,Ar=sa,e=sc(e),Za(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,b=-1,A=-1,I=0,q=0,B=e,k=null;t:for(;;){for(var G;B!==l||d!==0&&B.nodeType!==3||(b=T+d),B!==h||a!==0&&B.nodeType!==3||(A=T+a),B.nodeType===3&&(T+=B.nodeValue.length),(G=B.firstChild)!==null;)k=B,B=G;for(;;){if(B===e)break t;if(k===l&&++I===d&&(b=T),k===h&&++q===a&&(A=T),(G=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=G}l=b===-1||A===-1?null:{start:b,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nr={focusedElem:e,selectionRange:l},sa=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=t,d=h.memoizedProps,h=h.memoizedState,a=l.stateNode;try{var le=$n(l.type,d);e=a.getSnapshotBeforeUpdate(le,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Me(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Qd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ln(e,l),a&4&&_l(5,l);break;case 1:if(ln(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(T){Me(l,l.return,T)}else{var d=$n(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Me(l,l.return,T)}}a&64&&Yd(l),a&512&&Ml(l,l.return);break;case 3:if(ln(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Uc(e,t)}catch(T){Me(l,l.return,T)}}break;case 27:t===null&&a&4&&jd(l);case 26:case 5:ln(e,l),t===null&&a&4&&Fd(l),a&512&&Ml(l,l.return);break;case 12:ln(e,l);break;case 31:ln(e,l),a&4&&Wd(e,l);break;case 13:ln(e,l),a&4&&ef(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=hy.bind(null,l),Dy(e,l))));break;case 22:if(a=l.memoizedState!==null||tn,!a){t=t!==null&&t.memoizedState!==null||Ke,d=tn;var h=Ke;tn=a,(Ke=t)&&!h?on(e,l,(l.subtreeFlags&8772)!==0):ln(e,l),tn=d,Ke=h}break;case 30:break;default:ln(e,l)}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ua(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,ut=!1;function nn(e,t,l){for(l=l.child;l!==null;)$d(e,t,l),l=l.sibling}function $d(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount($i,l)}catch{}switch(l.tag){case 26:Ke||Bt(l,t),nn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||Bt(l,t);var a=Ve,d=ut;wn(l.type)&&(Ve=l.stateNode,ut=!1),nn(e,t,l),Vl(l.stateNode),Ve=a,ut=d;break;case 5:Ke||Bt(l,t);case 6:if(a=Ve,d=ut,Ve=null,nn(e,t,l),Ve=a,ut=d,Ve!==null)if(ut)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(h){Me(l,t,h)}else try{Ve.removeChild(l.stateNode)}catch(h){Me(l,t,h)}break;case 18:Ve!==null&&(ut?(e=Ve,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Oi(e)):Jf(Ve,l.stateNode));break;case 4:a=Ve,d=ut,Ve=l.stateNode.containerInfo,ut=!0,nn(e,t,l),Ve=a,ut=d;break;case 0:case 11:case 14:case 15:En(2,l,t),Ke||En(4,l,t),nn(e,t,l);break;case 1:Ke||(Bt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Jd(l,t,a)),nn(e,t,l);break;case 21:nn(e,t,l);break;case 22:Ke=(a=Ke)||l.memoizedState!==null,nn(e,t,l),Ke=a;break;default:nn(e,t,l)}}function Wd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oi(e)}catch(l){Me(t,t.return,l)}}}function ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oi(e)}catch(l){Me(t,t.return,l)}}function oy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xd),t;default:throw Error(s(435,e.tag))}}function zo(e,t){var l=oy(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var d=py.bind(null,e,a);a.then(d,d)}})}function ct(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],h=e,T=t,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(wn(b.type)){Ve=b.stateNode,ut=!1;break e}break;case 5:Ve=b.stateNode,ut=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,ut=!0;break e}b=b.return}if(Ve===null)throw Error(s(160));$d(h,T,d),Ve=null,ut=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)tf(t,e),t=t.sibling}var Vt=null;function tf(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),dt(e),a&4&&(En(3,e,e.return),_l(3,e),En(5,e,e.return));break;case 1:ct(t,e),dt(e),a&512&&(Ke||l===null||Bt(l,l.return)),a&64&&tn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=Vt;if(ct(t,e),dt(e),a&512&&(Ke||l===null||Bt(l,l.return)),a&4){var h=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":h=d.getElementsByTagName("title")[0],(!h||h[tl]||h[$e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(a),d.head.insertBefore(h,d.querySelector("head > title"))),nt(h,a,l),h[$e]=e,Qe(h),a=h;break e;case"link":var T=nh("link","href",d).get(a+(l.href||""));if(T){for(var b=0;b<T.length;b++)if(h=T[b],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(b,1);break t}}h=d.createElement(a),nt(h,a,l),d.head.appendChild(h);break;case"meta":if(T=nh("meta","content",d).get(a+(l.content||""))){for(b=0;b<T.length;b++)if(h=T[b],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(b,1);break t}}h=d.createElement(a),nt(h,a,l),d.head.appendChild(h);break;default:throw Error(s(468,a))}h[$e]=e,Qe(h),a=h}e.stateNode=a}else ih(d,e.type,e.stateNode);else e.stateNode=th(d,a,e.memoizedProps);else h!==a?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,a===null?ih(d,e.type,e.stateNode):th(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&tr(e,e.memoizedProps,l.memoizedProps)}break;case 27:ct(t,e),dt(e),a&512&&(Ke||l===null||Bt(l,l.return)),l!==null&&a&4&&tr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ct(t,e),dt(e),a&512&&(Ke||l===null||Bt(l,l.return)),e.flags&32){d=e.stateNode;try{fi(d,"")}catch(le){Me(e,e.return,le)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,tr(e,d,l!==null?l.memoizedProps:d)),a&1024&&(lr=!0);break;case 6:if(ct(t,e),dt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(le){Me(e,e.return,le)}}break;case 3:if(ia=null,d=Vt,Vt=ta(t.containerInfo),ct(t,e),Vt=d,dt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(le){Me(e,e.return,le)}lr&&(lr=!1,nf(e));break;case 4:a=Vt,Vt=ta(e.stateNode.containerInfo),ct(t,e),dt(e),Vt=a;break;case 12:ct(t,e),dt(e);break;case 31:ct(t,e),dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 13:ct(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Oo=pt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,I=tn,q=Ke;if(tn=I||d,Ke=q||A,ct(t,e),Ke=q,tn=I,dt(e),a&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(l===null||A||tn||Ke||Wn(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=A.stateNode;var B=A.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null;b.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(le){Me(A,A.return,le)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(le){Me(A,A.return,le)}}}else if(t.tag===18){if(l===null){A=t;try{var G=A.stateNode;d?Ff(G,!0):Ff(A.stateNode,!1)}catch(le){Me(A,A.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,zo(e,l))));break;case 19:ct(t,e),dt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zo(e,a)));break;case 30:break;case 21:break;default:ct(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Kd(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,h=nr(e);Po(e,h,d);break;case 5:var T=l.stateNode;l.flags&32&&(fi(T,""),l.flags&=-33);var b=nr(e);Po(e,b,T);break;case 3:case 4:var A=l.stateNode.containerInfo,I=nr(e);ir(e,I,A);break;default:throw Error(s(161))}}catch(q){Me(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qd(e,t.alternate,t),t=t.sibling}function Wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:En(4,t,t.return),Wn(t);break;case 1:Bt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Jd(t,t.return,l),Wn(t);break;case 27:Vl(t.stateNode);case 26:case 5:Bt(t,t.return),Wn(t);break;case 22:t.memoizedState===null&&Wn(t);break;case 30:Wn(t);break;default:Wn(t)}e=e.sibling}}function on(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,d=e,h=t,T=h.flags;switch(h.tag){case 0:case 11:case 15:on(d,h,l),_l(4,h);break;case 1:if(on(d,h,l),a=h,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Me(a,a.return,I)}if(a=h,d=a.updateQueue,d!==null){var b=a.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Dc(A[d],b)}catch(I){Me(a,a.return,I)}}l&&T&64&&Yd(h),Ml(h,h.return);break;case 27:jd(h);case 26:case 5:on(d,h,l),l&&a===null&&T&4&&Fd(h),Ml(h,h.return);break;case 12:on(d,h,l);break;case 31:on(d,h,l),l&&T&4&&Wd(d,h);break;case 13:on(d,h,l),l&&T&4&&ef(d,h);break;case 22:h.memoizedState===null&&on(d,h,l),Ml(h,h.return);break;case 30:break;default:on(d,h,l)}t=t.sibling}}function or(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&pl(l))}function ar(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e))}function qt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lf(e,t,l,a),t=t.sibling}function lf(e,t,l,a){var d=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,l,a),d&2048&&_l(9,t);break;case 1:qt(e,t,l,a);break;case 3:qt(e,t,l,a),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e)));break;case 12:if(d&2048){qt(e,t,l,a),e=t.stateNode;try{var h=t.memoizedProps,T=h.id,b=h.onPostCommit;typeof b=="function"&&b(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Me(t,t.return,A)}}else qt(e,t,l,a);break;case 31:qt(e,t,l,a);break;case 13:qt(e,t,l,a);break;case 23:break;case 22:h=t.stateNode,T=t.alternate,t.memoizedState!==null?h._visibility&2?qt(e,t,l,a):wl(e,t):h._visibility&2?qt(e,t,l,a):(h._visibility|=2,ki(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),d&2048&&or(T,t);break;case 24:qt(e,t,l,a),d&2048&&ar(t.alternate,t);break;default:qt(e,t,l,a)}}function ki(e,t,l,a,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,T=t,b=l,A=a,I=T.flags;switch(T.tag){case 0:case 11:case 15:ki(h,T,b,A,d),_l(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?ki(h,T,b,A,d):wl(h,T):(q._visibility|=2,ki(h,T,b,A,d)),d&&I&2048&&or(T.alternate,T);break;case 24:ki(h,T,b,A,d),d&&I&2048&&ar(T.alternate,T);break;default:ki(h,T,b,A,d)}t=t.sibling}}function wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,d=a.flags;switch(a.tag){case 22:wl(l,a),d&2048&&or(a.alternate,a);break;case 24:wl(l,a),d&2048&&ar(a.alternate,a);break;default:wl(l,a)}t=t.sibling}}var Rl=8192;function Di(e,t,l){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)of(e,t,l),e=e.sibling}function of(e,t,l){switch(e.tag){case 26:Di(e,t,l),e.flags&Rl&&e.memoizedState!==null&&Jy(l,Vt,e.memoizedState,e.memoizedProps);break;case 5:Di(e,t,l);break;case 3:case 4:var a=Vt;Vt=ta(e.stateNode.containerInfo),Di(e,t,l),Vt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Rl,Rl=16777216,Di(e,t,l),Rl=a):Di(e,t,l));break;default:Di(e,t,l)}}function af(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Il(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ze=a,rf(a,e)}af(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sf(e),e=e.sibling}function sf(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&En(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bo(e)):Il(e);break;default:Il(e)}}function Bo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ze=a,rf(a,e)}af(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:En(8,t,t.return),Bo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Bo(t));break;default:Bo(t)}e=e.sibling}}function rf(e,t){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:En(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:pl(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ze=a;else e:for(l=e;Ze!==null;){a=Ze;var d=a.sibling,h=a.return;if(Zd(a),a===l){Ze=null;break e}if(d!==null){d.return=h,Ze=d;break e}Ze=h}}}var ay={getCacheForType:function(e){var t=et(Ye),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return et(Ye).controller.signal}},sy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ke=null,ye=null,xe=0,_e=0,St=null,bn=!1,Ui=!1,sr=!1,an=0,He=0,Cn=0,ei=0,rr=0,Et=0,Li=0,kl=null,ft=null,ur=!1,Oo=0,uf=0,Yo=1/0,Jo=null,An=null,je=0,Nn=null,Gi=null,sn=0,cr=0,dr=null,cf=null,Dl=0,fr=null;function bt(){return(Ae&2)!==0&&xe!==0?xe&-xe:V.T!==null?vr():Au()}function df(){if(Et===0)if((xe&536870912)===0||Se){var e=$l;$l<<=1,($l&3932160)===0&&($l=262144),Et=e}else Et=536870912;return e=xt.current,e!==null&&(e.flags|=32),Et}function ht(e,t,l){(e===ke&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Vi(e,0),_n(e,xe,Et,!1)),el(e,l),((Ae&2)===0||e!==ke)&&(e===ke&&((Ae&2)===0&&(ei|=l),He===4&&_n(e,xe,Et,!1)),Ot(e))}function ff(e,t,l){if((Ae&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Wi(e,t),d=a?cy(e,t):pr(e,t,!0),h=a;do{if(d===0){Ui&&!a&&_n(e,t,0,!1);break}else{if(l=e.current.alternate,h&&!ry(l)){d=pr(e,t,!1),h=!1;continue}if(d===2){if(h=t,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var b=e;d=kl;var A=b.current.memoizedState.isDehydrated;if(A&&(Vi(b,T).flags|=256),T=pr(b,T,!1),T!==2){if(sr&&!A){b.errorRecoveryDisabledLanes|=h,ei|=h,d=4;break e}h=ft,ft=d,h!==null&&(ft===null?ft=h:ft.push.apply(ft,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){Vi(e,0),_n(e,t,0,!0);break}e:{switch(a=e,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:_n(a,t,Et,!bn);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(d=Oo+300-pt(),10<d)){if(_n(a,t,Et,!bn),eo(a,0,!0)!==0)break e;sn=t,a.timeoutHandle=Of(hf.bind(null,a,l,ft,Jo,ur,t,Et,ei,Li,bn,h,"Throttled",-0,0),d);break e}hf(a,l,ft,Jo,ur,t,Et,ei,Li,bn,h,null,-0,0)}}break}while(!0);Ot(e)}function hf(e,t,l,a,d,h,T,b,A,I,q,B,k,G){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jt},of(t,h,B);var le=(h&62914560)===h?Oo-pt():(h&4194048)===h?uf-pt():0;if(le=Fy(B,le),le!==null){sn=h,e.cancelPendingCommit=le(Sf.bind(null,e,t,h,l,a,d,T,b,A,q,B,null,k,G)),_n(e,h,T,!I);return}}Sf(e,t,h,l,a,d,T,b,A)}function ry(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],h=d.getSnapshot;d=d.value;try{if(!yt(h(),d))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t,l,a){t&=~rr,t&=~ei,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var d=t;0<d;){var h=31-gt(d),T=1<<h;a[h]=-1,d&=~T}l!==0&&Eu(e,l,t)}function Fo(){return(Ae&6)===0?(Ul(0),!1):!0}function hr(){if(ye!==null){if(_e===0)var e=ye.return;else e=ye,Xt=Jn=null,ws(e),_i=null,gl=0,e=ye;for(;e!==null;)Od(e.alternate,e),e=e.return;ye=null}}function Vi(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,My(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),sn=0,hr(),ke=e,ye=l=Kt(e.current,null),xe=t,_e=0,St=null,bn=!1,Ui=Wi(e,t),sr=!1,Li=Et=rr=ei=Cn=He=0,ft=kl=null,ur=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var d=31-gt(a),h=1<<d;t|=e[d],a&=~h}return an=t,ho(),l}function pf(e,t){pe=null,V.H=Cl,t===Ni||t===So?(t=wc(),_e=3):t===ys?(t=wc(),_e=4):_e=t===Js?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,St=t,ye===null&&(He=1,Lo(e,_t(t,e.current)))}function mf(){var e=xt.current;return e===null?!0:(xe&4194048)===xe?It===null:(xe&62914560)===xe||(xe&536870912)!==0?e===It:!1}function gf(){var e=V.H;return V.H=Cl,e===null?Cl:e}function yf(){var e=V.A;return V.A=ay,e}function Ko(){He=4,bn||(xe&4194048)!==xe&&xt.current!==null||(Ui=!0),(Cn&134217727)===0&&(ei&134217727)===0||ke===null||_n(ke,xe,Et,!1)}function pr(e,t,l){var a=Ae;Ae|=2;var d=gf(),h=yf();(ke!==e||xe!==t)&&(Jo=null,Vi(e,t)),t=!1;var T=He;e:do try{if(_e!==0&&ye!==null){var b=ye,A=St;switch(_e){case 8:hr(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var I=_e;if(_e=0,St=null,qi(e,b,A,I),l&&Ui){T=0;break e}break;default:I=_e,_e=0,St=null,qi(e,b,A,I)}}uy(),T=He;break}catch(q){pf(e,q)}while(!0);return t&&e.shellSuspendCounter++,Xt=Jn=null,Ae=a,V.H=d,V.A=h,ye===null&&(ke=null,xe=0,ho()),T}function uy(){for(;ye!==null;)vf(ye)}function cy(e,t){var l=Ae;Ae|=2;var a=gf(),d=yf();ke!==e||xe!==t?(Jo=null,Yo=pt()+500,Vi(e,t)):Ui=Wi(e,t);e:do try{if(_e!==0&&ye!==null){t=ye;var h=St;t:switch(_e){case 1:_e=0,St=null,qi(e,t,h,1);break;case 2:case 9:if(_c(h)){_e=0,St=null,xf(t);break}t=function(){_e!==2&&_e!==9||ke!==e||(_e=7),Ot(e)},h.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:_c(h)?(_e=0,St=null,xf(t)):(_e=0,St=null,qi(e,t,h,7));break;case 5:var T=null;switch(ye.tag){case 26:T=ye.memoizedState;case 5:case 27:var b=ye;if(T?lh(T):b.stateNode.complete){_e=0,St=null;var A=b.sibling;if(A!==null)ye=A;else{var I=b.return;I!==null?(ye=I,jo(I)):ye=null}break t}}_e=0,St=null,qi(e,t,h,5);break;case 6:_e=0,St=null,qi(e,t,h,6);break;case 8:hr(),He=6;break e;default:throw Error(s(462))}}dy();break}catch(q){pf(e,q)}while(!0);return Xt=Jn=null,V.H=a,V.A=d,Ae=l,ye!==null?0:(ke=null,xe=0,ho(),He)}function dy(){for(;ye!==null&&!Um();)vf(ye)}function vf(e){var t=zd(e.alternate,e,an);e.memoizedProps=e.pendingProps,t===null?jo(e):ye=t}function xf(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Ld(l,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Ld(l,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:ws(t);default:Od(l,t),t=ye=gc(t,an),t=zd(l,t,an)}e.memoizedProps=e.pendingProps,t===null?jo(e):ye=t}function qi(e,t,l,a){Xt=Jn=null,ws(t),_i=null,gl=0;var d=t.return;try{if(Wg(e,d,t,l,xe)){He=1,Lo(e,_t(l,e.current)),ye=null;return}}catch(h){if(d!==null)throw ye=d,h;He=1,Lo(e,_t(l,e.current)),ye=null;return}t.flags&32768?(Se||a===1?e=!0:Ui||(xe&536870912)!==0?e=!1:(bn=e=!0,(a===2||a===9||a===3||a===6)&&(a=xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Tf(t,e)):jo(t)}function jo(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,bn);return}e=t.return;var l=ny(t.alternate,t,an);if(l!==null){ye=l;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);He===0&&(He=5)}function Tf(e,t){do{var l=iy(e.alternate,e);if(l!==null){l.flags&=32767,ye=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=l}while(e!==null);He=6,ye=null}function Sf(e,t,l,a,d,h,T,b,A){e.cancelPendingCommit=null;do Xo();while(je!==0);if((Ae&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=ns,Ym(e,l,h,T,b,A),e===ke&&(ye=ke=null,xe=0),Gi=t,Nn=e,sn=l,cr=h,dr=d,cf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,my(Ql,function(){return Nf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=V.T,V.T=null,d=H.p,H.p=2,T=Ae,Ae|=4;try{ly(e,t,l)}finally{Ae=T,H.p=d,V.T=a}}je=1,Ef(),bf(),Cf()}}function Ef(){if(je===1){je=0;var e=Nn,t=Gi,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var a=H.p;H.p=2;var d=Ae;Ae|=4;try{tf(t,e);var h=Nr,T=sc(e.containerInfo),b=h.focusedElem,A=h.selectionRange;if(T!==b&&b&&b.ownerDocument&&ac(b.ownerDocument.documentElement,b)){if(A!==null&&Za(b)){var I=A.start,q=A.end;if(q===void 0&&(q=I),"selectionStart"in b)b.selectionStart=I,b.selectionEnd=Math.min(q,b.value.length);else{var B=b.ownerDocument||document,k=B&&B.defaultView||window;if(k.getSelection){var G=k.getSelection(),le=b.textContent.length,ce=Math.min(A.start,le),Ie=A.end===void 0?ce:Math.min(A.end,le);!G.extend&&ce>Ie&&(T=Ie,Ie=ce,ce=T);var M=oc(b,ce),N=oc(b,Ie);if(M&&N&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var R=B.createRange();R.setStart(M.node,M.offset),G.removeAllRanges(),ce>Ie?(G.addRange(R),G.extend(N.node,N.offset)):(R.setEnd(N.node,N.offset),G.addRange(R))}}}}for(B=[],G=b;G=G.parentNode;)G.nodeType===1&&B.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<B.length;b++){var P=B[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}sa=!!Ar,Nr=Ar=null}finally{Ae=d,H.p=a,V.T=l}}e.current=t,je=2}}function bf(){if(je===2){je=0;var e=Nn,t=Gi,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var a=H.p;H.p=2;var d=Ae;Ae|=4;try{Qd(e,t.alternate,t)}finally{Ae=d,H.p=a,V.T=l}}je=3}}function Cf(){if(je===4||je===3){je=0,Lm();var e=Nn,t=Gi,l=sn,a=cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?je=5:(je=0,Gi=Nn=null,Af(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(An=null),ka(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=V.T,d=H.p,H.p=2,V.T=null;try{for(var h=e.onRecoverableError,T=0;T<a.length;T++){var b=a[T];h(b.value,{componentStack:b.stack})}}finally{V.T=t,H.p=d}}(sn&3)!==0&&Xo(),Ot(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===fr?Dl++:(Dl=0,fr=e):Dl=0,Ul(0)}}function Af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pl(t)))}function Xo(){return Ef(),bf(),Cf(),Nf()}function Nf(){if(je!==5)return!1;var e=Nn,t=cr;cr=0;var l=ka(sn),a=V.T,d=H.p;try{H.p=32>l?32:l,V.T=null,l=dr,dr=null;var h=Nn,T=sn;if(je=0,Gi=Nn=null,sn=0,(Ae&6)!==0)throw Error(s(331));var b=Ae;if(Ae|=4,sf(h.current),lf(h,h.current,T,l),Ae=b,Ul(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot($i,h)}catch{}return!0}finally{H.p=d,V.T=a,Af(e,t)}}function _f(e,t,l){t=_t(l,t),t=Ys(e.stateNode,t,2),e=xn(e,t,2),e!==null&&(el(e,2),Ot(e))}function Me(e,t,l){if(e.tag===3)_f(e,e,l);else for(;t!==null;){if(t.tag===3){_f(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(An===null||!An.has(a))){e=_t(l,e),l=_d(2),a=xn(t,l,2),a!==null&&(Md(l,a,t,e),el(a,2),Ot(a));break}}t=t.return}}function mr(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new sy;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(l)||(sr=!0,d.add(l),e=fy.bind(null,e,t,l),t.then(e,e))}function fy(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ke===e&&(xe&l)===l&&(He===4||He===3&&(xe&62914560)===xe&&300>pt()-Oo?(Ae&2)===0&&Vi(e,0):rr|=l,Li===xe&&(Li=0)),Ot(e)}function Mf(e,t){t===0&&(t=Su()),e=Bn(e,t),e!==null&&(el(e,t),Ot(e))}function hy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Mf(e,l)}function py(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Mf(e,l)}function my(e,t){return Ma(e,t)}var Qo=null,Hi=null,gr=!1,Zo=!1,yr=!1,Mn=0;function Ot(e){e!==Hi&&e.next===null&&(Hi===null?Qo=Hi=e:Hi=Hi.next=e),Zo=!0,gr||(gr=!0,yy())}function Ul(e,t){if(!yr&&Zo){yr=!0;do for(var l=!1,a=Qo;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var h=0;else{var T=a.suspendedLanes,b=a.pingedLanes;h=(1<<31-gt(42|e)+1)-1,h&=d&~(T&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,kf(a,h))}else h=xe,h=eo(a,a===ke?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||Wi(a,h)||(l=!0,kf(a,h));a=a.next}while(l);yr=!1}}function gy(){wf()}function wf(){Zo=gr=!1;var e=0;Mn!==0&&_y()&&(e=Mn);for(var t=pt(),l=null,a=Qo;a!==null;){var d=a.next,h=Rf(a,t);h===0?(a.next=null,l===null?Qo=d:l.next=d,d===null&&(Hi=l)):(l=a,(e!==0||(h&3)!==0)&&(Zo=!0)),a=d}je!==0&&je!==5||Ul(e),Mn!==0&&(Mn=0)}function Rf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-gt(h),b=1<<T,A=d[T];A===-1?((b&l)===0||(b&a)!==0)&&(d[T]=Om(b,t)):A<=t&&(e.expiredLanes|=b),h&=~b}if(t=ke,l=xe,l=eo(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&wa(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Wi(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&wa(a),ka(l)){case 2:case 8:l=xu;break;case 32:l=Ql;break;case 268435456:l=Tu;break;default:l=Ql}return a=If.bind(null,e),l=Ma(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&wa(a),e.callbackPriority=2,e.callbackNode=null,2}function If(e,t){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Xo()&&e.callbackNode!==l)return null;var a=xe;return a=eo(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ff(e,a,t),Rf(e,pt()),e.callbackNode!=null&&e.callbackNode===l?If.bind(null,e):null)}function kf(e,t){if(Xo())return null;ff(e,t,!0)}function yy(){wy(function(){(Ae&6)!==0?Ma(vu,gy):wf()})}function vr(){if(Mn===0){var e=Ci;e===0&&(e=Zl,Zl<<=1,(Zl&261888)===0&&(Zl=256)),Mn=e}return Mn}function Df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lo(""+e)}function Uf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function vy(e,t,l,a,d){if(t==="submit"&&l&&l.stateNode===d){var h=Df((d[st]||null).action),T=a.submitter;T&&(t=(t=T[st]||null)?Df(t.formAction):T.getAttribute("formAction"),t!==null&&(h=t,T=null));var b=new ro("action","action",null,a,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Mn!==0){var A=T?Uf(d,T):new FormData(d);qs(l,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(b.preventDefault(),A=T?Uf(d,T):new FormData(d),qs(l,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var xr=0;xr<ts.length;xr++){var Tr=ts[xr],xy=Tr.toLowerCase(),Ty=Tr[0].toUpperCase()+Tr.slice(1);Gt(xy,"on"+Ty)}Gt(cc,"onAnimationEnd"),Gt(dc,"onAnimationIteration"),Gt(fc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Gg,"onTransitionRun"),Gt(Vg,"onTransitionStart"),Gt(qg,"onTransitionCancel"),Gt(hc,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Lf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var T=a.length-1;0<=T;T--){var b=a[T],A=b.instance,I=b.currentTarget;if(b=b.listener,A!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=I;try{h(d)}catch(q){fo(q)}d.currentTarget=null,h=A}else for(T=0;T<a.length;T++){if(b=a[T],A=b.instance,I=b.currentTarget,b=b.listener,A!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=I;try{h(d)}catch(q){fo(q)}d.currentTarget=null,h=A}}}}function ve(e,t){var l=t[Da];l===void 0&&(l=t[Da]=new Set);var a=e+"__bubble";l.has(a)||(Gf(t,e,2,!1),l.add(a))}function Sr(e,t,l){var a=0;t&&(a|=4),Gf(l,e,a,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Er(e){if(!e[$o]){e[$o]=!0,Mu.forEach(function(l){l!=="selectionchange"&&(Sy.has(l)||Sr(l,!1,e),Sr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Sr("selectionchange",!1,t))}}function Gf(e,t,l,a){switch(dh(t)){case 2:var d=Xy;break;case 8:d=Qy;break;default:d=Vr}l=d.bind(null,t,l,e),d=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,l,{capture:!0,passive:d}):e.addEventListener(t,l,!0):d!==void 0?e.addEventListener(t,l,{passive:d}):e.addEventListener(t,l,!1)}function br(e,t,l,a,d){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var b=a.stateNode.containerInfo;if(b===d)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;b!==null;){if(T=si(b),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=h=T;continue e}b=b.parentNode}}a=a.return}Pu(function(){var I=h,q=Pa(l),B=[];e:{var k=pc.get(e);if(k!==void 0){var G=ro,le=e;switch(e){case"keypress":if(ao(l)===0)break e;case"keydown":case"keyup":G=pg;break;case"focusin":le="focus",G=Fa;break;case"focusout":le="blur",G=Fa;break;case"beforeblur":case"afterblur":G=Fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yg;break;case cc:case dc:case fc:G=og;break;case hc:G=xg;break;case"scroll":case"scrollend":G=eg;break;case"wheel":G=Sg;break;case"copy":case"cut":case"paste":G=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ju;break;case"toggle":case"beforetoggle":G=bg}var ce=(t&4)!==0,Ie=!ce&&(e==="scroll"||e==="scrollend"),M=ce?k!==null?k+"Capture":null:k;ce=[];for(var N=I,R;N!==null;){var P=N;if(R=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||R===null||M===null||(P=il(N,M),P!=null&&ce.push(Gl(N,P,R))),Ie)break;N=N.return}0<ce.length&&(k=new G(k,le,null,l,q),B.push({event:k,listeners:ce}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",k&&l!==Ha&&(le=l.relatedTarget||l.fromElement)&&(si(le)||le[ai]))break e;if((G||k)&&(k=q.window===q?q:(k=q.ownerDocument)?k.defaultView||k.parentWindow:window,G?(le=l.relatedTarget||l.toElement,G=I,le=le?si(le):null,le!==null&&(Ie=f(le),ce=le.tag,le!==Ie||ce!==5&&ce!==27&&ce!==6)&&(le=null)):(G=null,le=I),G!==le)){if(ce=Ou,P="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Ju,P="onPointerLeave",M="onPointerEnter",N="pointer"),Ie=G==null?k:nl(G),R=le==null?k:nl(le),k=new ce(P,N+"leave",G,l,q),k.target=Ie,k.relatedTarget=R,P=null,si(q)===I&&(ce=new ce(M,N+"enter",le,l,q),ce.target=R,ce.relatedTarget=Ie,P=ce),Ie=P,G&&le)t:{for(ce=Ey,M=G,N=le,R=0,P=M;P;P=ce(P))R++;P=0;for(var ue=N;ue;ue=ce(ue))P++;for(;0<R-P;)M=ce(M),R--;for(;0<P-R;)N=ce(N),P--;for(;R--;){if(M===N||N!==null&&M===N.alternate){ce=M;break t}M=ce(M),N=ce(N)}ce=null}else ce=null;G!==null&&Vf(B,k,G,ce,!1),le!==null&&Ie!==null&&Vf(B,Ie,le,ce,!0)}}e:{if(k=I?nl(I):window,G=k.nodeName&&k.nodeName.toLowerCase(),G==="select"||G==="input"&&k.type==="file")var Ee=Wu;else if(Zu(k))if(ec)Ee=Dg;else{Ee=Ig;var se=Rg}else G=k.nodeName,!G||G.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&qa(I.elementType)&&(Ee=Wu):Ee=kg;if(Ee&&(Ee=Ee(e,I))){$u(B,Ee,l,q);break e}se&&se(e,k,I),e==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&Va(k,"number",k.value)}switch(se=I?nl(I):window,e){case"focusin":(Zu(se)||se.contentEditable==="true")&&(gi=se,$a=I,dl=null);break;case"focusout":dl=$a=gi=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,rc(B,l,q);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":rc(B,l,q)}var me;if(ja)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mi?Xu(e,l)&&(Te="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Fu&&l.locale!=="ko"&&(mi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mi&&(me=zu()):(fn=q,Oa="value"in fn?fn.value:fn.textContent,mi=!0)),se=Wo(I,Te),0<se.length&&(Te=new Yu(Te,e,null,l,q),B.push({event:Te,listeners:se}),me?Te.data=me:(me=Qu(l),me!==null&&(Te.data=me)))),(me=Ag?Ng(e,l):_g(e,l))&&(Te=Wo(I,"onBeforeInput"),0<Te.length&&(se=new Yu("onBeforeInput","beforeinput",null,l,q),B.push({event:se,listeners:Te}),se.data=me)),vy(B,e,I,l,q)}Lf(B,t)})}function Gl(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Wo(e,t){for(var l=t+"Capture",a=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=il(e,l),d!=null&&a.unshift(Gl(e,d,h)),d=il(e,t),d!=null&&a.push(Gl(e,d,h))),e.tag===3)return a;e=e.return}return[]}function Ey(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,l,a,d){for(var h=t._reactName,T=[];l!==null&&l!==a;){var b=l,A=b.alternate,I=b.stateNode;if(b=b.tag,A!==null&&A===a)break;b!==5&&b!==26&&b!==27||I===null||(A=I,d?(I=il(l,h),I!=null&&T.unshift(Gl(l,I,A))):d||(I=il(l,h),I!=null&&T.push(Gl(l,I,A)))),l=l.return}T.length!==0&&e.push({event:t,listeners:T})}var by=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function qf(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(Cy,"")}function Hf(e,t){return t=qf(t),qf(e)===t}function Re(e,t,l,a,d,h){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||fi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&fi(e,""+a);break;case"className":no(e,"class",a);break;case"tabIndex":no(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":no(e,l,a);break;case"style":qu(e,a,h);break;case"data":if(t!=="object"){no(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=lo(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(t!=="input"&&Re(e,t,"name",d.name,d,null),Re(e,t,"formEncType",d.formEncType,d,null),Re(e,t,"formMethod",d.formMethod,d,null),Re(e,t,"formTarget",d.formTarget,d,null)):(Re(e,t,"encType",d.encType,d,null),Re(e,t,"method",d.method,d,null),Re(e,t,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=lo(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Jt);break;case"onScroll":a!=null&&ve("scroll",e);break;case"onScrollEnd":a!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=lo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ve("beforetoggle",e),ve("toggle",e),to(e,"popover",a);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":to(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$m.get(l)||l,to(e,l,a))}}function Cr(e,t,l,a,d,h){switch(l){case"style":qu(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?fi(e,a):(typeof a=="number"||typeof a=="bigint")&&fi(e,""+a);break;case"onScroll":a!=null&&ve("scroll",e);break;case"onScrollEnd":a!=null&&ve("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),t=l.slice(2,d?l.length-7:void 0),h=e[st]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(t,h,d),typeof a=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):to(e,l,a)}}}function nt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var a=!1,d=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Re(e,t,h,T,l,null)}}d&&Re(e,t,"srcSet",l.srcSet,l,null),a&&Re(e,t,"src",l.src,l,null);return;case"input":ve("invalid",e);var b=h=T=d=null,A=null,I=null;for(a in l)if(l.hasOwnProperty(a)){var q=l[a];if(q!=null)switch(a){case"name":d=q;break;case"type":T=q;break;case"checked":A=q;break;case"defaultChecked":I=q;break;case"value":h=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:Re(e,t,a,q,l,null)}}Uu(e,h,b,A,I,T,d,!1);return;case"select":ve("invalid",e),a=T=h=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":h=b;break;case"defaultValue":T=b;break;case"multiple":a=b;default:Re(e,t,d,b,l,null)}t=h,l=T,e.multiple=!!a,t!=null?di(e,!!a,t,!1):l!=null&&di(e,!!a,l,!0);return;case"textarea":ve("invalid",e),h=d=a=null;for(T in l)if(l.hasOwnProperty(T)&&(b=l[T],b!=null))switch(T){case"value":a=b;break;case"defaultValue":d=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Re(e,t,T,b,l,null)}Gu(e,a,d,h);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Re(e,t,A,a,l,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(a=0;a<Ll.length;a++)ve(Ll[a],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(a=l[I],a!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Re(e,t,I,a,l,null)}return;default:if(qa(t)){for(q in l)l.hasOwnProperty(q)&&(a=l[q],a!==void 0&&Cr(e,t,q,a,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(a=l[b],a!=null&&Re(e,t,b,a,l,null))}function Ay(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,b=null,A=null,I=null,q=null;for(G in l){var B=l[G];if(l.hasOwnProperty(G)&&B!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=B;default:a.hasOwnProperty(G)||Re(e,t,G,null,a,B)}}for(var k in a){var G=a[k];if(B=l[k],a.hasOwnProperty(k)&&(G!=null||B!=null))switch(k){case"type":h=G;break;case"name":d=G;break;case"checked":I=G;break;case"defaultChecked":q=G;break;case"value":T=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:G!==B&&Re(e,t,k,G,a,B)}}Ga(e,T,b,A,I,q,h,d);return;case"select":G=T=b=k=null;for(h in l)if(A=l[h],l.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":G=A;default:a.hasOwnProperty(h)||Re(e,t,h,null,a,A)}for(d in a)if(h=a[d],A=l[d],a.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":k=h;break;case"defaultValue":b=h;break;case"multiple":T=h;default:h!==A&&Re(e,t,d,h,a,A)}t=b,l=T,a=G,k!=null?di(e,!!l,k,!1):!!a!=!!l&&(t!=null?di(e,!!l,t,!0):di(e,!!l,l?[]:"",!1));return;case"textarea":G=k=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Re(e,t,b,null,a,d)}for(T in a)if(d=a[T],h=l[T],a.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":k=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&Re(e,t,T,d,a,h)}Lu(e,k,G);return;case"option":for(var le in l)if(k=l[le],l.hasOwnProperty(le)&&k!=null&&!a.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Re(e,t,le,null,a,k)}for(A in a)if(k=a[A],G=l[A],a.hasOwnProperty(A)&&k!==G&&(k!=null||G!=null))switch(A){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Re(e,t,A,k,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)k=l[ce],l.hasOwnProperty(ce)&&k!=null&&!a.hasOwnProperty(ce)&&Re(e,t,ce,null,a,k);for(I in a)if(k=a[I],G=l[I],a.hasOwnProperty(I)&&k!==G&&(k!=null||G!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,t));break;default:Re(e,t,I,k,a,G)}return;default:if(qa(t)){for(var Ie in l)k=l[Ie],l.hasOwnProperty(Ie)&&k!==void 0&&!a.hasOwnProperty(Ie)&&Cr(e,t,Ie,void 0,a,k);for(q in a)k=a[q],G=l[q],!a.hasOwnProperty(q)||k===G||k===void 0&&G===void 0||Cr(e,t,q,k,a,G);return}}for(var M in l)k=l[M],l.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&Re(e,t,M,null,a,k);for(B in a)k=a[B],G=l[B],!a.hasOwnProperty(B)||k===G||k==null&&G==null||Re(e,t,B,k,a,G)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ny(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],h=d.transferSize,T=d.initiatorType,b=d.duration;if(h&&b&&Pf(T)){for(T=0,b=d.responseEnd,a+=1;a<l.length;a++){var A=l[a],I=A.startTime;if(I>b)break;var q=A.transferSize,B=A.initiatorType;q&&Pf(B)&&(A=A.responseEnd,T+=q*(A<b?1:(b-I)/(A-I)))}if(--a,t+=8*(h+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ar=null,Nr=null;function ea(e){return e.nodeType===9?e:e.ownerDocument}function zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _r(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mr=null;function _y(){var e=window.event;return e&&e.type==="popstate"?e===Mr?!1:(Mr=e,!0):(Mr=null,!1)}var Of=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(e){return Yf.resolve(null).then(e).catch(Ry)}:Of;function Ry(e){setTimeout(function(){throw e})}function wn(e){return e==="head"}function Jf(e,t){var l=t,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),Oi(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Vl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Vl(l);for(var h=l.firstChild;h;){var T=h.nextSibling,b=h.nodeName;h[tl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&Vl(e.ownerDocument.body);l=d}while(l);Oi(t)}function Ff(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wr(l),Ua(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Iy(e,t,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function ky(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=kt(e.nextSibling),e===null))return null;return e}function Kf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function Rr(e){return e.data==="$?"||e.data==="$~"}function Ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var kr=null;function jf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return kt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Qf(e,t,l){switch(t=ea(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ua(e)}var Dt=new Map,Zf=new Set;function ta(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rn=H.d;H.d={f:Uy,r:Ly,D:Gy,C:Vy,L:qy,m:Hy,X:zy,S:Py,M:By};function Uy(){var e=rn.f(),t=Fo();return e||t}function Ly(e){var t=ri(e);t!==null&&t.tag===5&&t.type==="form"?hd(t):rn.r(e)}var Pi=typeof document>"u"?null:document;function $f(e,t,l){var a=Pi;if(a&&typeof t=="string"&&t){var d=At(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Zf.has(d)||(Zf.add(d),e={rel:e,crossOrigin:l,href:t},a.querySelector(d)===null&&(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function Gy(e){rn.D(e),$f("dns-prefetch",e,null)}function Vy(e,t){rn.C(e,t),$f("preconnect",e,t)}function qy(e,t,l){rn.L(e,t,l);var a=Pi;if(a&&e&&t){var d='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+At(l.imageSizes)+'"]')):d+='[href="'+At(e)+'"]';var h=d;switch(t){case"style":h=zi(e);break;case"script":h=Bi(e)}Dt.has(h)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Dt.set(h,e),a.querySelector(d)!==null||t==="style"&&a.querySelector(ql(h))||t==="script"&&a.querySelector(Hl(h))||(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function Hy(e,t){rn.m(e,t);var l=Pi;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+At(a)+'"][href="'+At(e)+'"]',h=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bi(e)}if(!Dt.has(h)&&(e=S({rel:"modulepreload",href:e},t),Dt.set(h,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hl(h)))return}a=l.createElement("link"),nt(a,"link",e),Qe(a),l.head.appendChild(a)}}}function Py(e,t,l){rn.S(e,t,l);var a=Pi;if(a&&e){var d=ui(a).hoistableStyles,h=zi(e);t=t||"default";var T=d.get(h);if(!T){var b={loading:0,preload:null};if(T=a.querySelector(ql(h)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Dt.get(h))&&Dr(e,l);var A=T=a.createElement("link");Qe(A),nt(A,"link",e),A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),A.addEventListener("load",function(){b.loading|=1}),A.addEventListener("error",function(){b.loading|=2}),b.loading|=4,na(T,t,a)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(h,T)}}}function zy(e,t){rn.X(e,t);var l=Pi;if(l&&e){var a=ui(l).hoistableScripts,d=Bi(e),h=a.get(d);h||(h=l.querySelector(Hl(d)),h||(e=S({src:e,async:!0},t),(t=Dt.get(d))&&Ur(e,t),h=l.createElement("script"),Qe(h),nt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(d,h))}}function By(e,t){rn.M(e,t);var l=Pi;if(l&&e){var a=ui(l).hoistableScripts,d=Bi(e),h=a.get(d);h||(h=l.querySelector(Hl(d)),h||(e=S({src:e,async:!0,type:"module"},t),(t=Dt.get(d))&&Ur(e,t),h=l.createElement("script"),Qe(h),nt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(d,h))}}function Wf(e,t,l,a){var d=(d=ge.current)?ta(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=zi(l.href),l=ui(d).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=zi(l.href);var h=ui(d).hoistableStyles,T=h.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=d.querySelector(ql(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Dt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dt.set(e,l),h||Oy(d,e,l,T.state))),t&&a===null)throw Error(s(528,""));return T}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bi(l),l=ui(d).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function zi(e){return'href="'+At(e)+'"'}function ql(e){return'link[rel="stylesheet"]['+e+"]"}function eh(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Oy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nt(t,"link",l),Qe(t),e.head.appendChild(t))}function Bi(e){return'[src="'+At(e)+'"]'}function Hl(e){return"script[async]"+e}function th(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+At(l.href)+'"]');if(a)return t.instance=a,Qe(a),a;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Qe(a),nt(a,"style",d),na(a,l.precedence,e),t.instance=a;case"stylesheet":d=zi(l.href);var h=e.querySelector(ql(d));if(h)return t.state.loading|=4,t.instance=h,Qe(h),h;a=eh(l),(d=Dt.get(d))&&Dr(a,d),h=(e.ownerDocument||e).createElement("link"),Qe(h);var T=h;return T._p=new Promise(function(b,A){T.onload=b,T.onerror=A}),nt(h,"link",a),t.state.loading|=4,na(h,l.precedence,e),t.instance=h;case"script":return h=Bi(l.src),(d=e.querySelector(Hl(h)))?(t.instance=d,Qe(d),d):(a=l,(d=Dt.get(h))&&(a=S({},l),Ur(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),Qe(d),nt(d,"link",a),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,na(a,l.precedence,e));return t.instance}function na(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,h=d,T=0;T<a.length;T++){var b=a[T];if(b.dataset.precedence===t)h=b;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Dr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ur(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ia=null;function nh(e,t,l){if(ia===null){var a=new Map,d=ia=new Map;d.set(l,a)}else d=ia,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var h=l[d];if(!(h[tl]||h[$e]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(t)||"";T=e+T;var b=a.get(T);b?b.push(h):a.set(T,[h])}}return a}function ih(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Yy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jy(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=zi(a.href),h=t.querySelector(ql(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=la.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=h,Qe(h);return}h=t.ownerDocument||t,a=eh(a),(d=Dt.get(d))&&Dr(a,d),h=h.createElement("link"),Qe(h);var T=h;T._p=new Promise(function(b,A){T.onload=b,T.onerror=A}),nt(h,"link",a),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=la.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Lr=0;function Fy(e,t){return e.stylesheets&&e.count===0&&aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&aa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Lr===0&&(Lr=62500*Ny());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&aa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Lr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function la(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oa=null;function aa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oa=new Map,t.forEach(Ky,e),oa=null,la.call(e))}function Ky(e,t){if(!(t.state.loading&4)){var l=oa.get(e);if(l)var a=l.get(null);else{l=new Map,oa.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}d=t.instance,T=d.getAttribute("data-precedence"),h=l.get(T)||a,h===a&&l.set(null,d),l.set(T,d),this.count++,a=la.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Pl={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function jy(e,t,l,a,d,h,T,b,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function oh(e,t,l,a,d,h,T,b,A,I,q,B){return e=new jy(e,t,l,T,A,I,q,B,b),t=1,h===!0&&(t|=24),h=vt(3,null,null,t),e.current=h,h.stateNode=e,t=ps(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:l,cache:t},vs(h),e}function ah(e){return e?(e=xi,e):xi}function sh(e,t,l,a,d,h){d=ah(d),a.context===null?a.context=d:a.pendingContext=d,a=vn(t),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),l=xn(e,a,t),l!==null&&(ht(l,e,t),vl(l,e,t))}function rh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Gr(e,t){rh(e,t),(e=e.alternate)&&rh(e,t)}function uh(e){if(e.tag===13||e.tag===31){var t=Bn(e,67108864);t!==null&&ht(t,e,67108864),Gr(e,67108864)}}function ch(e){if(e.tag===13||e.tag===31){var t=bt();t=Ia(t);var l=Bn(e,t);l!==null&&ht(l,e,t),Gr(e,t)}}var sa=!0;function Xy(e,t,l,a){var d=V.T;V.T=null;var h=H.p;try{H.p=2,Vr(e,t,l,a)}finally{H.p=h,V.T=d}}function Qy(e,t,l,a){var d=V.T;V.T=null;var h=H.p;try{H.p=8,Vr(e,t,l,a)}finally{H.p=h,V.T=d}}function Vr(e,t,l,a){if(sa){var d=qr(a);if(d===null)br(e,t,a,ra,l),fh(e,a);else if($y(d,e,t,l,a))a.stopPropagation();else if(fh(e,a),t&4&&-1<Zy.indexOf(e)){for(;d!==null;){var h=ri(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Vn(h.pendingLanes);if(T!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var A=1<<31-gt(T);b.entanglements[1]|=A,T&=~A}Ot(h),(Ae&6)===0&&(Yo=pt()+500,Ul(0))}}break;case 31:case 13:b=Bn(h,2),b!==null&&ht(b,h,2),Fo(),Gr(h,2)}if(h=qr(a),h===null&&br(e,t,a,ra,l),h===d)break;d=h}d!==null&&a.stopPropagation()}else br(e,t,a,null,l)}}function qr(e){return e=Pa(e),Hr(e)}var ra=null;function Hr(e){if(ra=null,e=si(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=y(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ra=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gm()){case vu:return 2;case xu:return 8;case Ql:case Vm:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Pr=!1,Rn=null,In=null,kn=null,zl=new Map,Bl=new Map,Dn=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fh(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Ol(e,t,l,a,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ri(t),t!==null&&uh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function $y(e,t,l,a,d){switch(t){case"focusin":return Rn=Ol(Rn,e,t,l,a,d),!0;case"dragenter":return In=Ol(In,e,t,l,a,d),!0;case"mouseover":return kn=Ol(kn,e,t,l,a,d),!0;case"pointerover":var h=d.pointerId;return zl.set(h,Ol(zl.get(h)||null,e,t,l,a,d)),!0;case"gotpointercapture":return h=d.pointerId,Bl.set(h,Ol(Bl.get(h)||null,e,t,l,a,d)),!0}return!1}function hh(e){var t=si(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,Nu(e.priority,function(){ch(l)});return}}else if(t===31){if(t=y(l),t!==null){e.blockedOn=t,Nu(e.priority,function(){ch(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=qr(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ha=a,l.target.dispatchEvent(a),Ha=null}else return t=ri(l),t!==null&&uh(t),e.blockedOn=l,!1;t.shift()}return!0}function ph(e,t,l){ua(e)&&l.delete(t)}function Wy(){Pr=!1,Rn!==null&&ua(Rn)&&(Rn=null),In!==null&&ua(In)&&(In=null),kn!==null&&ua(kn)&&(kn=null),zl.forEach(ph),Bl.forEach(ph)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,Pr||(Pr=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wy)))}var da=null;function mh(e){da!==e&&(da=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){da===e&&(da=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],d=e[t+2];if(typeof a!="function"){if(Hr(a||l)===null)continue;break}var h=ri(l);h!==null&&(e.splice(t,3),t-=3,qs(h,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function Oi(e){function t(A){return ca(A,e)}Rn!==null&&ca(Rn,e),In!==null&&ca(In,e),kn!==null&&ca(kn,e),zl.forEach(t),Bl.forEach(t);for(var l=0;l<Dn.length;l++){var a=Dn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Dn.length&&(l=Dn[0],l.blockedOn===null);)hh(l),l.blockedOn===null&&Dn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],h=l[a+1],T=d[st]||null;if(typeof h=="function")T||mh(l);else if(T){var b=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[st]||null)b=T.formAction;else if(Hr(d)!==null)continue}else b=T.action;typeof b=="function"?l[a+1]=b:(l.splice(a,3),a-=3),mh(l)}}}function gh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function zr(e){this._internalRoot=e}fa.prototype.render=zr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=bt();sh(l,a,e,t,null,null)},fa.prototype.unmount=zr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sh(e.current,2,null,e,null,null),Fo(),t[ai]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Au();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Dn.length&&t!==0&&t<Dn[l].priority;l++);Dn.splice(l,0,e),l===0&&hh(e)}};var yh=n.version;if(yh!=="19.2.0")throw Error(s(527,yh,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var ev={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{$i=ha.inject(ev),mt=ha}catch{}}return Jl.createRoot=function(e,t){if(!u(e))throw Error(s(299));var l=!1,a="",d=bd,h=Cd,T=Ad;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=oh(e,1,!1,null,null,l,a,null,d,h,T,gh),e[ai]=t.current,Er(e),new zr(t)},Jl.hydrateRoot=function(e,t,l){if(!u(e))throw Error(s(299));var a=!1,d="",h=bd,T=Cd,b=Ad,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),t=oh(e,1,!0,t,l??null,a,d,A,h,T,b,gh),t.context=ah(null),l=t.current,a=bt(),a=Ia(a),d=vn(a),d.callback=null,xn(l,d,a),l=a,t.current.lanes=l,el(t,l),Ot(t),e[ai]=t.current,Er(e),new fa(t)},Jl.version="19.2.0",Jl}var _h;function cv(){if(_h)return Yr.exports;_h=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Yr.exports=uv(),Yr.exports}var dv=cv();const fv=im(dv),hv=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),pv=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),mv=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),gv=({onGoHome:i,onNavigateToHistory:n,onNavigateToApiKeySetup:o})=>p.jsx("header",{className:"py-4 border-b border-dark-border",children:p.jsx("div",{className:"container mx-auto px-4 md:px-8",children:p.jsxs("nav",{className:"flex items-center gap-6",children:[p.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-dark-text-secondary hover:text-white transition-colors duration-300","aria-label":"Trang ch",children:[p.jsx(hv,{}),p.jsx("span",{className:"font-semibold text-lg",children:"Trang ch"})]}),p.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-dark-text-secondary hover:text-white transition-colors duration-300","aria-label":"Th vin",children:[p.jsx(pv,{}),p.jsx("span",{className:"font-semibold text-lg",children:"Th vin"})]}),p.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-dark-text-secondary hover:text-white transition-colors duration-300","aria-label":"Thit lp API Key",children:[p.jsx(mv,{}),p.jsx("span",{className:"font-semibold text-lg",children:"Thit lp API Key"})]})]})})}),ti=({title:i,description:n,icon:o,onClick:s})=>p.jsxs("div",{onClick:s,className:"group relative bg-dark-card p-8 rounded-xl border border-dark-border hover:border-brand-purple/50 transition-all duration-300 cursor-pointer overflow-hidden h-full flex flex-col",children:[p.jsx("div",{className:"absolute -inset-px bg-gradient-to-r from-purple-700 to-brand-light-purple rounded-xl opacity-0 group-hover:opacity-70 transition-opacity duration-300 blur-lg","aria-hidden":"true"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsx("div",{className:"bg-brand-purple/20 p-4 rounded-lg text-brand-light-purple inline-block mb-6 self-start",children:o}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:i}),p.jsx("p",{className:"text-dark-text-secondary mb-6 flex-grow",children:n}),p.jsxs("div",{className:"flex items-center text-brand-light-purple font-semibold mt-auto",children:[p.jsx("span",{children:"Bt u"}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),yv=({title:i,description:n,href:o,icon:s})=>p.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"group block bg-dark-card p-6 rounded-xl border border-dark-border hover:border-brand-light-purple/50 transition-all duration-300",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 mr-4",children:s}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-lg text-white",children:i}),p.jsx("p",{className:"text-sm text-dark-text-secondary",children:n})]}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 text-dark-text-secondary transform group-hover:translate-x-1 group-hover:text-white transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),Mh=({onNavigateToScriptToImage:i,onNavigateToVeoAnimation:n,onNavigateToThumbnailGenerator:o,onNavigateToYouTubeSeo:s,onNavigateToVideoAnalyzer:u,onNavigateToScriptRewriter:f,onNavigateToSunoPromptGenerator:m})=>{const y=p.jsx("div",{className:"bg-brand-purple/20 p-3 rounded-lg",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-brand-light-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),v=[{title:"TifoShop - Shop ti nguyn MMO",description:"Cng ng mua bn, trao i ti nguyn cho dn MMO.",href:"https://zalo.me/g/vskind805",icon:y},{title:"H tr tool VEO3",description:"Group h tr chnh thc cho cng c to video hng lot VEO3.",href:"https://zalo.me/g/qnkofg173",icon:p.jsx("img",{src:"https://sf-static.upanhlaylink.com/img/image_202510216ca3829c10658dd7661449e675a09f05.jpg",alt:"H tr tool VEO3 logo",className:"h-12 w-12 rounded-lg object-cover"})},{title:"Cng ng Youtube Tn Vn",description:"Cng hc hi, chia s kinh nghim xy dng knh Youtube.",href:"https://zalo.me/g/tdhnzw234",icon:y},{title:"GoSpeedUp - Tiktok Affiliate",description:"Trao i kin thc, kinh nghim lm Tiktok Affiliate.",href:"https://zalo.me/g/qepmvz949",icon:y}],[g,x]=j.useState({days:0,hours:0,minutes:0,seconds:0,isTimeUp:!1});return j.useEffect(()=>{const S=new Date("2026-02-17T00:00:00").getTime(),E=setInterval(()=>{const _=new Date().getTime(),w=S-_;if(w<0){clearInterval(E),x({days:0,hours:0,minutes:0,seconds:0,isTimeUp:!0});return}const D=Math.floor(w/(1e3*60*60*24)),Y=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),z=Math.floor(w%(1e3*60*60)/(1e3*60)),F=Math.floor(w%(1e3*60)/1e3);x({days:D,hours:Y,minutes:z,seconds:F,isTimeUp:!1})},1e3);return()=>clearInterval(E)},[]),p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("section",{className:"text-center py-16 md:py-20",children:[p.jsx("h1",{className:"animated-gradient-text text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-brand-light-purple mb-6 max-w-4xl mx-auto leading-tight",children:"Tsoft 2 - Tool to prompt video veo3 hng lot"}),p.jsx("h2",{className:"text-lg md:text-xl text-dark-text-secondary max-w-3xl mx-auto mb-8",children:"ng nht nhn vt v nh minh ho bm theo kch bn storyboard"}),p.jsxs("div",{className:"max-w-xl mx-auto mb-12",children:[p.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:g.isTimeUp?"Chc Mng Nm Mi!":"m ngc n Tt Bnh Ng 2026"}),p.jsxs("div",{className:"grid grid-cols-4 gap-2 sm:gap-4 p-4 bg-dark-card/50 rounded-xl border border-dark-border backdrop-blur-sm",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-brand-light-purple",children:String(g.days).padStart(2,"0")}),p.jsx("span",{className:"block text-xs sm:text-sm text-dark-text-secondary mt-1",children:"Ngy"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-brand-light-purple",children:String(g.hours).padStart(2,"0")}),p.jsx("span",{className:"block text-xs sm:text-sm text-dark-text-secondary mt-1",children:"Gi"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-brand-light-purple",children:String(g.minutes).padStart(2,"0")}),p.jsx("span",{className:"block text-xs sm:text-sm text-dark-text-secondary mt-1",children:"Pht"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-brand-light-purple",children:String(g.seconds).padStart(2,"0")}),p.jsx("span",{className:"block text-xs sm:text-sm text-dark-text-secondary mt-1",children:"Giy"})]})]})]})]}),p.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsx(ti,{title:"To hnh nh theo kch bn",description:"Ti ln kch bn ca bn  t ng to prompt v hnh nh minh ha cho tng phn cnh.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),onClick:i}),p.jsx(ti,{title:"To prompt Veo3 hng lot",description:"Xc nh nhn vt v kch bn  to prompt video chi tit, m bo tnh nht qun cho phim hot hnh.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),onClick:n}),p.jsx(ti,{title:"To Thumbnail theo nh mu",description:"Ti ln mt nh thumbnail, AI s phn tch v to ra prompt  bn c th to cc nh tng t.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),onClick:o}),p.jsx(ti,{title:"Vit tiu  chun SEO Youtube",description:"Cung cp tn knh v ni dung video, AI s to tiu , m t, hashtag v t kha ti u cho VidIQ.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),onClick:s}),p.jsx(ti,{title:"Phn tch Video bng AI",description:"Ti ln video  AI phn tch ni dung, xc nh cc phn cnh chnh v to prompt video.",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),onClick:u})]}),p.jsxs("section",{className:"mt-16 md:mt-24",children:[p.jsx("div",{className:"text-center mb-10",children:p.jsx("h2",{className:"animated-gradient-text text-3xl md:text-4xl font-bold text-white bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 via-amber-300 to-yellow-500",children:"Khu vc VIP (Khch hng thn thit ca Tsoft)"})}),p.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"vip-card-container",children:p.jsx(ti,{title:"Tsoft Melody - Tr l to prompt Suno (VIP)",description:"To prompt nhc chuyn nghip cho Suno, Udio. Gi  th loi, cm xc, li bi ht v cu trc.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 6l12-3"})}),onClick:m})}),p.jsx("div",{className:"vip-card-container",children:p.jsx(ti,{title:"Vit li kch bn i th (VIP)",description:"Phn tch kch bn ca i th, gn vai, v vit li  trnh Reuse Content, ti u cho Tsoft/VEO3.",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),onClick:f})})]})]}),p.jsxs("section",{className:"mt-24 max-w-4xl mx-auto",children:[p.jsx("h2",{className:"animated-gradient-text text-3xl md:text-4xl font-bold text-center mb-10 text-white bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-brand-light-purple",children:"Gii thiu Tsoft  Tool to video hng lot VEO3 Ultra mi nht 2025"}),p.jsx("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden shadow-2xl border border-dark-border",children:p.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/GuSWkV-T8WI?si=zw0P4al4gT9694ih",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})]}),p.jsxs("section",{className:"mt-24 max-w-5xl mx-auto",children:[p.jsx("h2",{className:"animated-gradient-text text-3xl md:text-4xl font-bold text-center mb-10 text-white bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-brand-light-purple",children:"Tham Gia Cng ng"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map((S,E)=>p.jsx(yv,{title:S.title,description:S.description,href:S.href,icon:S.icon},E))})]})]})},vv=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),xv=({script:i,setScript:n,fileName:o,setFileName:s})=>{const u=j.useRef(null),f=y=>{var g;const v=(g=y.target.files)==null?void 0:g[0];if(v){const x=new FileReader;x.onload=S=>{var _;const E=(_=S.target)==null?void 0:_.result;n(E),s(v.name)},x.readAsText(v)}},m=()=>{var y;(y=u.current)==null||y.click()};return p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx("label",{htmlFor:"script-input",className:"text-lg font-semibold text-dark-text",children:"Kch bn"}),p.jsx("textarea",{id:"script-input",value:i,onChange:y=>n(y.target.value),placeholder:"Nhp hoc dn kch bn ca bn vo y...",className:"w-full h-64 p-4 bg-dark-card border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple focus:border-brand-purple transition-all duration-300 resize-none"}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[p.jsx("input",{type:"file",accept:".txt,.md,.doc,.docx",onChange:f,className:"hidden",ref:u}),p.jsxs("button",{onClick:m,className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-dark-card border border-dark-border rounded-lg hover:bg-gray-700 hover:border-brand-light-purple transition-colors duration-300",children:[p.jsx(vv,{}),p.jsx("span",{children:"Ti ln tp kch bn"})]}),o&&p.jsxs("p",{className:"text-sm text-dark-text-secondary truncate",children:["Tp  ti: ",o]})]})]})},Tv=["Default","in nh (Cinematic)","Hot hnh (Animation)","Tranh v thu mc","Vibe c ha Vit Nam","Ngi que (Stick Figure)","Anime","Pixar","Disney","GTA V","Roblox","Minecraft","Fortnite","LEGO","Claymation","Watercolor","Synthwave","Steampunk","Cyberpunk","Art Nouveau","Minimalist","Sketch","Comic Book","Manga","Photorealistic","Surreal","Pop Art","Grunge","Neon Noir","Cottagecore","Dark Academia","Live Action","Hollywood","Documentary","Music Video","Commercial","Street Photo","Portrait","Fashion","Realistic","Bauhaus","Sci-Fi","Fantasy","Horror","Western","Apocalyptic","Y2K","Kawaii","Retro","Memphis","Brutalist","Ink Drawing"],Sv=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Ev=({durationMinutes:i,setDurationMinutes:n,durationSeconds:o,setDurationSeconds:s,promptInterval:u,setPromptInterval:f,style:m,setStyle:y,characterNationality:v,setCharacterNationality:g,onNextStep:x,nextStepButtonText:S,isLoading:E,scriptIsEmpty:_,disabled:w=!1})=>{const D=i*60+o,Y=D>0?Math.round(D/u):0;return p.jsxs("div",{className:"space-y-6 bg-dark-card p-6 rounded-lg border border-dark-border",children:[p.jsx("h3",{className:"text-xl font-bold text-center text-white",children:"Ty chn"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"duration-minutes",className:"block text-md font-medium text-dark-text-secondary",children:"Thi lng kch bn"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{id:"duration-minutes",type:"number",value:i,onChange:z=>{const F=Math.max(0,Number(z.target.value));n(F)},min:"0",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple disabled:opacity-50","aria-label":"Pht",disabled:w}),p.jsx("span",{className:"text-dark-text-secondary",children:"pht"}),p.jsx("input",{id:"duration-seconds",type:"number",value:o,onChange:z=>{let F=Math.max(0,Number(z.target.value));F>=60&&(F=59),s(F)},min:"0",max:"59",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple disabled:opacity-50","aria-label":"Giy",disabled:w}),p.jsx("span",{className:"text-dark-text-secondary",children:"giy"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"prompt-interval",className:"block text-md font-medium text-dark-text-secondary",children:"Tn sut Prompt"}),p.jsxs("select",{id:"prompt-interval",value:u,onChange:z=>f(Number(z.target.value)),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple disabled:opacity-50",disabled:w,children:[p.jsx("option",{value:3,children:"Nhanh (3 giy / prompt)"}),p.jsx("option",{value:5,children:"Tiu chun (5 giy / prompt)"}),p.jsx("option",{value:8,children:"Trung bnh (8 giy / prompt)"}),p.jsx("option",{value:10,children:"Chi tit (10 giy / prompt)"})]}),p.jsxs("p",{id:"duration-helper",className:"text-xs text-dark-text-secondary mt-1",children:["D kin to ",Y," prompt."]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"style",className:"block text-md font-medium text-dark-text-secondary",children:"Phong cch"}),p.jsx("select",{id:"style",value:m,onChange:z=>y(z.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple disabled:opacity-50",disabled:w,children:Tv.map(z=>p.jsx("option",{value:z,children:z},z))})]}),v!==void 0&&g&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"nationality",className:"block text-md font-medium text-dark-text-secondary",children:"Quc tch nhn vt"}),p.jsxs("select",{id:"nationality",value:v,onChange:z=>g(z.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple",disabled:w,children:[p.jsx("option",{value:"Default",children:"Mc nh (AI t nhn din)"}),p.jsx("option",{value:"Chu u",children:"Chu u"}),p.jsx("option",{value:"Chu ",children:"Chu "}),p.jsx("option",{value:"Chu Phi",children:"Chu Phi"}),p.jsx("option",{value:"Nam M",children:"Nam M"})]}),p.jsx("p",{className:"text-xs text-dark-text-secondary mt-1",children:"p dng cho tt c nhn vt trong kch bn."})]}),p.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-dark-border",children:p.jsx("button",{onClick:x,disabled:E||_||w,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105",children:E?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Sv,{}),S]})})}),_&&!E&&p.jsx("p",{className:"text-center text-sm text-yellow-400 mt-2",children:"Vui lng nhp  tng kch bn."})]})},wh=({title:i,prompt:n,onCopy:o,isCopied:s})=>p.jsxs("div",{className:"relative",children:[p.jsx("h4",{className:"text-md font-semibold text-dark-text-secondary mb-1",children:i}),p.jsxs("div",{className:"relative",children:[p.jsx("p",{className:"text-dark-text leading-relaxed bg-gray-900/50 p-3 rounded-md pr-12 w-full text-sm",children:n}),p.jsx("button",{onClick:o,className:"absolute top-1/2 right-2 -translate-y-1/2 bg-gray-700 hover:bg-brand-purple text-white font-bold p-2 rounded-lg transition-colors duration-300 flex items-center","aria-label":`Sao chp ${i}`,children:s?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("title",{children:"Sao chp"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})]})})]})]}),Rh=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),bv=({prompts:i})=>{const[n,o]=j.useState(null),s=(f,m)=>{navigator.clipboard.writeText(f).then(()=>{o(m),setTimeout(()=>o(null),2e3)})},u=f=>{if(i.length===0)return;let m="";f==="image"?m=i.map(x=>x.imagePrompt).join(`
`):m=i.map(x=>x.videoPrompt).join(`

---

`);const y=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(y),g=document.createElement("a");g.href=v,g.download=`${f}_prompts.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(v)};return p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-3xl font-bold",children:"Bc 2: Kt qu Prompt"}),p.jsx("p",{className:"text-dark-text-secondary",children:"y l cc prompt c to ra t kch bn ca bn."}),p.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[p.jsxs("button",{onClick:()=>u("image"),className:"py-2 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[p.jsx(Rh,{}),"Ti Prompt nh"]}),p.jsxs("button",{onClick:()=>u("video"),className:"py-2 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[p.jsx(Rh,{}),"Ti Prompt Video"]})]})]}),p.jsx("div",{className:"space-y-8",children:i.map((f,m)=>p.jsxs("div",{className:"bg-dark-card p-4 rounded-lg shadow-lg border border-dark-border",children:[p.jsx("h3",{className:"text-lg font-semibold text-brand-light-purple mb-2",children:f.sceneName}),p.jsx("p",{className:"text-dark-text-secondary mb-4 italic text-sm",children:f.sceneDescription}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(wh,{title:"Prompt nh",prompt:f.imagePrompt,onCopy:()=>s(f.imagePrompt,`${m}-image`),isCopied:n===`${m}-image`}),p.jsx(wh,{title:"Prompt Video",prompt:f.videoPrompt,onCopy:()=>s(f.videoPrompt,`${m}-video`),isCopied:n===`${m}-video`})]})]},m))})]})},ii=({message:i})=>{const n=["ang phn tch kch bn...","Chia kch bn thnh cc phn cnh...","To m t chi tit cho tng phn cnh...","Sp hon tt..."],[o,s]=$r.useState(i||n[0]);return $r.useEffect(()=>{if(i){s(i);return}const u=setInterval(()=>{s(f=>{const y=(n.indexOf(f)+1)%n.length;return n[y]})},3e3);return()=>clearInterval(u)},[i,n]),p.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-t-brand-purple border-gray-600 rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-xl text-white font-semibold",children:o})]})},Cv=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),li=({title:i,onBack:n})=>p.jsxs("div",{className:"relative flex items-center justify-center mb-8 md:mb-12",children:[p.jsxs("button",{onClick:n,className:"absolute left-0 flex items-center gap-2 text-dark-text-secondary hover:text-white transition-colors duration-300 font-semibold py-2 px-4 rounded-lg hover:bg-dark-card","aria-label":"Quay li Trang ch",children:[p.jsx(Cv,{}),p.jsx("span",{className:"hidden sm:inline",children:"Trang ch"})]}),p.jsx("h1",{className:"animated-gradient-text text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-brand-light-purple text-center px-16",children:i})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Av,Nv;function _v(){return{geminiUrl:Av,vertexUrl:Nv}}function Mv(i,n,o,s){var u,f;if(!(i!=null&&i.baseUrl)){const m=_v();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(f=m.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oi{}function ae(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const f=n[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,o){for(let f=0;f<n.length-1;f++){const m=n[f];if(m.endsWith("[]")){const y=m.slice(0,-2);if(!(y in i))if(Array.isArray(o))i[y]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[y])){const v=i[y];if(Array.isArray(o))for(let g=0;g<v.length;g++){const x=v[g];c(x,n.slice(f+1),o[g])}else for(const g of v)c(g,n.slice(f+1),o)}return}else if(m.endsWith("[0]")){const y=m.slice(0,-3);y in i||(i[y]=[{}]);const v=i[y];c(v[0],n.slice(f+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=n[n.length-1],u=i[s];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const u=n[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(y=>r(y,n.slice(s+1),o)):o}else return o}else i=i[u]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function wv(i,n){for(const[o,s]of Object.entries(n)){const u=o.split("."),f=s.split("."),m=new Set;let y=-1;for(let v=0;v<u.length;v++)if(u[v]==="*"){y=v;break}if(y!==-1&&f.length>y)for(let v=y;v<f.length;v++){const g=f[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}Wr(i,u,f,0,m)}}function Wr(i,n,o,s,u){if(s>=n.length||typeof i!="object"||i===null)return;const f=n[s];if(f.endsWith("[]")){const m=f.slice(0,-2),y=i;if(m in y&&Array.isArray(y[m]))for(const v of y[m])Wr(v,n,o,s+1,u)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,y=Object.keys(m).filter(g=>!g.startsWith("_")&&!u.has(g)),v={};for(const g of y)v[g]=m[g];for(const[g,x]of Object.entries(v)){const S=[];for(const E of o.slice(s))E==="*"?S.push(g):S.push(E);c(m,S,x)}for(const g of y)delete m[g]}}else{const m=i;f in m&&Wr(m[f],n,o,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rv(i){const n={},o=r(i,["operationName"]);o!=null&&c(n,["operationName"],o);const s=r(i,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function Iv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);f!=null&&c(n,["error"],f);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],Dv(m)),n}function kv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);f!=null&&c(n,["error"],f);const m=r(i,["response"]);return m!=null&&c(n,["response"],Uv(m)),n}function Dv(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Lv(m))),c(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Uv(i){const n={},o=r(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Gv(m))),c(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Lv(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],Hv(o)),n}function Gv(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],Pv(o)),n}function Vv(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function qv(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Hv(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],uu(s));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function Pv(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],uu(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ih;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ih||(Ih={}));var kh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(kh||(kh={}));var ie;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ie||(ie={}));var Dh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Dh||(Dh={}));var Uh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Uh||(Uh={}));var Lh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Lh||(Lh={}));var Gh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Gh||(Gh={}));var Vh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Vh||(Vh={}));var qh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qh||(qh={}));var Hh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hh||(Hh={}));var Ph;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Ph||(Ph={}));var zh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(zh||(zh={}));var Bh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bh||(Bh={}));var Oh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY"})(Oh||(Oh={}));var Yh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Yh||(Yh={}));var ya;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ya||(ya={}));var Jh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jh||(Jh={}));var eu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eu||(eu={}));var Fh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Fh||(Fh={}));var Kh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kh||(Kh={}));var jh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V"})(jh||(jh={}));var Xh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Xh||(Xh={}));var Qh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Qh||(Qh={}));var Zh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Zh||(Zh={}));var $h;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($h||($h={}));var Wh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Wh||(Wh={}));var ep;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(ep||(ep={}));var tp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(tp||(tp={}));var np;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(np||(np={}));var ip;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ip||(ip={}));var lp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lp||(lp={}));var op;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(op||(op={}));var ap;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ap||(ap={}));var sp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(sp||(sp={}));var rp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(rp||(rp={}));var up;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(up||(up={}));var cp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(cp||(cp={}));var dp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(dp||(dp={}));var fp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(fp||(fp={}));var hp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hp||(hp={}));var pp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(pp||(pp={}));var mp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mp||(mp={}));var gp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gp||(gp={}));var yp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(yp||(yp={}));var vp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vp||(vp={}));var xp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(xp||(xp={}));var Tp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tp||(Tp={}));var Sp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Sp||(Sp={}));var Yi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Yi||(Yi={}));class tu{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Fl{get text(){var n,o,s,u,f,m,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const S=[];for(const E of(v=(y=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[_,w]of Object.entries(E))_!=="text"&&_!=="thought"&&(w!==null||w!==void 0)&&S.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var n,o,s,u,f,m,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const S of(v=(y=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[E,_]of Object.entries(S))E!=="inlineData"&&(_!==null||_!==void 0)&&x.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,o,s,u,f,m,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(y=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,o,s,u,f,m,y,v,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(y=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,o,s,u,f,m,y,v,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(y=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class Ep{}class bp{}class zv{}class Bv{}class Ov{}class Yv{}class Cp{}class Ap{}class Np{}class Jv{}class va{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const s=new va;let u;const f=n;return o?u=kv(f):u=Iv(f),Object.assign(s,u),s}}class _p{}class Mp{}class wp{}class Fv{}class Kv{}class jv{}class Rp{}class Xv{get text(){var n,o,s;let u="",f=!1;const m=[];for(const y of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,g]of Object.entries(y))v!=="text"&&v!=="thought"&&g!==null&&m.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;f=!0,u+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var n,o,s;let u="";const f=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,v]of Object.entries(m))y!=="inlineData"&&v!==null&&f.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Qv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function lm(i,n){const o=Ce(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function om(i){return Array.isArray(i)?i.map(n=>xa(n)):[xa(i)]}function xa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function am(i){const n=xa(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sm(i){const n=xa(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ip(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function rm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Ip(n)):[Ip(i)]}function nu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function kp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Dp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return nu(i)?i:{role:"user",parts:rm(i)}}function cu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=lt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>lt(o)):[lt(n)]}function Ut(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(kp(i)||Dp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const n=[],o=[],s=nu(i[0]);for(const u of i){const f=nu(u);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(u);else{if(kp(u)||Dp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return s||n.push({role:"user",parts:rm(o)}),n}function Zv(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(ie).includes(o[0].toUpperCase())?o[0].toUpperCase():ie.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(ie).includes(s.toUpperCase())?s.toUpperCase():ie.TYPE_UNSPECIFIED})}}function Ji(i){const n={},o=["items"],s=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&Zv(i.type,n);for(const[m,y]of Object.entries(i))if(y!=null)if(m=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;n.type=Object.values(ie).includes(y.toUpperCase())?y.toUpperCase():ie.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=Ji(y);else if(s.includes(m)){const v=[];for(const g of y){if(g.type=="null"){n.nullable=!0;continue}v.push(Ji(g))}n[m]=v}else if(u.includes(m)){const v={};for(const[g,x]of Object.entries(y))v[g]=Ji(x);n[m]=v}else{if(m==="additionalProperties")continue;n[m]=y}return n}function du(i){return Ji(i)}function fu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function hu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ji(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ji(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ji(n.response));return i}function Xi(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function $v(i,n,o,s=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function un(i,n){if(typeof n!="string")throw new Error("name must be a string");return $v(i,n,"cachedContents")}function um(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ln(i){return uu(i)}function Wv(i){return i!=null&&typeof i=="object"&&"name"in i}function e0(i){return i!=null&&typeof i=="object"&&"video"in i}function t0(i){return i!=null&&typeof i=="object"&&"uri"in i}function cm(i){var n;let o;if(Wv(i)&&(o=i.name),!(t0(i)&&(o=i.uri,o===void 0))&&!(e0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function dm(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function fm(i){for(const n of["models","tunedModels","publisherModels"])if(n0(i,n))return i[n];return[]}function n0(i,n){return i!==null&&typeof i=="object"&&n in i}function i0(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function l0(i,n={}){const o=[],s=new Set;for(const u of i){const f=u.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const m=i0(u,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function hm(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function o0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function pm(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let f=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const v=m.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Qi(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function mm(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a0(i){const n={},o=r(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=r(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>V0(m))),c(n,["inlinedResponses"],f)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["inlinedEmbedContentResponses"],f)}return n}function s0(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=r(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function r0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=r(i,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ma(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],mm(u));const f=r(i,["metadata","createTime"]);f!=null&&c(n,["createTime"],f);const m=r(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const y=r(i,["metadata","updateTime"]);y!=null&&c(n,["updateTime"],y);const v=r(i,["metadata","model"]);v!=null&&c(n,["model"],v);const g=r(i,["metadata","output"]);return g!=null&&c(n,["dest"],a0(pm(g))),n}function iu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["state"]);u!=null&&c(n,["state"],mm(u));const f=r(i,["error"]);f!=null&&c(n,["error"],f);const m=r(i,["createTime"]);m!=null&&c(n,["createTime"],m);const y=r(i,["startTime"]);y!=null&&c(n,["startTime"],y);const v=r(i,["endTime"]);v!=null&&c(n,["endTime"],v);const g=r(i,["updateTime"]);g!=null&&c(n,["updateTime"],g);const x=r(i,["model"]);x!=null&&c(n,["model"],x);const S=r(i,["inputConfig"]);S!=null&&c(n,["src"],u0(S));const E=r(i,["outputConfig"]);return E!=null&&c(n,["dest"],s0(pm(E))),n}function u0(i){const n={},o=r(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=r(i,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function c0(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=r(n,["fileName"]);s!=null&&c(o,["fileName"],s);const u=r(n,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>G0(i,m))),c(o,["requests","requests"],f)}return o}function d0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=r(i,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function f0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&c(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function h0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function p0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function m0(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],g0(s));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=r(i,["urlContextMetadata"]);m!=null&&c(n,["urlContextMetadata"],m);const y=r(i,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const v=r(i,["groundingMetadata"]);v!=null&&c(n,["groundingMetadata"],v);const g=r(i,["index"]);g!=null&&c(n,["index"],g);const x=r(i,["logprobsResult"]);x!=null&&c(n,["logprobsResult"],x);const S=r(i,["safetyRatings"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),c(n,["safetyRatings"],E)}return n}function g0(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function gm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Y0(f))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function y0(i,n){const o={},s=r(i,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function v0(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],r0(o0(u))),o}function Up(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],c0(i,hm(i,u)));const f=r(n,["config"]);return f!=null&&y0(f,o),o}function x0(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],Ce(i,s));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],d0(hm(i,u)));const f=r(n,["config"]);return f!=null&&v0(f,o),o}function T0(i,n){const o={},s=r(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function S0(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],M0(i,u));const f=r(n,["config"]);return f!=null&&T0(f,o),o}function E0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function b0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function C0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);return f!=null&&c(n,["error"],f),n}function A0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);return f!=null&&c(n,["error"],f),n}function N0(i,n){const o={},s=r(n,["contents"]);if(s!=null){let f=cu(i,s);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["requests[]","request","content"],f)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],_0(u,o)),wv(o,{"requests[].*":"requests[].request.*"})),o}function _0(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function M0(i,n){const o={},s=r(n,["fileName"]);s!=null&&c(o,["file_name"],s);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],N0(i,u)),o}function w0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function R0(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],gm(lt(u)));const f=r(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=r(n,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const D=r(n,["seed"]);D!=null&&c(s,["seed"],D);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],du(z));const F=r(n,["responseJsonSchema"]);if(F!=null&&c(s,["responseJsonSchema"],F),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let re=O;Array.isArray(re)&&(re=re.map(De=>J0(De))),c(o,["safetySettings"],re)}const J=r(n,["tools"]);if(o!==void 0&&J!=null){let re=Xi(J);Array.isArray(re)&&(re=re.map(De=>F0(ji(De)))),c(o,["tools"],re)}const X=r(n,["toolConfig"]);if(o!==void 0&&X!=null&&c(o,["toolConfig"],X),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(n,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],un(i,Q));const K=r(n,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const W=r(n,["mediaResolution"]);W!=null&&c(s,["mediaResolution"],W);const L=r(n,["speechConfig"]);if(L!=null&&c(s,["speechConfig"],fu(L)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(n,["thinkingConfig"]);te!=null&&c(s,["thinkingConfig"],te);const de=r(n,["imageConfig"]);return de!=null&&c(s,["imageConfig"],de),s}function I0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>m0(g))),c(n,["candidates"],v)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const y=r(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function k0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function D0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],Qi(i,s)),o}function U0(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function L0(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function G0(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["request","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let y=Ut(u);Array.isArray(y)&&(y=y.map(v=>gm(v))),c(o,["request","contents"],y)}const f=r(n,["metadata"]);f!=null&&c(o,["metadata"],f);const m=r(n,["config"]);return m!=null&&c(o,["request","generationConfig"],R0(i,m,r(o,["request"],{}))),o}function V0(i){const n={},o=r(i,["response"]);o!=null&&c(n,["response"],I0(o));const s=r(i,["error"]);return s!=null&&c(n,["error"],s),n}function q0(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function H0(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const f=r(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function P0(i){const n={},o=r(i,["config"]);return o!=null&&q0(o,n),n}function z0(i){const n={},o=r(i,["config"]);return o!=null&&H0(o,n),n}function B0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>ma(m))),c(n,["batchJobs"],f)}return n}function O0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>iu(m))),c(n,["batchJobs"],f)}return n}function Y0(i){const n={},o=r(i,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&c(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&c(n,["inlineData"],f0(u));const f=r(i,["fileData"]);f!=null&&c(n,["fileData"],w0(f));const m=r(i,["thoughtSignature"]);m!=null&&c(n,["thoughtSignature"],m);const y=r(i,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(i,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const g=r(i,["executableCode"]);g!=null&&c(n,["executableCode"],g);const x=r(i,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(i,["text"]);return S!=null&&c(n,["text"],S),n}function J0(i){const n={};if(r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(i,["category"]);o!=null&&c(n,["category"],o);const s=r(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function F0(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&c(n,["googleSearch"],L0(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],U0(f));const m=r(i,["urlContext"]);m!=null&&c(n,["urlContext"],m);const y=r(i,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(i,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ni||(ni={}));class jl{constructor(n,o,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,u)}init(n,o,s){var u,f;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0 extends oi{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new jl(ni.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Up(this.apiClient,n),s=o._url,u=ae("{model}:batchGenerateContent",s),y=o.batch.inputConfig.requests,v=y.requests,g=[];for(const x of v){const S=Object.assign({},x);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=E,S.request=_}g.push(S)}return y.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const f=this.getGcsUri(n),m=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${u}`;else if(m)s.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=x0(this.apiClient,n);return y=ae("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>iu(x))}else{const g=Up(this.apiClient,n);return y=ae("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>ma(x))}}async createEmbeddingsInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=S0(this.apiClient,n);return f=ae("{model}:asyncBatchEmbedContent",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>ma(v))}}async get(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=D0(this.apiClient,n);return y=ae("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>iu(x))}else{const g=k0(this.apiClient,n);return y=ae("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>ma(x))}}async cancel(n){var o,s,u,f;let m="",y={};if(this.apiClient.isVertexAI()){const v=p0(this.apiClient,n);m=ae("batchPredictionJobs/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=h0(this.apiClient,n);m=ae("batches/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=z0(n);return y=ae("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=O0(x),E=new Rp;return Object.assign(E,S),E})}else{const g=P0(n);return y=ae("batches",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=B0(x),E=new Rp;return Object.assign(E,S),E})}}async delete(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=b0(this.apiClient,n);return y=ae("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>A0(x))}else{const g=E0(this.apiClient,n);return y=ae("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>C0(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&c(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Lp(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>mx(f))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function X0(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const f=r(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let x=Ut(m);Array.isArray(x)&&(x=x.map(S=>Lp(S))),c(n,["contents"],x)}const y=r(i,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],Lp(lt(y)));const v=r(i,["tools"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(S=>gx(S))),c(n,["tools"],x)}const g=r(i,["toolConfig"]);if(n!==void 0&&g!=null&&c(n,["toolConfig"],g),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Q0(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const f=r(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let S=Ut(m);Array.isArray(S)&&(S=S.map(E=>E)),c(n,["contents"],S)}const y=r(i,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],lt(y));const v=r(i,["tools"]);if(n!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>yx(E))),c(n,["tools"],S)}const g=r(i,["toolConfig"]);n!==void 0&&g!=null&&c(n,["toolConfig"],g);const x=r(i,["kmsKeyName"]);return n!==void 0&&x!=null&&c(n,["encryption_spec","kmsKeyName"],x),o}function Z0(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],lm(i,s));const u=r(n,["config"]);return u!=null&&X0(u,o),o}function $0(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],lm(i,s));const u=r(n,["config"]);return u!=null&&Q0(u,o),o}function W0(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],un(i,s)),o}function ex(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],un(i,s)),o}function tx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function nx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function ix(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function lx(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const y=r(i,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function ox(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],un(i,s)),o}function ax(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],un(i,s)),o}function sx(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function rx(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function ux(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function cx(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function dx(i){const n={},o=r(i,["config"]);return o!=null&&ux(o,n),n}function fx(i){const n={},o=r(i,["config"]);return o!=null&&cx(o,n),n}function hx(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function px(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function mx(i){const n={},o=r(i,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&c(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&c(n,["inlineData"],j0(u));const f=r(i,["fileData"]);f!=null&&c(n,["fileData"],ix(f));const m=r(i,["thoughtSignature"]);m!=null&&c(n,["thoughtSignature"],m);const y=r(i,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(i,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const g=r(i,["executableCode"]);g!=null&&c(n,["executableCode"],g);const x=r(i,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(i,["text"]);return S!=null&&c(n,["text"],S),n}function gx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&c(n,["googleSearch"],rx(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],sx(f));const m=r(i,["urlContext"]);m!=null&&c(n,["urlContext"],m);const y=r(i,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(i,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function yx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>lx(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&c(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&c(n,["enterpriseWebSearch"],m);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(i,["urlContext"]);v!=null&&c(n,["urlContext"],v);const g=r(i,["computerUse"]);g!=null&&c(n,["computerUse"],g);const x=r(i,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function vx(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function xx(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function Tx(i,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],un(i,s));const u=r(n,["config"]);return u!=null&&vx(u,o),o}function Sx(i,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],un(i,s));const u=r(n,["config"]);return u!=null&&xx(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ex extends oi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new jl(ni.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=$0(this.apiClient,n);return y=ae("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=Z0(this.apiClient,n);return y=ae("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=ax(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=ox(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=ex(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=nx(x),E=new Mp;return Object.assign(E,S),E})}else{const g=W0(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=tx(x),E=new Mp;return Object.assign(E,S),E})}}async update(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=Sx(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const g=Tx(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=fx(n);return y=ae("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=px(x),E=new wp;return Object.assign(E,S),E})}else{const g=dx(n);return y=ae("cachedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=hx(x),E=new wp;return Object.assign(E,S),E})}}}function Gp(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(i){return this instanceof Ge?(this.v=i,this):new Ge(i)}function Fi(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(_){return function(w){return Promise.resolve(w).then(_,S)}}function y(_,w){s[_]&&(u[_]=function(D){return new Promise(function(Y,z){f.push([_,D,Y,z])>1||v(_,D)})},w&&(u[_]=w(u[_])))}function v(_,w){try{g(s[_](w))}catch(D){E(f[0][3],D)}}function g(_){_.value instanceof Ge?Promise.resolve(_.value.v).then(x,S):E(f[0][2],_)}function x(_){v("next",_)}function S(_){v("throw",_)}function E(_,w){_(w),f.shift(),f.length&&v(f[0][0],f[0][1])}}function Kl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Gp=="function"?Gp(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(m){return new Promise(function(y,v){m=i[f](m),u(y,v,m.done,m.value)})}}function u(f,m,y,v){Promise.resolve(v).then(function(g){f({value:g,done:y})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bx(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:ym(o)}function ym(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Cx(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Vp(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const u=[];let f=!0;for(;s<o&&i[s].role==="model";)u.push(i[s]),f&&!ym(i[s])&&(f=!1),s++;f?n.push(...u):n.pop()}return n}class Ax{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new Nx(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Nx{constructor(n,o,s,u={},f=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),Cx(f)}async sendMessage(n){var o;await this.sendPromise;const s=lt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,y;const v=await u,g=(m=(f=v.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,x=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];x!=null&&(E=(y=x.slice(S))!==null&&y!==void 0?y:[]);const _=g?[g]:[];this.recordHistory(s,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const s=lt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,s)}getHistory(n=!1){const o=n?Vp(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,u;return Fi(this,arguments,function*(){var m,y,v,g;const x=[];try{for(var S=!0,E=Kl(n),_;_=yield Ge(E.next()),m=_.done,!m;S=!0){g=_.value,S=!1;const w=g;if(bx(w)){const D=(u=(s=w.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;D!==void 0&&x.push(D)}yield yield Ge(w)}}catch(w){y={error:w}}finally{try{!S&&!m&&(v=E.return)&&(yield Ge(v.call(E)))}finally{if(y)throw y.error}}this.recordHistory(o,x)})}recordHistory(n,o,s){let u=[];o.length>0&&o.every(f=>f.role!==void 0)?u=o:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Vp(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Ta.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _x(i){const n={},o=r(i,["file"]);return o!=null&&c(n,["file"],o),n}function Mx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function wx(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],cm(o)),n}function Rx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Ix(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],cm(o)),n}function kx(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function Dx(i){const n={},o=r(i,["config"]);return o!=null&&kx(o,n),n}function Ux(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["files"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lx extends oi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new jl(ni.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Dx(n);return f=ae("files",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=Ux(v),x=new Fv;return Object.assign(x,g),x})}}async createInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=_x(n);return f=ae("upload/v1beta/files",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const g=Mx(v),x=new Kv;return Object.assign(x,g),x})}}async get(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Ix(n);return f=ae("files/{file}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=wx(n);return f=ae("files/{file}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=Rx(v),x=new jv;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ga(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&c(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Gx(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Zx(f))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function Vx(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function qx(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const y=r(i,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function Hx(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(i,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const u=r(i,["candidateCount"]);u!=null&&c(n,["candidateCount"],u);const f=r(i,["enableAffectiveDialog"]);f!=null&&c(n,["enableAffectiveDialog"],f);const m=r(i,["frequencyPenalty"]);m!=null&&c(n,["frequencyPenalty"],m);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const v=r(i,["maxOutputTokens"]);v!=null&&c(n,["maxOutputTokens"],v);const g=r(i,["mediaResolution"]);g!=null&&c(n,["mediaResolution"],g);const x=r(i,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const S=r(i,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const _=r(i,["responseMimeType"]);_!=null&&c(n,["responseMimeType"],_);const w=r(i,["responseModalities"]);w!=null&&c(n,["responseModalities"],w);const D=r(i,["responseSchema"]);D!=null&&c(n,["responseSchema"],D);const Y=r(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const z=r(i,["seed"]);z!=null&&c(n,["seed"],z);const F=r(i,["speechConfig"]);F!=null&&c(n,["speechConfig"],vm(F));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const J=r(i,["temperature"]);J!=null&&c(n,["temperature"],J);const X=r(i,["thinkingConfig"]);X!=null&&c(n,["thinkingConfig"],X);const Q=r(i,["topK"]);Q!=null&&c(n,["topK"],Q);const K=r(i,["topP"]);return K!=null&&c(n,["topP"],K),n}function Px(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function zx(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Bx(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const y=r(i,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const x=r(i,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],hu(S));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=r(i,["systemInstruction"]);n!==void 0&&w!=null&&c(n,["setup","systemInstruction"],Gx(lt(w)));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let Q=Xi(D);Array.isArray(Q)&&(Q=Q.map(K=>Wx(ji(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],$x(Y));const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const F=r(i,["outputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","outputAudioTranscription"],F);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const J=r(i,["contextWindowCompression"]);n!==void 0&&J!=null&&c(n,["setup","contextWindowCompression"],J);const X=r(i,["proactivity"]);return n!==void 0&&X!=null&&c(n,["setup","proactivity"],X),o}function Ox(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],Hx(s));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const y=r(i,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const x=r(i,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],vm(hu(S)));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=r(i,["systemInstruction"]);n!==void 0&&w!=null&&c(n,["setup","systemInstruction"],lt(w));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let Q=Xi(D);Array.isArray(Q)&&(Q=Q.map(K=>eT(ji(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],Y);const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const F=r(i,["outputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","outputAudioTranscription"],F);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const J=r(i,["contextWindowCompression"]);n!==void 0&&J!=null&&c(n,["setup","contextWindowCompression"],J);const X=r(i,["proactivity"]);return n!==void 0&&X!=null&&c(n,["setup","proactivity"],X),o}function Yx(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ce(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],Bx(u,o)),o}function Jx(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ce(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],Ox(u,o)),o}function Fx(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function Kx(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["weightedPrompts"],s)}return n}function jx(i){const n={},o=r(i,["media"]);if(o!=null){let g=om(o);Array.isArray(g)&&(g=g.map(x=>ga(x))),c(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&c(n,["audio"],ga(sm(s)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&c(n,["video"],ga(am(f)));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["activityStart"]);y!=null&&c(n,["activityStart"],y);const v=r(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function Xx(i){const n={},o=r(i,["media"]);if(o!=null){let g=om(o);Array.isArray(g)&&(g=g.map(x=>x)),c(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&c(n,["audio"],sm(s));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&c(n,["video"],am(f));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["activityStart"]);y!=null&&c(n,["activityStart"],y);const v=r(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function Qx(i){const n={},o=r(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=r(i,["serverContent"]);s!=null&&c(n,["serverContent"],s);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const f=r(i,["toolCallCancellation"]);f!=null&&c(n,["toolCallCancellation"],f);const m=r(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],tT(m));const y=r(i,["goAway"]);y!=null&&c(n,["goAway"],y);const v=r(i,["sessionResumptionUpdate"]);return v!=null&&c(n,["sessionResumptionUpdate"],v),n}function Zx(i){const n={},o=r(i,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&c(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&c(n,["inlineData"],ga(u));const f=r(i,["fileData"]);f!=null&&c(n,["fileData"],Vx(f));const m=r(i,["thoughtSignature"]);m!=null&&c(n,["thoughtSignature"],m);const y=r(i,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(i,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const g=r(i,["executableCode"]);g!=null&&c(n,["executableCode"],g);const x=r(i,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(i,["text"]);return S!=null&&c(n,["text"],S),n}function $x(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function vm(i){const n={},o=r(i,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(i,["languageCode"]);return s!=null&&c(n,["languageCode"],s),n}function Wx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&c(n,["googleSearch"],zx(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],Px(f));const m=r(i,["urlContext"]);m!=null&&c(n,["urlContext"],m);const y=r(i,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(i,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function eT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>qx(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&c(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&c(n,["enterpriseWebSearch"],m);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(i,["urlContext"]);v!=null&&c(n,["urlContext"],v);const g=r(i,["computerUse"]);g!=null&&c(n,["computerUse"],g);const x=r(i,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function tT(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=r(i,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const f=r(i,["toolUsePromptTokenCount"]);f!=null&&c(n,["toolUsePromptTokenCount"],f);const m=r(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const y=r(i,["totalTokenCount"]);y!=null&&c(n,["totalTokenCount"],y);const v=r(i,["promptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(w=>w)),c(n,["promptTokensDetails"],_)}const g=r(i,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(w=>w)),c(n,["cacheTokensDetails"],_)}const x=r(i,["candidatesTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(w=>w)),c(n,["responseTokensDetails"],_)}const S=r(i,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(w=>w)),c(n,["toolUsePromptTokensDetails"],_)}const E=r(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&c(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function iT(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],lT(s));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=r(i,["urlContextMetadata"]);m!=null&&c(n,["urlContextMetadata"],m);const y=r(i,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const v=r(i,["groundingMetadata"]);v!=null&&c(n,["groundingMetadata"],v);const g=r(i,["index"]);g!=null&&c(n,["index"],g);const x=r(i,["logprobsResult"]);x!=null&&c(n,["logprobsResult"],x);const S=r(i,["safetyRatings"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),c(n,["safetyRatings"],E)}return n}function lT(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function oT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let f=Ut(u);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["contents"],f)}return o}function aT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(n,["tokensInfo"],u)}return n}function sT(i){const n={},o=r(i,["values"]);o!=null&&c(n,["values"],o);const s=r(i,["statistics"]);return s!=null&&c(n,["statistics"],rT(s)),n}function rT(i){const n={},o=r(i,["truncated"]);o!=null&&c(n,["truncated"],o);const s=r(i,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function Sa(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>hS(f))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function uT(i){const n={},o=r(i,["controlType"]);o!=null&&c(n,["controlType"],o);const s=r(i,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function cT(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function dT(i,n){const o={},s=r(i,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],lt(s));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>bm(y))),c(n,["tools"],m)}const f=r(i,["generationConfig"]);return n!==void 0&&f!=null&&c(n,["generationConfig"],eS(f)),o}function fT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ut(u);Array.isArray(m)&&(m=m.map(y=>Sa(y))),c(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&cT(f),o}function hT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ut(u);Array.isArray(m)&&(m=m.map(y=>y)),c(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&dT(f,o),o}function pT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function mT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function gT(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ce(i,s)),o}function yT(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ce(i,s)),o}function vT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function xT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function TT(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const y=r(i,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const x=r(i,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const _=r(i,["language"]);n!==void 0&&_!=null&&c(n,["parameters","language"],_);const w=r(i,["outputMimeType"]);n!==void 0&&w!=null&&c(n,["parameters","outputOptions","mimeType"],w);const D=r(i,["outputCompressionQuality"]);n!==void 0&&D!=null&&c(n,["parameters","outputOptions","compressionQuality"],D);const Y=r(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const z=r(i,["labels"]);n!==void 0&&z!=null&&c(n,["labels"],z);const F=r(i,["editMode"]);n!==void 0&&F!=null&&c(n,["parameters","editMode"],F);const O=r(i,["baseSteps"]);return n!==void 0&&O!=null&&c(n,["parameters","editConfig","baseSteps"],O),o}function ST(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=r(n,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>xS(v))),c(o,["instances[0]","referenceImages"],y)}const m=r(n,["config"]);return m!=null&&TT(m,o),o}function ET(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ea(f))),c(n,["generatedImages"],u)}return n}function bT(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CT(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const f=r(i,["outputDimensionality"]);n!==void 0&&f!=null&&c(n,["parameters","outputDimensionality"],f);const m=r(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const y=r(i,["autoTruncate"]);return n!==void 0&&y!=null&&c(n,["parameters","autoTruncate"],y),o}function AT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let y=cu(i,u);Array.isArray(y)&&(y=y.map(v=>v)),c(o,["requests[]","content"],y)}const f=r(n,["config"]);f!=null&&bT(f,o);const m=r(n,["model"]);return m!==void 0&&c(o,["requests[]","model"],Ce(i,m)),o}function NT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let m=cu(i,u);Array.isArray(m)&&(m=m.map(y=>y)),c(o,["instances[]","content"],m)}const f=r(n,["config"]);return f!=null&&CT(f,o),o}function _T(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function MT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>sT(m))),c(n,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function wT(i){const n={},o=r(i,["endpoint"]);o!=null&&c(n,["name"],o);const s=r(i,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function RT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function IT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const y=r(i,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function kT(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Sa(lt(u)));const f=r(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=r(n,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const D=r(n,["seed"]);D!=null&&c(s,["seed"],D);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],du(z));const F=r(n,["responseJsonSchema"]);if(F!=null&&c(s,["responseJsonSchema"],F),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let re=O;Array.isArray(re)&&(re=re.map(De=>TS(De))),c(o,["safetySettings"],re)}const J=r(n,["tools"]);if(o!==void 0&&J!=null){let re=Xi(J);Array.isArray(re)&&(re=re.map(De=>NS(ji(De)))),c(o,["tools"],re)}const X=r(n,["toolConfig"]);if(o!==void 0&&X!=null&&c(o,["toolConfig"],X),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(n,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],un(i,Q));const K=r(n,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const W=r(n,["mediaResolution"]);W!=null&&c(s,["mediaResolution"],W);const L=r(n,["speechConfig"]);if(L!=null&&c(s,["speechConfig"],fu(L)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(n,["thinkingConfig"]);te!=null&&c(s,["thinkingConfig"],te);const de=r(n,["imageConfig"]);return de!=null&&c(s,["imageConfig"],de),s}function DT(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],lt(u));const f=r(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(s,["presencePenalty"],_);const w=r(n,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const D=r(n,["seed"]);D!=null&&c(s,["seed"],D);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],du(z));const F=r(n,["responseJsonSchema"]);F!=null&&c(s,["responseJsonSchema"],F);const O=r(n,["routingConfig"]);O!=null&&c(s,["routingConfig"],O);const J=r(n,["modelSelectionConfig"]);J!=null&&c(s,["modelConfig"],J);const X=r(n,["safetySettings"]);if(o!==void 0&&X!=null){let V=X;Array.isArray(V)&&(V=V.map(H=>H)),c(o,["safetySettings"],V)}const Q=r(n,["tools"]);if(o!==void 0&&Q!=null){let V=Xi(Q);Array.isArray(V)&&(V=V.map(H=>bm(ji(H)))),c(o,["tools"],V)}const K=r(n,["toolConfig"]);o!==void 0&&K!=null&&c(o,["toolConfig"],K);const W=r(n,["labels"]);o!==void 0&&W!=null&&c(o,["labels"],W);const L=r(n,["cachedContent"]);o!==void 0&&L!=null&&c(o,["cachedContent"],un(i,L));const te=r(n,["responseModalities"]);te!=null&&c(s,["responseModalities"],te);const de=r(n,["mediaResolution"]);de!=null&&c(s,["mediaResolution"],de);const re=r(n,["speechConfig"]);re!=null&&c(s,["speechConfig"],Em(fu(re)));const De=r(n,["audioTimestamp"]);De!=null&&c(s,["audioTimestamp"],De);const Xe=r(n,["thinkingConfig"]);Xe!=null&&c(s,["thinkingConfig"],Xe);const Pe=r(n,["imageConfig"]);return Pe!=null&&c(s,["imageConfig"],Pe),s}function qp(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ut(u);Array.isArray(m)&&(m=m.map(y=>Sa(y))),c(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&c(o,["generationConfig"],kT(i,f,o)),o}function Hp(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ut(u);Array.isArray(m)&&(m=m.map(y=>y)),c(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&c(o,["generationConfig"],DT(i,f,o)),o}function Pp(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>iT(g))),c(n,["candidates"],v)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const y=r(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function zp(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["candidates"],g)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const f=r(i,["modelVersion"]);f!=null&&c(n,["modelVersion"],f);const m=r(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const y=r(i,["responseId"]);y!=null&&c(n,["responseId"],y);const v=r(i,["usageMetadata"]);return v!=null&&c(n,["usageMetadata"],v),n}function UT(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const f=r(i,["guidanceScale"]);if(n!==void 0&&f!=null&&c(n,["parameters","guidanceScale"],f),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const v=r(i,["includeSafetyAttributes"]);n!==void 0&&v!=null&&c(n,["parameters","includeSafetyAttributes"],v);const g=r(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const x=r(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const S=r(i,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const E=r(i,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=r(i,["imageSize"]);if(n!==void 0&&_!=null&&c(n,["parameters","sampleImageSize"],_),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function LT(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const y=r(i,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const x=r(i,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const _=r(i,["language"]);n!==void 0&&_!=null&&c(n,["parameters","language"],_);const w=r(i,["outputMimeType"]);n!==void 0&&w!=null&&c(n,["parameters","outputOptions","mimeType"],w);const D=r(i,["outputCompressionQuality"]);n!==void 0&&D!=null&&c(n,["parameters","outputOptions","compressionQuality"],D);const Y=r(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const z=r(i,["labels"]);n!==void 0&&z!=null&&c(n,["labels"],z);const F=r(i,["imageSize"]);n!==void 0&&F!=null&&c(n,["parameters","sampleImageSize"],F);const O=r(i,["enhancePrompt"]);return n!==void 0&&O!=null&&c(n,["parameters","enhancePrompt"],O),o}function GT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=r(n,["config"]);return f!=null&&UT(f,o),o}function VT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=r(n,["config"]);return f!=null&&LT(f,o),o}function qT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>QT(m))),c(n,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Tm(u)),n}function HT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>Ea(m))),c(n,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Sm(u)),n}function PT(i,n){const o={},s=r(i,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const m=r(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const y=r(i,["personGeneration"]);if(n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=r(i,["negativePrompt"]);n!==void 0&&v!=null&&c(n,["parameters","negativePrompt"],v);const g=r(i,["enhancePrompt"]);if(n!==void 0&&g!=null&&c(n,["parameters","enhancePrompt"],g),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=r(i,["lastFrame"]);n!==void 0&&x!=null&&c(n,["instances[0]","lastFrame"],ba(x));const S=r(i,["referenceImages"]);if(n!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>HS(_))),c(n,["instances[0]","referenceImages"],E)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function zT(i,n){const o={},s=r(i,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const f=r(i,["fps"]);n!==void 0&&f!=null&&c(n,["parameters","fps"],f);const m=r(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const v=r(i,["aspectRatio"]);n!==void 0&&v!=null&&c(n,["parameters","aspectRatio"],v);const g=r(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const x=r(i,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(i,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const E=r(i,["negativePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","negativePrompt"],E);const _=r(i,["enhancePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","enhancePrompt"],_);const w=r(i,["generateAudio"]);n!==void 0&&w!=null&&c(n,["parameters","generateAudio"],w);const D=r(i,["lastFrame"]);n!==void 0&&D!=null&&c(n,["instances[0]","lastFrame"],Ht(D));const Y=r(i,["referenceImages"]);if(n!==void 0&&Y!=null){let O=Y;Array.isArray(O)&&(O=O.map(J=>PS(J))),c(n,["instances[0]","referenceImages"],O)}const z=r(i,["mask"]);n!==void 0&&z!=null&&c(n,["instances[0]","mask"],qS(z));const F=r(i,["compressionQuality"]);return n!==void 0&&F!=null&&c(n,["parameters","compressionQuality"],F),o}function BT(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);f!=null&&c(n,["error"],f);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],FT(m)),n}function OT(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const f=r(i,["error"]);f!=null&&c(n,["error"],f);const m=r(i,["response"]);return m!=null&&c(n,["response"],KT(m)),n}function YT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=r(n,["image"]);f!=null&&c(o,["instances[0]","image"],ba(f));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],Cm(m));const y=r(n,["source"]);y!=null&&jT(y,o);const v=r(n,["config"]);return v!=null&&PT(v,o),o}function JT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=r(n,["image"]);f!=null&&c(o,["instances[0]","image"],Ht(f));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],Am(m));const y=r(n,["source"]);y!=null&&XT(y,o);const v=r(n,["config"]);return v!=null&&zT(v,o),o}function FT(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>$T(m))),c(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function KT(i){const n={},o=r(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>WT(m))),c(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function jT(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],ba(u));const f=r(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Cm(f)),o}function XT(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ht(u));const f=r(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Am(f)),o}function QT(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],oS(o));const s=r(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],Tm(u)),n}function Ea(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],xm(o));const s=r(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],Sm(u));const f=r(i,["prompt"]);return f!=null&&c(n,["enhancedPrompt"],f),n}function ZT(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["mask"],xm(o));const s=r(i,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(n,["labels"],u)}return n}function $T(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],GS(o)),n}function WT(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],VS(o)),n}function eS(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(i,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const u=r(i,["candidateCount"]);u!=null&&c(n,["candidateCount"],u);const f=r(i,["enableAffectiveDialog"]);f!=null&&c(n,["enableAffectiveDialog"],f);const m=r(i,["frequencyPenalty"]);m!=null&&c(n,["frequencyPenalty"],m);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const v=r(i,["maxOutputTokens"]);v!=null&&c(n,["maxOutputTokens"],v);const g=r(i,["mediaResolution"]);g!=null&&c(n,["mediaResolution"],g);const x=r(i,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const S=r(i,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const _=r(i,["responseMimeType"]);_!=null&&c(n,["responseMimeType"],_);const w=r(i,["responseModalities"]);w!=null&&c(n,["responseModalities"],w);const D=r(i,["responseSchema"]);D!=null&&c(n,["responseSchema"],D);const Y=r(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const z=r(i,["seed"]);z!=null&&c(n,["seed"],z);const F=r(i,["speechConfig"]);F!=null&&c(n,["speechConfig"],Em(F));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const J=r(i,["temperature"]);J!=null&&c(n,["temperature"],J);const X=r(i,["thinkingConfig"]);X!=null&&c(n,["thinkingConfig"],X);const Q=r(i,["topK"]);Q!=null&&c(n,["topK"],Q);const K=r(i,["topP"]);return K!=null&&c(n,["topP"],K),n}function tS(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ce(i,s)),o}function nS(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ce(i,s)),o}function iS(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function lS(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function oS(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Ln(o));const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function xm(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],Ln(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function ba(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Ln(o));const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ht(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Ln(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function aS(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=r(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const y=r(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],dm(i,y)),s}function sS(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=r(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const y=r(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],dm(i,y)),s}function rS(i,n){const o={},s=r(n,["config"]);return s!=null&&aS(i,s,o),o}function uS(i,n){const o={},s=r(n,["config"]);return s!=null&&sS(i,s,o),o}function cS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let f=fm(u);Array.isArray(f)&&(f=f.map(m=>lu(m))),c(n,["models"],f)}return n}function dS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let f=fm(u);Array.isArray(f)&&(f=f.map(m=>ou(m))),c(n,["models"],f)}return n}function fS(i){const n={},o=r(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=r(i,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function lu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const f=r(i,["version"]);f!=null&&c(n,["version"],f);const m=r(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],_S(m));const y=r(i,["inputTokenLimit"]);y!=null&&c(n,["inputTokenLimit"],y);const v=r(i,["outputTokenLimit"]);v!=null&&c(n,["outputTokenLimit"],v);const g=r(i,["supportedGenerationMethods"]);return g!=null&&c(n,["supportedActions"],g),n}function ou(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const f=r(i,["versionId"]);f!=null&&c(n,["version"],f);const m=r(i,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>wT(E))),c(n,["endpoints"],S)}const y=r(i,["labels"]);y!=null&&c(n,["labels"],y);const v=r(i,["_self"]);v!=null&&c(n,["tunedModelInfo"],MS(v));const g=r(i,["defaultCheckpointId"]);g!=null&&c(n,["defaultCheckpointId"],g);const x=r(i,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>E)),c(n,["checkpoints"],S)}return n}function hS(i){const n={},o=r(i,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&c(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&c(n,["inlineData"],nT(u));const f=r(i,["fileData"]);f!=null&&c(n,["fileData"],RT(f));const m=r(i,["thoughtSignature"]);m!=null&&c(n,["thoughtSignature"],m);const y=r(i,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(i,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const g=r(i,["executableCode"]);g!=null&&c(n,["executableCode"],g);const x=r(i,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(i,["text"]);return S!=null&&c(n,["text"],S),n}function pS(i){const n={},o=r(i,["productImage"]);return o!=null&&c(n,["image"],Ht(o)),n}function mS(i,n){const o={},s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","editConfig","baseSteps"],u);const f=r(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const m=r(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const y=r(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const g=r(i,["addWatermark"]);n!==void 0&&g!=null&&c(n,["parameters","addWatermark"],g);const x=r(i,["outputMimeType"]);n!==void 0&&x!=null&&c(n,["parameters","outputOptions","mimeType"],x);const S=r(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const E=r(i,["enhancePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","enhancePrompt"],E);const _=r(i,["labels"]);return n!==void 0&&_!=null&&c(n,["labels"],_),o}function gS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["source"]);u!=null&&vS(u,o);const f=r(n,["config"]);return f!=null&&mS(f,o),o}function yS(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Ea(u))),c(n,["generatedImages"],s)}return n}function vS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],Ht(u));const f=r(i,["productImages"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>pS(y))),c(n,["instances[0]","productImages"],m)}return o}function xS(i){const n={},o=r(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],Ht(o));const s=r(i,["referenceId"]);s!=null&&c(n,["referenceId"],s);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const f=r(i,["maskImageConfig"]);f!=null&&c(n,["maskImageConfig"],fS(f));const m=r(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],uT(m));const y=r(i,["styleImageConfig"]);y!=null&&c(n,["styleImageConfig"],y);const v=r(i,["subjectImageConfig"]);return v!=null&&c(n,["subjectImageConfig"],v),n}function Tm(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Sm(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function TS(i){const n={};if(r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(i,["category"]);o!=null&&c(n,["category"],o);const s=r(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function SS(i){const n={},o=r(i,["image"]);return o!=null&&c(n,["image"],Ht(o)),n}function ES(i,n){const o={},s=r(i,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const f=r(i,["confidenceThreshold"]);n!==void 0&&f!=null&&c(n,["parameters","confidenceThreshold"],f);const m=r(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const y=r(i,["binaryColorThreshold"]);n!==void 0&&y!=null&&c(n,["parameters","binaryColorThreshold"],y);const v=r(i,["labels"]);return n!==void 0&&v!=null&&c(n,["labels"],v),o}function bS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["source"]);u!=null&&AS(u,o);const f=r(n,["config"]);return f!=null&&ES(f,o),o}function CS(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>ZT(u))),c(n,["generatedMasks"],s)}return n}function AS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ht(u));const f=r(i,["scribbleImage"]);return n!==void 0&&f!=null&&c(n,["instances[0]","scribble"],SS(f)),o}function Em(i){const n={},o=r(i,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(i,["languageCode"]);return s!=null&&c(n,["languageCode"],s),n}function NS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&c(n,["googleSearch"],lS(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],iS(f));const m=r(i,["urlContext"]);m!=null&&c(n,["urlContext"],m);const y=r(i,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(i,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function bm(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>IT(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&c(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&c(n,["enterpriseWebSearch"],m);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(i,["urlContext"]);v!=null&&c(n,["urlContext"],v);const g=r(i,["computerUse"]);g!=null&&c(n,["computerUse"],g);const x=r(i,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function _S(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function MS(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function wS(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const f=r(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),o}function RS(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const f=r(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),o}function IS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","name"],Ce(i,s));const u=r(n,["config"]);return u!=null&&wS(u,o),o}function kS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["config"]);return u!=null&&RS(u,o),o}function DS(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["includeRaiReason"]);n!==void 0&&u!=null&&c(n,["parameters","includeRaiReason"],u);const f=r(i,["outputMimeType"]);n!==void 0&&f!=null&&c(n,["parameters","outputOptions","mimeType"],f);const m=r(i,["outputCompressionQuality"]);n!==void 0&&m!=null&&c(n,["parameters","outputOptions","compressionQuality"],m);const y=r(i,["enhanceInputImage"]);n!==void 0&&y!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],y);const v=r(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const g=r(i,["labels"]);n!==void 0&&g!=null&&c(n,["labels"],g);const x=r(i,["numberOfImages"]);n!==void 0&&x!=null&&c(n,["parameters","sampleCount"],x);const S=r(i,["mode"]);return n!==void 0&&S!=null&&c(n,["parameters","mode"],S),o}function US(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ce(i,s));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],Ht(u));const f=r(n,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=r(n,["config"]);return m!=null&&DS(m,o),o}function LS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ea(f))),c(n,["generatedImages"],u)}return n}function GS(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],Ln(s));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function VS(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],Ln(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function qS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["_self"],Ht(o));const s=r(i,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function HS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],ba(o));const s=r(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function PS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Ht(o));const s=r(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function Cm(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["videoBytes"]);s!=null&&c(n,["encodedVideo"],Ln(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function Am(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Ln(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zS="Content-Type",BS="X-Server-Timeout",OS="User-Agent",au="x-goog-api-client",YS="1.25.0",JS=`google-genai-sdk/${YS}`,FS="v1beta1",KS="v1beta",Bp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class jS{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:FS,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:KS,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const u=[this.getRequestUrlInternal(o)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,y]of Object.entries(n.queryParams))u.searchParams.append(m,String(y));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,n.abortSignal),this.unaryApiCall(u,f,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[u,f]of Object.entries(o))typeof f=="object"?s[u]=Object.assign(Object.assign({},s[u]),f):f!==void 0&&(s[u]=f);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,n.abortSignal),this.streamApiCall(u,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s){if(o&&o.timeout||s){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>u.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}s&&s.addEventListener("abort",()=>{u.abort()}),n.signal=f}return o&&o.extraBody!==null&&XS(n,o.extraBody),n.headers=await this.getHeadersInternal(o),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Op(u),new tu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Op(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return Fi(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:y,value:v}=yield Ge(u.read());if(y){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(v,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),_=E.status,w=E.code,D=`got status: ${_}. ${JSON.stringify(S)}`;if(w>=400&&w<600)throw new Ta({message:D,status:w})}}catch(S){if(S.name==="ApiError")throw S}m+=g;let x=m.match(Bp);for(;x;){const S=x[1];try{const E=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Ge(new tu(E)),m=m.slice(x[0].length),x=m.match(Bp)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=JS+" "+this.clientOptions.userAgentExtra;return n[OS]=o,n[au]=o,n[zS]="application/json",n}async getHeadersInternal(n){const o=new Headers;if(n&&n.headers){for(const[s,u]of Object.entries(n.headers))o.append(s,u);n.timeout&&n.timeout>0&&o.append(BS,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(n,o){var s;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,m=await f.stat(n);u.sizeBytes=String(m.size);const y=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=y;const v=await this.fetchUploadUrl(u,o);return f.upload(n,v,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o){var s;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const f={file:n},m=await this.request({path:ae("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Op(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(s);throw o>=400&&o<600?new Ta({message:u,status:o}):new Error(u)}}function XS(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,m){const y=Object.assign({},f);for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const g=m[v],x=y[v];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?y[v]=s(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),y[v]=g)}return y}const u=s(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS="mcp_used/unknown";let ZS=!1;function Nm(i){for(const n of i)if($S(n)||typeof n=="object"&&"inputSchema"in n)return!0;return ZS}function _m(i){var n;const o=(n=i[au])!==null&&n!==void 0?n:"";i[au]=(o+` ${QS}`).trimStart()}function $S(i){return i!==null&&typeof i=="object"&&i instanceof pu}function WS(i,n=100){return Fi(this,arguments,function*(){let s,u=0;for(;u<n;){const f=yield Ge(i.listTools({cursor:s}));for(const m of f.tools)yield yield Ge(m),u++;if(!f.nextCursor)break;s=f.nextCursor}})}class pu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new pu(n,o)}async initialize(){var n,o,s,u;if(this.mcpTools.length>0)return;const f={},m=[];for(const x of this.mcpClients)try{for(var y=!0,v=(o=void 0,Kl(WS(x))),g;g=await v.next(),n=g.done,!n;y=!0){u=g.value,y=!1;const S=u;m.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=x}}catch(S){o={error:S}}finally{try{!y&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),l0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await u.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eE(i,n,o){const s=new Qv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(s,u),n(s)}class tE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=lE(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${y}`;let g=()=>{};const x=new Promise(O=>{g=O}),S=n.callbacks,E=function(){g({})},_=this.apiClient,w={onopen:E,onmessage:O=>{eE(_,S.onmessage,O)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(O){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(O){}},D=this.webSocketFactory.create(v,iE(m),w);D.connect(),await x;const F={setup:{model:Ce(this.apiClient,n.model)}};return D.send(JSON.stringify(F)),new nE(D,this.apiClient)}}class nE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Kx(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=Fx(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Yi.PLAY)}pause(){this.sendPlaybackControl(Yi.PAUSE)}stop(){this.sendPlaybackControl(Yi.STOP)}resetContext(){this.sendPlaybackControl(Yi.RESET_CONTEXT)}close(){this.conn.close()}}function iE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function lE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aE(i,n,o){const s=new Xv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const f=JSON.parse(u);if(i.isVertexAI()){const m=Qx(f);Object.assign(s,m)}else Object.assign(s,f);n(s)}class sE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new tE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,u,f,m,y;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Nm(n.config.tools)&&_m(S);const E=dE(S);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const L=this.apiClient.getApiKey();let te="BidiGenerateContent",de="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",de="access_token"),x=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${te}?${de}=${L}`}let _=()=>{};const w=new Promise(L=>{_=L}),D=n.callbacks,Y=function(){var L;(L=D==null?void 0:D.onopen)===null||L===void 0||L.call(D),_({})},z=this.apiClient,F={onopen:Y,onmessage:L=>{aE(z,D.onmessage,L)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(L){},onclose:(s=D==null?void 0:D.onclose)!==null&&s!==void 0?s:function(L){}},O=this.webSocketFactory.create(x,cE(E),F);O.connect(),await w;let J=Ce(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const L=this.apiClient.getProject(),te=this.apiClient.getLocation();J=`projects/${L}/locations/${te}/`+J}let X={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[ya.AUDIO]}:n.config.responseModalities=[ya.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(y=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[],K=[];for(const L of Q)if(this.isCallableTool(L)){const te=L;K.push(await te.tool())}else K.push(L);K.length>0&&(n.config.tools=K);const W={model:J,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?X=Jx(this.apiClient,W):X=Yx(this.apiClient,W),delete X.config,O.send(JSON.stringify(X)),new uE(O,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const rE={turnComplete:!0};class uE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ut(o.turns),n.isVertexAI()||(s=s.map(u=>Sa(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(oE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},rE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Xx(n)}:o={realtimeInput:jx(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function cE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function dE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yp=10;function Jp(i){var n,o,s;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ki(m)){u=!0;break}if(!u)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ki(i){return"callTool"in i&&typeof i.callTool=="function"}function fE(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>Ki(u)))!==null&&s!==void 0?s:!1}function hE(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>!Ki(u)))!==null&&s!==void 0?s:!1}function Fp(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pE extends oi{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,u,f,m,y;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!fE(o)||Jp(o.config))return await this.generateContentInternal(v);if(hE(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,x;const S=Ut(v.contents),E=(f=(u=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:Yp;let _=0;for(;_<E&&(g=await this.generateContentInternal(v),!(!g.functionCalls||g.functionCalls.length===0));){const w=g.candidates[0].content,D=[];for(const Y of(y=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[])if(Ki(Y)){const F=await Y.callTool(g.functionCalls);D.push(...F)}_++,x={role:"user",parts:D},v.contents=Ut(v.contents),v.contents.push(w),v.contents.push(x),Fp(v.config)&&(S.push(w),S.push(x))}return Fp(v.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Jp(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var u;let f;const m=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((u=v==null?void 0:v.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=v==null?void 0:v.safetyAttributes:m.push(v);let y;return f?y={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:y={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},y}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new jl(ni.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var s,u,f,m,y,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(f=o.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((v=(y=o.source)===null||y===void 0?void 0:y.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,u;const f=(o=n.config)===null||o===void 0?void 0:o.tools;if(!f)return n;const m=await Promise.all(f.map(async v=>Ki(v)?await v.tool():v)),y={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(y.config.tools=m,n.config&&n.config.tools&&Nm(n.config.tools)){const v=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),_m(g),y.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return y}async initAfcToolsMap(n){var o,s,u;const f=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Ki(m)){const y=m,v=await y.tool();for(const g of(u=v.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,y)}}return f}async processAfcStream(n){var o,s,u;const f=(u=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Yp;let m=!1,y=0;const v=await this.initAfcToolsMap(n);return(function(g,x,S){var E,_;return Fi(this,arguments,function*(){for(var w,D,Y,z;y<f;){m&&(y++,m=!1);const X=yield Ge(g.processParamsMaybeAddMcpUsage(S)),Q=yield Ge(g.generateContentStreamInternal(X)),K=[],W=[];try{for(var F=!0,O=(D=void 0,Kl(Q)),J;J=yield Ge(O.next()),w=J.done,!w;F=!0){z=J.value,F=!1;const L=z;if(yield yield Ge(L),L.candidates&&(!((E=L.candidates[0])===null||E===void 0)&&E.content)){W.push(L.candidates[0].content);for(const te of(_=L.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(y<f&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(te.functionCall.name)){const de=yield Ge(x.get(te.functionCall.name).callTool([te.functionCall]));K.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(L){D={error:L}}finally{try{!F&&!w&&(Y=O.return)&&(yield Ge(Y.call(O)))}finally{if(D)throw D.error}}if(K.length>0){m=!0;const L=new Fl;L.candidates=[{content:{role:"user",parts:K}}],yield yield Ge(L);const te=[];te.push(...W),te.push({role:"user",parts:K});const de=Ut(S.contents).concat(te);S.contents=de}else break}})})(this,v,n)}async generateContentInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=Hp(this.apiClient,n);return y=ae("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=zp(x),E=new Fl;return Object.assign(E,S),E})}else{const g=qp(this.apiClient,n);return y=ae("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=Pp(x),E=new Fl;return Object.assign(E,S),E})}}async generateContentStreamInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=Hp(this.apiClient,n);return y=ae("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(S){return Fi(this,arguments,function*(){var E,_,w,D;try{for(var Y=!0,z=Kl(S),F;F=yield Ge(z.next()),E=F.done,!E;Y=!0){D=F.value,Y=!1;const O=D,J=zp(yield Ge(O.json()));J.sdkHttpResponse={headers:O.headers};const X=new Fl;Object.assign(X,J),yield yield Ge(X)}}catch(O){_={error:O}}finally{try{!Y&&!E&&(w=z.return)&&(yield Ge(w.call(z)))}finally{if(_)throw _.error}}})})}else{const g=qp(this.apiClient,n);return y=ae("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return Fi(this,arguments,function*(){var E,_,w,D;try{for(var Y=!0,z=Kl(S),F;F=yield Ge(z.next()),E=F.done,!E;Y=!0){D=F.value,Y=!1;const O=D,J=Pp(yield Ge(O.json()));J.sdkHttpResponse={headers:O.headers};const X=new Fl;Object.assign(X,J),yield yield Ge(X)}}catch(O){_={error:O}}finally{try{!Y&&!E&&(w=z.return)&&(yield Ge(w.call(z)))}finally{if(_)throw _.error}}})})}}async embedContent(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=NT(this.apiClient,n);return y=ae("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=MT(x),E=new Ep;return Object.assign(E,S),E})}else{const g=AT(this.apiClient,n);return y=ae("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=_T(x),E=new Ep;return Object.assign(E,S),E})}}async generateImagesInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=VT(this.apiClient,n);return y=ae("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=HT(x),E=new bp;return Object.assign(E,S),E})}else{const g=GT(this.apiClient,n);return y=ae("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=qT(x),E=new bp;return Object.assign(E,S),E})}}async editImageInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=ST(this.apiClient,n);return f=ae("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=ET(v),x=new zv;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=US(this.apiClient,n);return f=ae("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=LS(v),x=new Bv;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=gS(this.apiClient,n);return f=ae("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const g=yS(v),x=new Ov;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=bS(this.apiClient,n);return f=ae("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const g=CS(v),x=new Yv;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=nS(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>ou(x))}else{const g=tS(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>lu(x))}}async listInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=uS(this.apiClient,n);return y=ae("{models_url}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=dS(x),E=new Cp;return Object.assign(E,S),E})}else{const g=rS(this.apiClient,n);return y=ae("{models_url}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=cS(x),E=new Cp;return Object.assign(E,S),E})}}async update(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,n);return y=ae("{model}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>ou(x))}else{const g=IS(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>lu(x))}}async delete(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=yT(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=xT(x),E=new Ap;return Object.assign(E,S),E})}else{const g=gT(this.apiClient,n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=vT(x),E=new Ap;return Object.assign(E,S),E})}}async countTokens(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=hT(this.apiClient,n);return y=ae("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=mT(x),E=new Np;return Object.assign(E,S),E})}else{const g=fT(this.apiClient,n);return y=ae("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=pT(x),E=new Np;return Object.assign(E,S),E})}}async computeTokens(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=oT(this.apiClient,n);return f=ae("{model}:computeTokens",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const g=aT(v),x=new Jv;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,n);return y=ae("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>{const S=OT(x),E=new va;return Object.assign(E,S),E})}else{const g=YT(this.apiClient,n);return y=ae("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const S=BT(x),E=new va;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends oi{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=qv(n);return y=ae("{operationName}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m}else{const g=Vv(n);return y=ae("{operationName}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=Rv(n);return f=ae("{resourceName}:fetchPredictOperation",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&c(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function yE(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>AE(f))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function vE(i,n,o){const s={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const f=r(n,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const m=r(n,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const y=r(n,["liveConnectConstraints"]);o!==void 0&&y!=null&&c(o,["bidiGenerateContentSetup"],CE(i,y));const v=r(n,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),s}function xE(i,n){const o={},s=r(n,["config"]);return s!=null&&c(o,["config"],vE(i,s,o)),o}function TE(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function SE(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function EE(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function bE(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const y=r(i,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const x=r(i,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],hu(S));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=r(i,["systemInstruction"]);n!==void 0&&w!=null&&c(n,["setup","systemInstruction"],yE(lt(w)));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let Q=Xi(D);Array.isArray(Q)&&(Q=Q.map(K=>_E(ji(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],NE(Y));const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const F=r(i,["outputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","outputAudioTranscription"],F);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const J=r(i,["contextWindowCompression"]);n!==void 0&&J!=null&&c(n,["setup","contextWindowCompression"],J);const X=r(i,["proactivity"]);return n!==void 0&&X!=null&&c(n,["setup","proactivity"],X),o}function CE(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ce(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],bE(u,o)),o}function AE(i){const n={},o=r(i,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&c(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&c(n,["inlineData"],gE(u));const f=r(i,["fileData"]);f!=null&&c(n,["fileData"],TE(f));const m=r(i,["thoughtSignature"]);m!=null&&c(n,["thoughtSignature"],m);const y=r(i,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(i,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const g=r(i,["executableCode"]);g!=null&&c(n,["executableCode"],g);const x=r(i,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(i,["text"]);return S!=null&&c(n,["text"],S),n}function NE(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function _E(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),c(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&c(n,["googleSearch"],EE(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],SE(f));const m=r(i,["urlContext"]);m!=null&&c(n,["urlContext"],m);const y=r(i,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(i,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ME(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(f=>`${o}.${f}`);n.push(...u)}else n.push(o)}return n.join(",")}function wE(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const f=ME(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];u.length>0&&(y=u.map(g=>m.includes(g)?`generationConfig.${g}`:g));const v=[];f&&v.push(f),y.length>0&&v.push(...y),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class RE extends oi{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=xE(this.apiClient,n);f=ae("auth_tokens",y._url),m=y._query,delete y.config,delete y._url,delete y._query;const v=wE(y,n.config);return u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function kE(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function DE(i,n){const o={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=r(i,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&c(n,["displayName"],s),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=r(i,["epochCount"]);n!==void 0&&u!=null&&c(n,["tuningTask","hyperparameters","epochCount"],u);const f=r(i,["learningRateMultiplier"]);if(f!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=r(i,["batchSize"]);n!==void 0&&m!=null&&c(n,["tuningTask","hyperparameters","batchSize"],m);const y=r(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function UE(i,n){const o={},s=r(i,["validationDataset"]);n!==void 0&&s!=null&&c(n,["supervisedTuningSpec"],XE(s,o));const u=r(i,["tunedModelDisplayName"]);n!==void 0&&u!=null&&c(n,["tunedModelDisplayName"],u);const f=r(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);const m=r(i,["epochCount"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],m);const y=r(i,["learningRateMultiplier"]);n!==void 0&&y!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const v=r(i,["exportLastCheckpointOnly"]);n!==void 0&&v!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const g=r(i,["adapterSize"]);if(n!==void 0&&g!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],g),r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=r(i,["labels"]);return n!==void 0&&x!=null&&c(n,["labels"],x),o}function LE(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["preTunedModel"]);s!=null&&c(n,["preTunedModel"],s);const u=r(i,["trainingDataset"]);u!=null&&c(n,["tuningTask","trainingData"],FE(u));const f=r(i,["config"]);return f!=null&&DE(f,n),n}function GE(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["preTunedModel"]);s!=null&&c(n,["preTunedModel"],s);const u=r(i,["trainingDataset"]);u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],KE(u,n));const f=r(i,["config"]);return f!=null&&UE(f,n),n}function VE(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function qE(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function HE(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const f=r(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function PE(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const f=r(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function zE(i){const n={},o=r(i,["config"]);return o!=null&&HE(o,n),n}function BE(i){const n={},o=r(i,["config"]);return o!=null&&PE(o,n),n}function OE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Mm(m))),c(n,["tuningJobs"],f)}return n}function YE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>su(m))),c(n,["tuningJobs"],f)}return n}function JE(i){const n={},o=r(i,["name"]);o!=null&&c(n,["model"],o);const s=r(i,["name"]);return s!=null&&c(n,["endpoint"],s),n}function FE(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=r(i,["examples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["examples","examples"],s)}return n}function KE(i,n){const o={},s=r(i,["gcsUri"]);n!==void 0&&s!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],s);const u=r(i,["vertexDatasetResource"]);if(n!==void 0&&u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],u),r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Mm(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["state"]);u!=null&&c(n,["state"],um(u));const f=r(i,["createTime"]);f!=null&&c(n,["createTime"],f);const m=r(i,["tuningTask","startTime"]);m!=null&&c(n,["startTime"],m);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(n,["endTime"],y);const v=r(i,["updateTime"]);v!=null&&c(n,["updateTime"],v);const g=r(i,["description"]);g!=null&&c(n,["description"],g);const x=r(i,["baseModel"]);x!=null&&c(n,["baseModel"],x);const S=r(i,["_self"]);S!=null&&c(n,["tunedModel"],JE(S));const E=r(i,["customBaseModel"]);E!=null&&c(n,["customBaseModel"],E);const _=r(i,["experiment"]);_!=null&&c(n,["experiment"],_);const w=r(i,["labels"]);w!=null&&c(n,["labels"],w);const D=r(i,["outputUri"]);D!=null&&c(n,["outputUri"],D);const Y=r(i,["pipelineJob"]);Y!=null&&c(n,["pipelineJob"],Y);const z=r(i,["serviceAccount"]);z!=null&&c(n,["serviceAccount"],z);const F=r(i,["tunedModelDisplayName"]);F!=null&&c(n,["tunedModelDisplayName"],F);const O=r(i,["veoTuningSpec"]);return O!=null&&c(n,["veoTuningSpec"],O),n}function su(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["state"]);u!=null&&c(n,["state"],um(u));const f=r(i,["createTime"]);f!=null&&c(n,["createTime"],f);const m=r(i,["startTime"]);m!=null&&c(n,["startTime"],m);const y=r(i,["endTime"]);y!=null&&c(n,["endTime"],y);const v=r(i,["updateTime"]);v!=null&&c(n,["updateTime"],v);const g=r(i,["error"]);g!=null&&c(n,["error"],g);const x=r(i,["description"]);x!=null&&c(n,["description"],x);const S=r(i,["baseModel"]);S!=null&&c(n,["baseModel"],S);const E=r(i,["tunedModel"]);E!=null&&c(n,["tunedModel"],E);const _=r(i,["preTunedModel"]);_!=null&&c(n,["preTunedModel"],_);const w=r(i,["supervisedTuningSpec"]);w!=null&&c(n,["supervisedTuningSpec"],w);const D=r(i,["tuningDataStats"]);D!=null&&c(n,["tuningDataStats"],D);const Y=r(i,["encryptionSpec"]);Y!=null&&c(n,["encryptionSpec"],Y);const z=r(i,["partnerModelTuningSpec"]);z!=null&&c(n,["partnerModelTuningSpec"],z);const F=r(i,["customBaseModel"]);F!=null&&c(n,["customBaseModel"],F);const O=r(i,["experiment"]);O!=null&&c(n,["experiment"],O);const J=r(i,["labels"]);J!=null&&c(n,["labels"],J);const X=r(i,["outputUri"]);X!=null&&c(n,["outputUri"],X);const Q=r(i,["pipelineJob"]);Q!=null&&c(n,["pipelineJob"],Q);const K=r(i,["serviceAccount"]);K!=null&&c(n,["serviceAccount"],K);const W=r(i,["tunedModelDisplayName"]);W!=null&&c(n,["tunedModelDisplayName"],W);const L=r(i,["veoTuningSpec"]);return L!=null&&c(n,["veoTuningSpec"],L),n}function jE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["metadata"]);u!=null&&c(n,["metadata"],u);const f=r(i,["done"]);f!=null&&c(n,["done"],f);const m=r(i,["error"]);return m!=null&&c(n,["error"],m),n}function XE(i,n){const o={},s=r(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const u=r(i,["vertexDatasetResource"]);return n!==void 0&&u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QE extends oi{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new jl(ni.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),f=await this.tuneMldevInternal(u);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:eu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=qE(n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>su(x))}else{const g=VE(n);return y=ae("{name}",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>Mm(x))}}async listInternal(n){var o,s,u,f;let m,y="",v={};if(this.apiClient.isVertexAI()){const g=BE(n);return y=ae("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=YE(x),E=new _p;return Object.assign(E,S),E})}else{const g=zE(n);return y=ae("tunedModels",g._url),v=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const S=OE(x),E=new _p;return Object.assign(E,S),E})}}async cancel(n){var o,s,u,f;let m="",y={};if(this.apiClient.isVertexAI()){const v=kE(n);m=ae("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=IE(n);m=ae("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const y=GE(n);return f=ae("tuningJobs",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>su(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=LE(n);return f=ae("tunedModels",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>jE(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $E=1024*1024*8,WE=3,eb=1e3,tb=2,jr="x-goog-upload-status";async function nb(i,n,o){var s,u,f;let m=0,y=0,v=new tu(new Response),g="upload";for(m=i.size;y<m;){const S=Math.min($E,m-y),E=i.slice(y,y+S);y+S>=m&&(g+=", finalize");let _=0,w=eb;for(;_<WE&&(v=await o.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(y),"Content-Length":String(S)}}}),!(!((s=v==null?void 0:v.headers)===null||s===void 0)&&s[jr]));)_++,await lb(w),w=w*tb;if(y+=S,((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[jr])!=="active")break;if(m<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(v==null?void 0:v.json());if(((f=v==null?void 0:v.headers)===null||f===void 0?void 0:f[jr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function ib(i){return{size:i.size,type:i.type}}function lb(i){return new Promise(n=>setTimeout(n,i))}class ob{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await nb(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await ib(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ab{create(n,o,s){return new sb(n,o,s)}}class sb{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kp="x-goog-api-key";class rb{constructor(n){this.apiKey=n}async addAuthHeaders(n){if(n.get(Kp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Kp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="gl-node/";class wm{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=Mv(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new rb(this.apiKey);this.apiClient=new jS({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:ub+"web",uploader:new ob,downloader:new ZE}),this.models=new pE(this.apiClient),this.live=new sE(this.apiClient,u,new ab),this.batches=new K0(this.apiClient),this.chats=new Ax(this.models,this.apiClient),this.caches=new Ex(this.apiClient),this.files=new Lx(this.apiClient),this.operations=new mE(this.apiClient),this.authTokens=new RE(this.apiClient),this.tunings=new QE(this.apiClient)}}const Lt=()=>{const i=localStorage.getItem("gemini-api-key");if(!i)throw new Error("API Key khng c tm thy. Vui lng thit lp API Key  s dng cng c.");return new wm({apiKey:i})},Rm=i=>{const n={"in nh (Cinematic)":"cinematic style, dramatic lighting, hyperrealistic, 8k, movie still, 16:9 aspect ratio","in nh":"cinematic style, dramatic lighting, hyperrealistic, 8k, movie still, 16:9 aspect ratio","Hot hnh (Animation)":"vibrant 3D animation style, Pixar inspired, detailed characters, colorful, 16:9 aspect ratio","Hot hnh 3D":"vibrant 3D animation style, Pixar inspired, detailed characters, colorful, 16:9 aspect ratio","Tranh v thu mc":"Chinese ink wash painting style, minimalist, elegant brushstrokes, traditional art, high contrast, 16:9 aspect ratio","Vibe c ha Vit Nam":"Vietnamese antique art style, reminiscent of Nguyen dynasty woodblock prints and lacquer paintings (sn mi), traditional color palette, detailed cultural attire (like o di) and architecture, 16:9 aspect ratio","Ngi que (Stick Figure)":"simple stick figure drawing style, minimalist, black and white, clean lines, expressive poses, on a plain white background, 16:9 aspect ratio","Hand-drawn":"hand-drawn animation style, sketchy, textured, organic feel, 16:9 aspect ratio"};return n[i]?n[i]:i==="Default"?"":`${i} style, 16:9 aspect ratio`},cb=async(i,n,o,s,u)=>{const f=Lt();try{const m=Rm(o),v=`You are an expert prompt engineer for AI multimedia generation. Your task is to analyze a VIETNAMESE script and generate detailed prompts using the FIXED character descriptions provided below.

    **FIXED Character Descriptions (You MUST use these EXACTLY as written, or assume no characters if the list is empty):**
    ---
    ${u.length>0?u.map(E=>`- ${E.name}: ${E.prompt}`).join(`
`):"No characters defined for this script."}
    ---

    **CRITICAL Instructions:**
    1.  **Adhere to Character Prompts:** The character list above is definitive. You MUST use the descriptions verbatim for any character that appears. If the list is empty, assume there are no recurring characters to track. Do NOT invent your own character descriptions.
    2.  **Analyze Context:** Read the entire script to understand the overall time period and setting (e.g., "1990s Hanoi," "futuristic Ho Chi Minh City"). Adhere to this setting in all prompts for consistency.
    3.  **Time Segmentation:** Divide the script into exactly ${n} sequential segments.
    4.  **Output per Segment:** For each segment, generate FOUR pieces of information:
        a.  **sceneName:** "Phn cnh [Number] ([Start Time]s - [End Time]s)".
        b.  **sceneDescription:** A concise summary in VIETNAMESE.
        c.  **imagePrompt:** A highly detailed description in ENGLISH for a STATIC image. If characters from the list are present, you MUST prepend their FULL, FIXED descriptions to the start of the prompt. Incorporate the setting details. The prompt MUST end with the phrase ", no text, textless, no words, no letters".
        d.  **videoPrompt:** A description in ENGLISH of the ACTION and MOVEMENT. If characters from the list are present, you MUST prepend their FULL, FIXED descriptions to the start of the prompt. Incorporate setting details. The prompt MUST end with the phrase ", no text, textless, no words, no letters".
    5.  **Integrate Style:** Both prompts MUST seamlessly incorporate: "${m}".
    6.  **Language:** sceneName/sceneDescription = VIETNAMESE. imagePrompt/videoPrompt = ENGLISH.
    7.  **Numbering:** Both 'imagePrompt' and 'videoPrompt' MUST start with their corresponding segment number, followed by a period and a space (e.g., "1. ...").

    Analyze the user's script and provide the JSON output.`,g=`
    Please generate the image and video prompts based on this script:
    ---
    ${i}
    ---
    `,x=await f.models.generateContent({model:"gemini-2.5-flash",contents:g,config:{systemInstruction:v,responseMimeType:"application/json",responseSchema:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{sceneName:{type:ie.STRING,description:'The name for the scene, including time code, in Vietnamese. Format: "Phn cnh [Number] ([Start Time]s - [End Time]s)".'},sceneDescription:{type:ie.STRING,description:"A concise summary in VIETNAMESE of what happens in this scene."},imagePrompt:{type:ie.STRING,description:'The final, complete, detailed visual prompt for a STATIC IMAGE in ENGLISH, MUST be prefixed with its sequential number (e.g., "1. [prompt text]"). It includes character descriptions, style elements, and text removal instructions.'},videoPrompt:{type:ie.STRING,description:'The final, complete, detailed prompt for a VIDEO, describing MOTION and CAMERA MOVEMENT in ENGLISH, MUST be prefixed with its sequential number (e.g., "1. [prompt text]"). It includes character descriptions, style elements, and text removal instructions.'}},required:["sceneName","sceneDescription","imagePrompt","videoPrompt"]}}}}),S=JSON.parse(x.text);if(!S||S.length===0)throw new Error("Khng th to li nhc t kch bn.");return S}catch(m){throw console.error("Li khi to prompts:",m),m instanceof Error?new Error(` xy ra li: ${m.message}`):new Error(" xy ra li khng xc nh trong qu trnh to prompt.")}},db=async(i,n,o)=>{const s=Lt();try{const u={inlineData:{data:i,mimeType:n}},f=`
      Analyze the provided image in extreme detail. Deconstruct its style, subject matter, composition, color palette, lighting, and overall mood. 
      Your task is to create a highly descriptive and effective prompt in ENGLISH for an image generation AI like Imagen to replicate a similar image for a YouTube thumbnail.
      
      **CRITICAL INSTRUCTIONS:**
      1.  **Be Specific:** Instead of "a man", describe "a young man in his late 20s with short-cropped brown hair, wearing a navy blue hoodie".
      2.  **Describe Style:** Is it a photograph, digital art, a vector illustration, a cartoon? Is the style photorealistic, hyperrealistic, cinematic, flat design, etc.?
      3.  **Describe Composition:** Where are the main subjects located? Is it a close-up, a wide shot, a medium shot? What is the camera angle? (e.g., "eye-level shot", "low-angle shot").
      4.  **Describe Lighting:** Is the lighting soft, harsh, dramatic, cinematic, coming from a specific direction?
      5.  **Describe Color:** What are the dominant colors? Is the color palette vibrant, muted, monochromatic, pastel?
      ${o?"6.  **TEXT EXCLUSION (MANDATORY):** The user wants to EXCLUDE any text, words, or letters from the generated image. Your prompt MUST include the phrase: ', no text, textless, no words, no letters' at the end.":"6.  **TEXT INCLUSION (If applicable):** If the original image has prominent text, describe its style (e.g., 'bold, white, sans-serif font'), its content (if it seems generic like 'NEWS' or 'UPDATE'), and its placement. If the text is not a key element, you can ignore it."}
      7. **Final Prompt:** Combine all these elements into a single, cohesive paragraph in English. This is the only thing you should output. Do not add any preamble like "Here is your prompt:". The prompt must be optimized for generating a 16:9 aspect ratio image.
    `;return(await s.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[u,{text:f}]}})).text.trim()}catch(u){throw console.error("Li khi to prompt t nh:",u),u instanceof Error?new Error(`Khng th to prompt t nh: ${u.message}`):new Error(" xy ra li khng xc nh trong qu trnh phn tch nh.")}},fb=async(i,n)=>{const o=Lt();try{const s=`You are an expert prompt engineer for an image generation AI. Your task is to refine the user's existing prompt based on their specific instructions.
    
    **CRITICAL INSTRUCTIONS:**
    1.  Analyze the 'ORIGINAL PROMPT'.
    2.  Analyze the 'REFINEMENT INSTRUCTION'.
    3.  Integrate the instruction into the original prompt to create a new, improved prompt.
    4.  The new prompt should be a single, cohesive paragraph in ENGLISH.
    5.  Output ONLY the final refined prompt. Do not add any preamble like "Here is the refined prompt:".`,u=`
    **ORIGINAL PROMPT:**
    ---
    ${i}
    ---

    **REFINEMENT INSTRUCTION:**
    ---
    ${n}
    ---

    Please provide the refined prompt based on the instructions.`;return(await o.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{systemInstruction:s}})).text.trim()}catch(s){throw console.error("Li khi chnh sa prompt:",s),s instanceof Error?new Error(`Khng th chnh sa prompt: ${s.message}`):new Error(" xy ra li khng xc nh trong qu trnh chnh sa prompt.")}},Im=async(i,n)=>{const o=Lt();try{const u={"Chu u":"European","Chu ":"Asian","Chu Phi":"African","Nam M":"South American"}[n];let f;u?f=`The user has specified a fixed nationality. Your task is to:
    1.  Read the script to identify all distinct characters, including humans and animals.
    2.  For EACH character:
        a.  Determine if it is a HUMAN or an ANIMAL.
        b.  **For Humans:** You MUST assign them the nationality of **${u}**. IGNORE any clues in the script that contradict this. Create a detailed prompt based on this assigned nationality, describing their culturally-appropriate physical features, age, clothing, and personality.
        c.  **For Animals:** Identify the species. Create a detailed prompt describing its appearance (breed, color, size), personality, and any distinctive features. The fixed nationality does NOT apply to animals.
    3.  The final prompt for each character must be a comprehensive visual description in ENGLISH.`:f=`Your task is to perform a deep contextual analysis:
    1.  Read the entire script to identify all distinct characters, including humans and animals.
    2.  For EACH character:
        a.  Determine if it is a HUMAN or an ANIMAL.
        b.  **For Humans:** Infer their most likely nationality or ethnicity based on clues in the script (names, locations, cultural references). Create a detailed prompt describing their culturally-appropriate physical features (face, hair, eyes), age (inferred from script), clothing, and personality.
        c.  **For Animals:** Identify the species. Create a detailed prompt describing its appearance (breed, color, size), personality (e.g., playful, grumpy), and any distinctive features (e.g., a collar, a scar). Do NOT assign human nationalities to animals.
    3.  The final prompt for each character must be a comprehensive visual description in ENGLISH.`;const m=`You are an expert character designer and cultural anthropologist for generative AI. Your task is to analyze a VIETNAMESE script and create a definitive, detailed, and culturally accurate "character sheet" prompt in ENGLISH for each character. This description will be FIXED and used for all subsequent media generation.

    **CRITICAL INSTRUCTIONS:**
    ${f}

    **PROMPT CONSTRUCTION RULES FOR EACH CHARACTER:**
    - The final prompt must be a single, comprehensive paragraph in ENGLISH.
    - **For Humans:** It must include: Age & Nationality, Culturally-Appropriate Features, Outfit, Personality, and any signature Accessories.
    - **For Animals:** It must include: Species, Breed/Appearance details, Personality, and any signature features (like a collar).

    **FINAL OUTPUT FORMAT:**
    Your final output MUST be a JSON array of objects. Each object must contain two fields: "name" (the character's name in Vietnamese) and "prompt" (the final, combined, culturally-accurate description in English).

    **Example Output:**
    [
      {
        "name": "Hng",
        "prompt": "Hng, a 35-year-old Vietnamese man with a rugged face, sharp jawline, and short black hair. He typically wears a worn-out brown leather jacket, a simple grey t-shirt, and dark jeans, reflecting his serious and protective personality. He is never seen without his old silver locket."
      },
      {
        "name": "Vng",
        "prompt": "Vng, a playful Vietnamese Phu Quoc Ridgeback dog with golden-brown fur, a distinctive ridge of hair along its back, and intelligent, curious eyes. He is energetic and loyal, often seen wagging his tail and carrying a small rubber ball."
      },
      {
        "name": "John",
        "prompt": "John, a 28-year-old American man with wavy brown hair, blue eyes, and a light complexion with a few freckles. He has a friendly and open personality, often seen in a casual plaid shirt and denim jeans. He always wears a silver watch on his left wrist."
      }
    ]`,y=`
    Please analyze this script and generate the character descriptions in the specified JSON format:
    ---
    ${i}
    ---
    `,v=await o.models.generateContent({model:"gemini-2.5-flash",contents:y,config:{systemInstruction:m,responseMimeType:"application/json",responseSchema:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING,description:"The name of the character as it appears in the script (Vietnamese)."},prompt:{type:ie.STRING,description:"A detailed visual description of the character in English, following the specified instructions."}},required:["name","prompt"]}}}}),g=JSON.parse(v.text);return g||[]}catch(s){throw console.error("Li khi xc nh nhn vt:",s),s instanceof Error?new Error(` xy ra li: ${s.message}`):new Error(" xy ra li khng xc nh trong qu trnh xc nh nhn vt.")}},hb=async(i,n,o,s,u,f)=>{const m=Lt();try{const y=Rm(u),v=n.map(F=>`- ${F.name}: ${F.prompt}`).join(`
`),g=o*60+s,x=Math.max(1,Math.round(g/8)),S=Math.floor(g/60),E=g%60;let _,w;if(f==="Khng c thoi")_=`You are an expert animation film producer. Your task is to process a script, character descriptions, style, and duration to create a detailed scene breakdown. The script describes ACTIONS ONLY and has NO dialogue.

**CRITICAL Instructions:**

1.  **Adhere to Character Prompts:** The provided character descriptions are FIXED and must be used as-is.

2.  **Time Segmentation & NO DIALOGUE:**
    a.  The total video duration is ${S} minutes and ${E} seconds.
    b.  Divide the script into logical scenes based on actions and setting changes. Assume there is NO spoken dialogue.
    c.  Each scene should be approximately 8 seconds long. The final number of scenes should approximate the target of ${x}.

3.  **Visual Style:** All prompts MUST be tailored to the following visual style: **${y}**.

4.  **Output Format & Language (for each scene):**
    You must generate a JSON object with the following fields:
    a.  **sceneName (string):** A descriptive name in VIETNAMESE. Format: "Phn Cnh [Number] ([Start Time]s - [End Time]s)". Adjust timecodes based on the 8s/scene rule.
    b.  **mainEvents (string):** A summary of key actions in VIETNAMESE.
    c.  **charactersPresent (array of strings):** Names of characters in this scene.
    d.  **detailedVideoPrompt (string):** A comprehensive video prompt in ENGLISH.
        - **Start with Scene Number:** Must begin with its sequential number (e.g., "1. ...").
        - **Prepend Character Descriptions:** At the VERY BEGINNING, for EACH character present, copy their ENTIRE, UNCHANGED, predefined character prompt.
        - **Describe Action:** After character descriptions, describe the setting, actions, emotions, and camera movements in ENGLISH.
        - **Incorporate Style:** The entire prompt must adhere to the **${y}** visual style.
        - **MANDATORY SILENCE:** The prompt MUST end with the phrase ", no dialogue, silent film style". This is critical.

Your final output must be a single JSON array containing all the scene objects.`,w={sceneName:'The name for the scene, including time code, in VIETNAMESE. Format: "Phn Cnh [Number] ([Start Time]s - [End Time]s)".',mainEvents:"Summary of events in this scene, in VIETNAMESE.",detailedVideoPrompt:'The detailed video prompt in English (with NO dialogue), prefixed with its sequential number (e.g., "1. [prompt text]").'};else{const F=f==="Ting Vit"?"VIETNAMESE":"ENGLISH",O=f==="Ting Vit"?"VIETNAMESE":"ENGLISH",J=f==="Ting Vit"?'"Phn Cnh [Number] ([Start Time]s - [End Time]s)"':'"Scene [Number] ([Start Time]s - [End Time]s)"';_=`You are an expert animation film producer. Your task is to process a script, character descriptions, style, and duration to create a detailed scene breakdown. The script's dialogue language is ${F}.

**CRITICAL Instructions:**

1.  **Adhere to Character Prompts:** The provided character descriptions are FIXED and must be used as-is.

2.  **Time Segmentation & Dialogue Handling:**
    a.  The total video duration is ${S} minutes and ${E} seconds.
    b.  Divide the script into logical scenes. For each logical scene, analyze its dialogue.
    c.  **PRESERVE DIALOGUE:** Dialogue from the script MUST be included in the video prompt in its ORIGINAL language (${F}). DO NOT summarize or translate the dialogue.
    d.  **SPLIT LONG DIALOGUE:** If a character's single line of dialogue is longer than 80 characters, you MUST split that action into multiple, sequential 8-second video scenes.
    e.  Each new sub-scene will contain a chunk of the dialogue (max 80 characters).
    f.  **MAINTAIN CONTEXT:** When splitting, all resulting sub-scenes must maintain the same setting, characters, and overarching action to ensure continuity.
    g.  The final number of scenes should approximate the target of ${x}, but can be more if splitting is necessary.

3.  **Visual Style:** All prompts MUST be tailored to the following visual style: **${y}**.

4.  **Output Format & Language (for each scene or sub-scene):**
    You must generate a JSON object with the following fields:
    a.  **sceneName (string):** A descriptive name in ${O}. Format: ${J}. Adjust timecodes based on the 8s/scene rule.
    b.  **mainEvents (string):** A summary of key actions in ${F}, including the specific dialogue chunk for this scene.
    c.  **charactersPresent (array of strings):** Names of characters in this scene.
    d.  **detailedVideoPrompt (string):** A comprehensive video prompt in ENGLISH, except for the dialogue.
        - **Start with Scene Number:** Must begin with its sequential number (e.g., "1. ...").
        - **Prepend Character Descriptions:** At the VERY BEGINNING, for EACH character present, copy their ENTIRE, UNCHANGED, predefined character prompt.
        - **Describe Action & Dialogue:** After character descriptions, describe the setting, actions, emotions, and camera movements in ENGLISH. Then, embed the UNTRANSLATED dialogue chunk from the script.
        - **Incorporate Style:** The entire prompt must adhere to the **${y}** visual style.

Your final output must be a single JSON array containing all the scene objects.`,w={sceneName:`The name for the scene, including time code, in ${O}. Format: ${J}.`,mainEvents:`Summary of events in this scene, in ${F}.`,detailedVideoPrompt:'The detailed video prompt in English (with original dialogue), prefixed with its sequential number (e.g., "1. [prompt text]").'}}const D=`
    **Predefined Characters:**
    ---
    ${v}
    ---

    **Full Script:**
    ---
    ${i}
    ---

    Please generate the JSON scene breakdown based on the instructions.`,Y=await m.models.generateContent({model:"gemini-2.5-pro",contents:D,config:{systemInstruction:_,responseMimeType:"application/json",responseSchema:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{sceneName:{type:ie.STRING,description:w.sceneName},mainEvents:{type:ie.STRING,description:w.mainEvents},charactersPresent:{type:ie.ARRAY,items:{type:ie.STRING}},detailedVideoPrompt:{type:ie.STRING,description:w.detailedVideoPrompt}},required:["sceneName","mainEvents","charactersPresent","detailedVideoPrompt"]}}}}),z=JSON.parse(Y.text);if(!z||z.length===0)throw new Error("Khng th to phn cnh t kch bn.");return z}catch(y){throw console.error("Li khi to phn cnh hot hnh:",y),y instanceof Error?new Error(` xy ra li: ${y.message}`):new Error(" xy ra li khng xc nh trong qu trnh to phn cnh.")}},mu=async(i,n="Vietnamese")=>{const o=Lt();try{const s=`You are a highly proficient translator. Your sole task is to translate the user-provided text into ${n}. 
        - Output ONLY the translated text.
        - Do not add any extra explanations, greetings, or formatting.
        - Preserve the original meaning and tone as closely as possible.`;return(await o.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{systemInstruction:s,temperature:.2}})).text.trim()}catch(s){return console.error(`Li khi dch vn bn sang ${n}:`,s),i}},pb=async(i,n,o)=>{const s=Lt();try{const u=o==="Ting Vit"?"VIETNAMESE":"ENGLISH",f=`You are a world-class YouTube SEO expert and copywriter, specializing in the VidIQ methodology, writing in ${u}. Your task is to analyze the user's channel name and video content to generate highly optimized SEO metadata based on the provided VidIQ guidelines.

    **VidIQ SEO Guidelines (Aim for a score of 45-50/50):**
    1.  **Main Keyword:** Identify a main keyword from the video content.
    2.  **Keyword Placement:** The main keyword MUST appear in the Title, appear naturally 2-3 times in the Description, and be included in the Keywords/Tags.
    3.  **Title:** Must contain the main keyword.
    4.  **Description:** Must be over 250 characters. It should repeat the main keyword naturally.
    5.  **Keywords/Tags:** The list should contain 10-15 relevant tags, including the main keyword and related long-tail keywords.

    **CRITICAL Instructions:**
    1.  **Language:** All output (titles, description, keywords) MUST be in ${u}.
    2.  **Titles (Tiu ):** Generate exactly 5 compelling, clickable, and SEO-optimized titles that follow the guidelines.
    3.  **Description (M t):** Write a detailed, engaging, and professionally formatted video description in ${u} (over 250 characters). It must be visually appealing and easy to read. Structure it with the following elements, using emojis to enhance readability:
        - **Strong Hook (Cu M u Hp Dn):** Start with 1-2 compelling sentences that grab the viewer's attention and contain the main keyword.
        - **Detailed Summary (Tm Tt Chi Tit):** Provide a clear summary of the video's content. Use bullet points (e.g., with , , ) to list key topics or benefits covered in the video.
        - **Keyword Integration:** Naturally integrate the main keyword 2-3 times throughout the hook and summary.
        - **Calls to Action (Ku Gi Hnh ng):** Encourage viewers to LIKE, SUBSCRIBE, and COMMENT. Phrase this engagingly.
        - **Social/Contact Links (Lin Kt):** Include a section with placeholders for social media and contact info, like " Kt ni vi ${i}:\\n- Facebook: [Link Facebook ca bn]\\n- Zalo: [S Zalo ca bn]".
        - **Clarity & Spacing:** Use ample white space and clear headings to separate sections.
        - **Hashtags:** At the very end of the description, add a block of relevant hashtags. The first 3 hashtags MUST be based on the main keyword. The remaining hashtags should be related secondary keywords.
    4.  **Keywords (T kho):** Provide a comma-separated list of 10-15 keywords optimized for high search volume and low competition, as recommended by VidIQ.
    5.  **Output Format:** Your final output must be in a JSON format.`,m={type:ie.OBJECT,properties:{titles:{type:ie.ARRAY,items:{type:ie.STRING},description:`An array of 5 SEO-optimized video titles in ${u}.`},description:{type:ie.STRING,description:`A detailed video description in ${u}, over 250 characters, including a hashtag block at the end, following VidIQ guidelines.`},keywords:{type:ie.STRING,description:`A comma-separated list of 10-15 VidIQ-optimized keywords in ${u}.`}},required:["titles","description","keywords"]},y=`
    **Tn knh:** ${i}
    **Ni dung video:**
    ---
    ${n}
    ---

    Please generate the YouTube SEO metadata based on these details.
    `,v=await s.models.generateContent({model:"gemini-2.5-flash",contents:y,config:{systemInstruction:f,responseMimeType:"application/json",responseSchema:m}}),g=JSON.parse(v.text);if(!g)throw new Error("Khng th to d liu SEO.");return g}catch(u){throw console.error("Li khi to d liu SEO Youtube:",u),u instanceof Error?new Error(` xy ra li: ${u.message}`):new Error(" xy ra li khng xc nh trong qu trnh to d liu SEO.")}},mb=async i=>({inlineData:{data:await new Promise(o=>{const s=new FileReader;s.onloadend=()=>o(s.result.split(",")[1]),s.readAsDataURL(i)}),mimeType:i.type}}),gb=async i=>{const n=Lt();try{const o=await mb(i),s=`You are a professional film director AI. Your task is to analyze a video and provide a structured breakdown for pre-production.
        
        **CRITICAL INSTRUCTIONS:**
        1.  **Summarize:** First, provide a concise overall summary of the video's content in VIETNAMESE.
        2.  **Identify Main Characters:** Watch the entire video and identify all main characters. For each character, create a unique name and a detailed visual description (appearance, clothing, key features) in ENGLISH. This description must be consistent and detailed enough for an image generation AI.
        3.  **Identify Scenes:** Break the video down into distinct scenes. A scene change is marked by a significant shift in location, time, or subject matter.
        4.  **Describe Scenes:** For each scene, write a detailed description of the events and actions in VIETNAMESE. **IMPORTANT:** If the scene contains dialogue, you MUST transcribe the dialogue verbatim in its original language (e.g., keep Vietnamese dialogue in Vietnamese, keep English dialogue in English) within the scene description.
        5.  **Output Format:** Your final output MUST be a JSON object with three fields: "summary" (string), "characters" (an array of objects, each with "name" and "description" strings), and "scenes" (an array of strings, where each string is a detailed description of one scene).
        `,u={parts:[o,{text:"Please analyze this video according to the system instructions."}]},f=await n.models.generateContent({model:"gemini-2.5-pro",contents:u,config:{systemInstruction:s,responseMimeType:"application/json",responseSchema:{type:ie.OBJECT,properties:{summary:{type:ie.STRING,description:"A concise summary of the video in VIETNAMESE."},characters:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING,description:"The name of a main character identified in the video."},description:{type:ie.STRING,description:"A detailed visual description of the character in ENGLISH."}},required:["name","description"]}},scenes:{type:ie.ARRAY,items:{type:ie.STRING,description:"A detailed description of a single scene in VIETNAMESE. Dialogue should be transcribed in its original language."}}},required:["summary","characters","scenes"]}}}),m=JSON.parse(f.text);if(!m||!m.scenes||m.scenes.length===0)throw new Error("Khng th phn tch video hoc khng tm thy phn cnh no.");return m}catch(o){throw console.error("Li khi phn tch video:",o),o instanceof Error?new Error(` xy ra li: ${o.message}`):new Error(" xy ra li khng xc nh trong qu trnh phn tch video.")}},yb=async i=>{const n=Lt();try{const o=i.characters.map(y=>`- ${y.name}: ${y.description}`).join(`
`),s=`You are an expert prompt engineer for the Veo3 text-to-video model. You will be given predefined character descriptions (in ENGLISH) and a list of scene descriptions. The scene descriptions are primarily in VIETNAMESE but may contain dialogue in other languages.

        **CRITICAL INSTRUCTIONS:**

        1.  **Process Each Scene:** For each scene description provided, perform the following steps.

        2.  **Dialogue Handling & Splitting:**
            a.  Identify any dialogue within the scene description. Dialogue is often in quotes or follows a character's name and a colon (e.g., "Hng: ...").
            b.  **PRESERVE DIALOGUE LANGUAGE:** The dialogue MUST remain in its original language (Vietnamese or English). DO NOT TRANSLATE IT.
            c.  **SPLIT LONG DIALOGUE:** If the dialogue in a single scene is longer than 80 characters, you MUST split that scene into multiple, sequential sub-scenes.
            d.  Each sub-scene will contain a portion of the dialogue, with each portion being a maximum of 80 characters.
            e.  **MAINTAIN CONTEXT:** When splitting, ensure that all resulting sub-scenes carry over the original scene's context: the same characters, setting, and ongoing action. The only thing changing is the piece of dialogue being spoken.

        3.  **Prompt Construction (for each scene or sub-scene):**
            a.  **Translate Non-Dialogue:** Translate ONLY the non-dialogue parts of the scene description (actions, setting, mood) into highly descriptive, cinematic ENGLISH.
            b.  **Character Prepending:** Identify which predefined characters are present. Prepend their ENTIRE, UNCHANGED, predefined character description(s) to the very beginning of the prompt.
            c.  **Combine:** Create the final prompt by combining:
                - The prepended character description(s).
                - The translated cinematic description of the setting and action.
                - The original, untranslated dialogue chunk for that scene/sub-scene.
                - Add details about camera movement (e.g., "close-up shot", "pan left"), lighting, and mood.

        4.  **Final Output:**
            a.  Your final output MUST be a JSON array of strings.
            b.  Each string in the array is one complete, final Veo3 prompt for a single scene or sub-scene.
            c.  The number of prompts in the output array may be greater than the number of initial scenes if splitting occurred.
            d.  Each prompt MUST be a single, continuous line of text.
        `,u=`
        **Predefined Characters:**
        ---
        ${o}
        ---

        **Scene Descriptions to Process:**
        ---
        ${JSON.stringify(i.scenes)}
        ---
        `,f=await n.models.generateContent({model:"gemini-2.5-pro",contents:u,config:{systemInstruction:s,responseMimeType:"application/json",responseSchema:{type:ie.ARRAY,items:{type:ie.STRING,description:"A single, detailed Veo3 video prompt in ENGLISH, prepended with character descriptions if applicable."}}}}),m=JSON.parse(f.text);if(!m||m.length===0)throw new Error("Khng th to prompt Veo3 t cc phn cnh.");return m}catch(o){throw console.error("Li khi to prompts Veo3:",o),o instanceof Error?new Error(` xy ra li: ${o.message}`):new Error(" xy ra li khng xc nh trong qu trnh to prompts.")}},jp=async(i,n,o,s)=>{const u=Lt();try{const f=o>0?o*1e3:null,m=`You are an expert script analyst and screenwriter, specializing in transforming existing content for YouTube while avoiding policy violations. Your task is to perform a deep analysis of a competitor's script and rewrite it according to specific guidelines. The final output, including all analysis fields and the rewritten script, MUST be in ${s}.

        **ABSOLUTELY CRITICAL RULE FOR REWRITTEN SCRIPT:**
        The 'rewrittenScript' field in your JSON output MUST contain ONLY the story text (dialogue, narration). It must be a clean script ready for voiceover.
        -   **ZERO** technical notes (e.g., "Chuyn cnh", "Ht cnh").
        -   **ZERO** camera directions (e.g., "Cn cnh", "Ton cnh").
        -   **ZERO** parenthetical descriptions (e.g., "(hnh nh t liu v...)", "(hiu ng m thanh)").
        -   The output must be ONLY the words that are meant to be spoken. This is the most important rule.

        **CRITICAL WORKFLOW:**

        1.  **Analyze & Structure (Step 1):**
            a.  **Text Statistics (MANDATORY):** Calculate and return: word count, character count, and sentence count for the ORIGINAL script.
            b.  **Identify Characters:** Identify all distinct characters. For each, assign a role from this list: [Narrator, Protagonist, Antagonist, Supporting, Host, Symbolic]. Provide a brief description for each character based on the script.
            c.  **3-Act Structure:** Deconstruct the script into a classic three-act structure: Act 1 (Setup), Act 2 (Confrontation), Act 3 (Resolution). Summarize each act concisely.

        2.  **Rewrite (Step 2):**
            a.  **Core Goal:** Rewrite the entire script, following the **ABSOLUTELY CRITICAL RULE** stated above.
            b.  **Transformation:** The new script MUST retain all original information, characters, events, and facts. You MUST NOT simply change a few words. You must transform it by:
                -   Changing sentence structures significantly.
                -   Using a rich vocabulary of synonyms.
                -   Adding your own commentary, analysis, metaphors, or evaluations to provide new value (this is crucial for Fair Use).
            c.  **Tone/Persona Application:** Rewrite the script by adopting the persona and tone of a **"${n}"**. Embody the characteristics of this persona in your writing style, vocabulary, and sentence structure.
            d.  **Target Duration (ABSOLUTELY CRITICAL):** ${f?`The user requires a script for a video of exactly ${o} minute(s). You MUST generate a rewritten script that is PRECISELY **${f} characters** long. The allowed margin of error is extremely small: +/- 10 characters (i.e., between ${f-10} and ${f+10} characters). This is not a suggestion, it is a mandatory command. Meticulously expand on details or be extremely concise to hit this exact character count. Failure to meet this strict length requirement will make the output unusable.`:"Rewrite the script to a natural length based on the content."}
            e.  **Optimization:** Automatically insert a compelling hook at the beginning and a call-to-action (CTA) at the end. The CTA should encourage viewers to like, subscribe, and comment.

        3.  **Policy Check (Step 3):**
            a.  **Reuse Content:** Evaluate the rewritten script against the original. Provide a risk assessment (Low, Medium, High) and explain WHY.
            b.  **Fair Use:** Briefly explain how your rewritten version qualifies for Fair Use.
            c.  **Forbidden Words:** Scan for and list any words related to violence, politics, adult content, or medical misinformation. If none, state the equivalent of "No forbidden words found" in ${s}.

        4. **LANGUAGE REQUIREMENT (CRITICAL):** All text in the final JSON output, including character descriptions, structure summaries, policy notes, and the rewritten script itself, MUST be in ${s}.

        **FINAL OUTPUT FORMAT (MANDATORY):**
        Your output MUST be a single, valid JSON object that strictly follows the provided schema. Do not add any text or formatting outside of the JSON structure.`,y={type:ie.OBJECT,properties:{analysis:{type:ie.OBJECT,properties:{wordCount:{type:ie.NUMBER,description:"Word count of the ORIGINAL script."},charCount:{type:ie.NUMBER,description:"Character count of the ORIGINAL script."},sentenceCount:{type:ie.NUMBER,description:"Sentence count of the ORIGINAL script."},policyCheck:{type:ie.OBJECT,properties:{reuseRisk:{type:ie.STRING,description:"Risk assessment for Reuse Content (Low, Medium, High) with a brief explanation in the target language."},fairUseNotes:{type:ie.STRING,description:"Explanation of how the rewrite qualifies for Fair Use in the target language."},forbiddenWordsFound:{type:ie.ARRAY,items:{type:ie.STRING},description:"List of forbidden words found, or an empty array."}},required:["reuseRisk","fairUseNotes","forbiddenWordsFound"]}},required:["wordCount","charCount","sentenceCount","policyCheck"]},characters:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING},role:{type:ie.STRING},description:{type:ie.STRING}},required:["name","role","description"]}},threeActStructure:{type:ie.OBJECT,properties:{act1_setup:{type:ie.STRING,description:"Summary of Act 1 (Setup) in the target language."},act2_confrontation:{type:ie.STRING,description:"Summary of Act 2 (Confrontation) in the target language."},act3_resolution:{type:ie.STRING,description:"Summary of Act 3 (Resolution) in the target language."}},required:["act1_setup","act2_confrontation","act3_resolution"]},rewrittenScript:{type:ie.STRING,description:"The complete, rewritten script in the specified tone and target language."}},required:["analysis","characters","threeActStructure","rewrittenScript"]},v=await u.models.generateContent({model:"gemini-2.5-pro",contents:`**Script to analyze and rewrite:**
---
${i}
---`,config:{systemInstruction:m,responseMimeType:"application/json",responseSchema:y}}),g=JSON.parse(v.text);if(!g)throw new Error("Khng th phn tch v vit li kch bn.");return g}catch(f){throw console.error("Li khi vit li kch bn:",f),f instanceof Error?new Error(` xy ra li: ${f.message}`):new Error(" xy ra li khng xc nh trong qu trnh vit li kch bn.")}},vb=async(i,n,o,s,u,f,m)=>{const y=Lt();try{const v=s>0?s*1e3:null,g=`You are an expert screenwriter continuing a script rewriting task. You must work in ${o}.

        **CONTEXT:**
        - **Original Script:** The full original script is provided below for complete context.
        - **Task:** You are writing PART ${u} of a ${f}-part series.
        - **Previously Written:** The content for the previous part(s) is provided below.
        - **Your Goal:** Write the NEXT part of the script. It must seamlessly and logically continue from where the previous part ended.

        **CRITICAL INSTRUCTIONS:**
        1.  **SEAMLESS CONTINUITY (ABSOLUTE MANDATORY):** Your output MUST be a direct continuation of the previously written script. Start writing immediately from the point where the previous text ended. There must be NO introduction, NO greeting, NO part number, and NO mention that this is a new section. The transition must be completely invisible to the reader.
        2.  **Adopt Persona:** Maintain the persona of a **"${n}"**.
        3.  **Target Duration (ABSOLUTELY CRITICAL):** This new part of the script must be PRECISELY ${s} minute(s) long. This translates to an exact character count of **${v} characters**. You are allowed a tiny margin of error of +/- 10 characters (i.e., the text you generate must be between ${v-10} and ${v+10} characters long). This is a non-negotiable requirement. Do whatever is necessaryadd detail, use more descriptive words, or be conciseto meet this exact length.
        4.  **Language:** The output MUST be in ${o}.
        5.  **Output Format (STRICT):**
            -   Output ONLY the text for this new part.
            -   **DO NOT** include any preamble like "Here is Part ${u}:", "Tip theo l phn 2:", "Cho mng n vi phn 2", etc.
            -   **DO NOT** repeat any of the previous script.
            -   **DO NOT** add any analysis or JSON.
            -   The output must be just the new story text and nothing else.
        6.  **Clean Storytelling Output (CRITICAL):** The script part you write MUST be pure narrative/dialogue text suitable for a voiceover. DO NOT include any technical directions, scene transition notes (e.g., "Chuyn cnh"), camera instructions, or parenthetical visual descriptions. Just the new story text.

        **PREVIOUSLY REWRITTEN SCRIPT (Part ${u-1}):**
        ---
        ${m}
        ---
        `,x=`
        **FULL ORIGINAL SCRIPT (for context):**
        ---
        ${i}
        ---

        Please now write Part ${u} of ${f}.`;return(await y.models.generateContent({model:"gemini-2.5-pro",contents:x,config:{systemInstruction:g}})).text.trim()}catch(v){throw console.error(`Li khi vit tip kch bn phn ${u}:`,v),v instanceof Error?new Error(` xy ra li khi vit tip phn ${u}: ${v.message}`):new Error(" xy ra li khng xc nh trong qu trnh vit tip kch bn.")}},xb=async(i,n,o)=>{const s=Lt();try{const{genre:u,mood:f,vocals:m,language:y,instruments:v}=o,x=`You are a creative music producer and an expert prompt engineer for AI music generation tools like Suno. Your task is to generate unique, high-quality, and detailed music prompts based on the user's input and specifications.

        **CRITICAL WORKFLOW:**
        You will operate in one of two modes based on the user's 'inputMode'.

        **Mode 1: 'idea'**
        1.  The user provides a short theme or idea.
        2.  Your FIRST task is to expand this idea into a **complete song with full lyrics** in the specified language (${y}). The song MUST have a clear structure (e.g., [Verse 1], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]).
        3.  Your SECOND task is to analyze the song you just wrote and generate a creative song title and a detailed music prompt.
        4.  The 'lyrics' field in the final JSON MUST contain the full lyrics you generated.

        **Mode 2: 'lyrics'**
        1.  The user provides their own complete song lyrics.
        2.  Your task is to analyze these lyrics to understand their theme, mood, and structure.
        3.  Generate a fitting song title and a detailed music prompt that matches the provided lyrics.
        4.  The 'lyrics' field in the final JSON MUST contain the original, unchanged lyrics provided by the user.
        
        **ALL-MODE Instructions:**
        1.  **Generate Variations:** Create exactly 3 different and creative variations. Each variation should offer a unique angle on the user's core concept.
        2.  **Auto BPM (MANDATORY):** Based on the selected genre and mood, you MUST determine and include an appropriate BPM in the prompt string. For example: for 'Ballad', suggest a slow tempo like '70 BPM'; for 'EDM', suggest an energetic tempo like '128 BPM'.
        3.  **Prompt Language:** The main descriptive part of the prompt MUST be in ENGLISH, as this is what AI music models understand best.
        4.  **Song & Lyric Language:** The song title and the lyrics must be in the user-specified language: **${y}**.
        5.  **Prompt Structure:** Each generated prompt must be a comprehensive, single-line string of descriptive tags.
            - It MUST include: genre, mood, key instruments, vocal description (unless 'Khng li'), and the auto-generated BPM.
            - If vocals are 'Khng li', the prompt must include tags like "instrumental" or "no lyrics".
            - It MUST end with technical quality tags like: ", masterful composition, studio quality, rich reverb, stereo mix, 16-bit 44.1kHz".
        
        6.  **Generate Suno Settings (MANDATORY):** For each variation, you MUST also generate recommended settings for 'Weirdness' and 'Style Influence' in VIETNAMESE.
            - **Weirdness:** Provide a percentage range (e.g., '0% - 25%'). This controls creativity vs. predictability. Explain your choice briefly.
            - **Style Influence:** Provide a percentage range (e.g., '50% - 75%'). This controls how strongly the prompt's style tags influence the output. Explain your choice briefly.

        7.  **Output Format:** Your final output MUST be a single, valid JSON array of objects. Each object represents one prompt variation and must contain all the required fields.
        `,S=`
        **Input Mode:** "${n}"
        **User Input (Idea or Lyrics):**
        ---
        ${i}
        ---
        **Genre:** ${u}
        **Mood:** ${f}
        **Vocals:** ${m}
        **Language for Title/Lyrics:** ${y}
        **Main Instruments:** ${v}

        Please generate the JSON output based on these details.
        `,E=await s.models.generateContent({model:"gemini-2.5-pro",contents:S,config:{systemInstruction:x,responseMimeType:"application/json",responseSchema:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{title:{type:ie.STRING,description:`A creative and fitting song title in ${y}.`},prompt:{type:ie.STRING,description:"The full, detailed, single-line prompt in ENGLISH, including all musical and technical details and an auto-generated BPM."},lyrics:{type:ie.STRING,description:`The full song lyrics in ${y}. If inputMode was 'idea', this is the AI-generated lyrics. If inputMode was 'lyrics', this is the user's original lyrics.`},weirdness:{type:ie.OBJECT,properties:{value:{type:ie.STRING,description:"Recommended percentage range for Weirdness (e.g., '0% - 20%')."},explanation:{type:ie.STRING,description:"Brief explanation for the Weirdness setting in VIETNAMESE."}},required:["value","explanation"]},styleInfluence:{type:ie.OBJECT,properties:{value:{type:ie.STRING,description:"Recommended percentage range for Style Influence (e.g., '60% - 80%')."},explanation:{type:ie.STRING,description:"Brief explanation for the Style Influence setting in VIETNAMESE."}},required:["value","explanation"]}},required:["title","prompt","lyrics","weirdness","styleInfluence"]}}}}),_=JSON.parse(E.text);if(!_||_.length===0)throw new Error("Khng th to prompt cho Suno.");return _}catch(u){throw console.error("Li khi to prompts cho Suno:",u),u instanceof Error?new Error(` xy ra li: ${u.message}`):new Error(" xy ra li khng xc nh trong qu trnh to prompts cho Suno.")}},Tb=({currentStep:i,completedSteps:n,onStepClick:o})=>{const s=[{id:"script",title:"1. Kch bn & Ty chn"},{id:"characters",title:"2. Nhn vt"},{id:"prompts",title:"3. Kt qu Prompts"}];return p.jsx("nav",{className:"flex items-center justify-center mb-8","aria-label":"Progress",children:p.jsx("ol",{className:"flex items-center space-x-2 sm:space-x-4",children:s.map((u,f)=>{const m=n.has(u.id),y=i===u.id,v=m&&!y;return p.jsxs("li",{className:"flex items-center",children:[p.jsxs("button",{onClick:()=>v&&o(u.id),disabled:!v,className:`flex items-center text-sm font-medium ${v?"cursor-pointer":"cursor-default"}`,children:[p.jsx("span",{className:`flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full transition-colors duration-300 ${y?"bg-brand-purple text-white":m?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-400"}`,children:m&&!y?p.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):p.jsx("span",{children:f+1})}),p.jsx("span",{className:`ml-2 hidden sm:inline transition-colors duration-300 ${y?"text-white":m?"text-gray-300 hover:text-white":"text-gray-500"}`,children:u.title})]}),f<s.length-1&&p.jsx("div",{className:"flex-1 w-8 sm:w-16 h-0.5 bg-gray-600 ml-2 sm:ml-4"})]},u.id)})})})},Sb=({onGoHome:i})=>{const[n,o]=j.useState("script"),[s,u]=j.useState(new Set),[f,m]=j.useState(""),[y,v]=j.useState(null),[g,x]=j.useState(1),[S,E]=j.useState(0),[_,w]=j.useState(5),[D,Y]=j.useState("Default"),[z,F]=j.useState("Default"),[O,J]=j.useState([]),[X,Q]=j.useState([]),[K,W]=j.useState(!1),[L,te]=j.useState(""),[de,re]=j.useState(null),De=()=>{o("script"),u(new Set),m(""),v(null),x(1),E(0),w(5),Y("Default"),Q([]),J([]),F("Default"),re(null),W(!1)},Xe=$=>{(s.has($)||$==="script")&&o($)},Pe=($,ee,C)=>{J(U=>{const Z=[...U];return Z[$]={...Z[$],[ee]:C},Z})},V=async()=>{if(!f.trim()){re("Vui lng nhp hoc ti ln mt kch bn hoc  tng.");return}if(g*60+S<=0){re("Tng thi lng phi ln hn 0  to prompt.");return}W(!0),te("AI ang phn tch kch bn v xc nh nhn vt..."),re(null);try{const ee=await Im(f,z);if(ee&&ee.length>0){te("ang dch m t nhn vt...");const C=await Promise.all(ee.map(async U=>{const Z=await mu(U.prompt,"Vietnamese");return{...U,promptVietnamese:Z}}));J(C)}else J([]);u(C=>new Set(C).add("script")),o("characters")}catch(ee){re(ee instanceof Error?ee.message:" xy ra li khng xc nh khi phn tch nhn vt.")}finally{W(!1)}},H=async()=>{W(!0),te("ang to cc prompt chi tit..."),re(null);try{const $=g*60+S,ee=Math.round($/_),C=g+S/60,U=await cb(f,ee,D,C,O);Q(U),u(Z=>new Set(Z).add("characters")),o("prompts")}catch($){$ instanceof Error?re($.message):re(" xy ra li khng xc nh khi to prompt.")}finally{W(!1)}},ne=()=>{switch(n){case"script":return p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsx(xv,{script:f,setScript:m,fileName:y,setFileName:v})}),p.jsx("div",{className:"lg:col-span-1",children:p.jsx(Ev,{durationMinutes:g,setDurationMinutes:x,durationSeconds:S,setDurationSeconds:E,promptInterval:_,setPromptInterval:w,style:D,setStyle:Y,characterNationality:z,setCharacterNationality:F,onNextStep:V,nextStepButtonText:"Tip: Phn tch nhn vt",isLoading:K,scriptIsEmpty:!f.trim()})})]});case"characters":return p.jsxs("div",{className:"bg-dark-card p-4 sm:p-8 rounded-xl shadow-2xl border border-dark-border animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Bc 2: Chnh sa v c nh nhn vt"}),p.jsx("p",{className:"text-center text-dark-text-secondary mt-2 mb-6",children:"AI  phn tch kch bn v to m t. Bn c th chnh sa li trc khi to phn cnh  m bo tnh nht qun."}),O.length>0?p.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-2 rounded-md",children:O.map(($,ee)=>p.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-dark-border",children:[p.jsx("h3",{className:"font-bold text-lg mb-3 text-brand-light-purple",children:$.name}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:`char-prompt-vi-${ee}`,className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"M t (Ting Vit)"}),p.jsx("textarea",{id:`char-prompt-vi-${ee}`,value:$.promptVietnamese,onChange:C=>Pe(ee,"promptVietnamese",C.target.value),rows:3,className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:`char-prompt-en-${ee}`,className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Prompt gc (Ting Anh - Dng  to nh)"}),p.jsx("textarea",{id:`char-prompt-en-${ee}`,value:$.prompt,onChange:C=>Pe(ee,"prompt",C.target.value),rows:3,className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple"})]})]})]},ee))}):p.jsxs("div",{className:"text-center py-10 px-6 bg-gray-900/50 border border-dashed border-dark-border rounded-lg",children:[p.jsx("h3",{className:"text-xl font-semibold text-white",children:"Khng tm thy nhn vt"}),p.jsx("p",{className:"mt-1 text-md text-dark-text-secondary",children:"AI khng tm thy nhn vt no cn theo di trong kch bn ca bn."})]}),p.jsx("button",{onClick:H,disabled:K,className:"w-full mt-6 py-3 px-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:bg-gray-500 transition-colors",children:"Tip tc: To Prompts"})]});case"prompts":return p.jsxs("div",{className:"animate-fade-in",children:[p.jsx(bv,{prompts:X}),p.jsx("div",{className:"text-center mt-8",children:p.jsx("button",{onClick:De,className:"py-2 px-5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Lm li t u"})})]})}};return p.jsxs("div",{className:"animate-fade-in",children:[p.jsx(li,{title:"To hnh nh theo kch bn",onBack:i}),K&&p.jsx(ii,{message:L}),p.jsx(Tb,{currentStep:n,completedSteps:s,onStepClick:Xe}),de&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:de}),p.jsx("button",{onClick:()=>re(null),className:"ml-4 font-bold",children:"X"})]}),ne()]})},Eb=["Default","in nh","Hot hnh 3D","Ngi que (Stick Figure)","Anime","Pixar","Disney","GTA V","Roblox","Minecraft","Fortnite","LEGO","Claymation","Watercolor","Synthwave","Steampunk","Cyberpunk","Art Nouveau","Minimalist","Sketch","Comic Book","Manga","Photorealistic","Surreal","Pop Art","Grunge","Neon Noir","Cottagecore","Dark Academia","Live Action","Hollywood","Documentary","Music Video","Commercial","Street Photo","Portrait","Fashion","Realistic","Bauhaus","Sci-Fi","Fantasy","Horror","Western","Apocalyptic","Y2K","Kawaii","Retro","Memphis","Brutalist","Ink Drawing","Hand-drawn"],bb=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Cb=({currentStep:i,completedSteps:n,onStepClick:o})=>{const s=[{id:"script",title:"1. Kch bn"},{id:"characters",title:"2. Nhn vt"},{id:"scenes",title:"3. Phn cnh"}];return p.jsx("nav",{className:"flex items-center justify-center mb-8","aria-label":"Progress",children:p.jsx("ol",{className:"flex items-center space-x-2 sm:space-x-4",children:s.map((u,f)=>{const m=n.has(u.id),y=i===u.id,v=m&&!y;return p.jsxs("li",{className:"flex items-center",children:[p.jsxs("button",{onClick:()=>v&&o(u.id),disabled:!v,className:`flex items-center text-sm font-medium ${v?"cursor-pointer":"cursor-default"}`,children:[p.jsx("span",{className:`flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full transition-colors duration-300 ${y?"bg-brand-purple text-white":m?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-400"}`,children:m&&!y?p.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):p.jsx("span",{children:f+1})}),p.jsx("span",{className:`ml-2 hidden sm:inline transition-colors duration-300 ${y?"text-white":m?"text-gray-300 hover:text-white":"text-gray-500"}`,children:u.title})]}),f<s.length-1&&p.jsx("div",{className:"flex-1 w-8 sm:w-16 h-0.5 bg-gray-600 ml-2 sm:ml-4"})]},u.id)})})})},Ab=({onGoHome:i})=>{const[n,o]=j.useState("script"),[s,u]=j.useState(new Set),[f,m]=j.useState(""),[y,v]=j.useState(1),[g,x]=j.useState(0),[S,E]=j.useState("Default"),[_,w]=j.useState("Ting Vit"),[D,Y]=j.useState("Default"),[z,F]=j.useState([]),[O,J]=j.useState([]),[X,Q]=j.useState(!1),[K,W]=j.useState(""),[L,te]=j.useState(null),de=async $=>{W("AI ang to cc phn cnh chi tit...");const ee=await hb(f,$,y,g,S,_);J(ee),u(C=>new Set(C).add("script").add("characters")),o("scenes")},re=async()=>{if(!f.trim()){te("Vui lng nhp kch bn.");return}const $=y*60+g;if($<=0){te("Tng thi lng phi ln hn 0.");return}if($>900){te("Thi lng video khng c vt qu 15 pht.");return}te(null),Q(!0),W("AI ang phn tch kch bn v xc nh nhn vt...");try{const ee=await Im(f,D);if(ee&&ee.length>0){W("ang dch m t nhn vt...");const C=await Promise.all(ee.map(async U=>{const Z=await mu(U.prompt,"Vietnamese");return{name:U.name,prompt:U.prompt,promptVietnamese:Z}}));F(C),u(U=>new Set(U).add("script")),o("characters")}else F([]),await de([])}catch(ee){te(ee instanceof Error?ee.message:" xy ra li khng xc nh khi phn tch v to cnh.")}finally{Q(!1)}},De=async()=>{te(null),Q(!0);try{await de(z)}catch($){te($ instanceof Error?$.message:" xy ra li khng xc nh khi to phn cnh.")}finally{Q(!1)}},Xe=()=>{o("script"),u(new Set),m(""),v(1),x(0),E("Default"),w("Ting Vit"),Y("Default"),F([]),J([]),Q(!1),te(null)},Pe=$=>{(s.has($)||$==="script")&&o($)},V=($,ee,C)=>{F(U=>{const Z=[...U];return Z[$]={...Z[$],[ee]:C},Z})},H=()=>{if(O.length===0)return;const $=O.map(Z=>Z.detailedVideoPrompt).join(`

`),ee=new Blob([$],{type:"text/plain;charset=utf-8"}),C=URL.createObjectURL(ee),U=document.createElement("a");U.href=C,U.download="veo_animation_prompts.txt",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(C)},ne=()=>{switch(n){case"script":{const $=y*60+g,ee=$>0?Math.round($/8):0;return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Bc 1: Nhp Kch Bn & Ty chn"}),p.jsx("p",{className:"text-center text-yellow-400 text-sm -mt-4",children:"Lu : Thi lng video ti a l 15 pht  m bo hiu sut v cht lng tt nht."}),p.jsx("textarea",{value:f,onChange:C=>m(C.target.value),placeholder:"Nhp hoc dn ton b kch bn ca bn vo y...",className:"w-full h-80 p-4 bg-dark-card border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple focus:border-brand-purple transition-all duration-300 resize-y"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-900/50 p-4 rounded-lg",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"duration-minutes",className:"block text-md font-medium text-dark-text-secondary",children:"Thi lng Video"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{id:"duration-minutes",type:"number",value:y,onChange:C=>{let U=Math.max(0,Number(C.target.value));U>15&&(U=15),v(U),U>=15&&x(0)},min:"0",max:"15",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple","aria-label":"Pht"}),p.jsx("span",{className:"text-dark-text-secondary",children:"pht"}),p.jsx("input",{id:"duration-seconds",type:"number",value:g,onChange:C=>x(Math.max(0,Math.min(59,Number(C.target.value)))),min:"0",max:"59",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Giy",disabled:y>=15}),p.jsx("span",{className:"text-dark-text-secondary",children:"giy"})]}),p.jsxs("p",{id:"duration-helper",className:"text-xs text-dark-text-secondary mt-1",children:["D kin to ",ee," phn cnh (8s/cnh)."]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"style",className:"block text-md font-medium text-dark-text-secondary",children:"Phong cch"}),p.jsx("select",{id:"style",value:S,onChange:C=>E(C.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple",children:Eb.map(C=>p.jsx("option",{value:C,children:C},C))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"nationality",className:"block text-md font-medium text-dark-text-secondary",children:"Quc tch nhn vt"}),p.jsxs("select",{id:"nationality",value:D,onChange:C=>Y(C.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple",children:[p.jsx("option",{value:"Default",children:"Mc nh (AI t nhn din)"}),p.jsx("option",{value:"Chu u",children:"Chu u"}),p.jsx("option",{value:"Chu ",children:"Chu "}),p.jsx("option",{value:"Chu Phi",children:"Chu Phi"}),p.jsx("option",{value:"Nam M",children:"Nam M"})]}),p.jsx("p",{className:"text-xs text-dark-text-secondary mt-1",children:"p dng cho tt c nhn vt trong kch bn."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"language",className:"block text-md font-medium text-dark-text-secondary",children:"Ngn ng kch bn & thoi"}),p.jsxs("select",{id:"language",value:_,onChange:C=>w(C.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple focus:border-brand-purple",children:[p.jsx("option",{value:"Ting Vit",children:"Thoi Ting Vit (Prompt Ting Anh)"}),p.jsx("option",{value:"Ting Anh",children:"Thoi & Prompt Ting Anh"}),p.jsx("option",{value:"Khng c thoi",children:"Khng c thoi (Video cm)"})]})]})]}),p.jsx("button",{onClick:re,disabled:X||!f.trim(),className:"w-full py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 transition-colors",children:"Tip tc: Phn tch nhn vt"})]})}case"characters":return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Bc 2: Chnh sa v c nh nhn vt"}),p.jsx("p",{className:"text-center text-dark-text-secondary",children:"AI  phn tch kch bn v to m t. Bn c th chnh sa li trc khi to phn cnh."}),p.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-2 rounded-md",children:z.map(($,ee)=>p.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-dark-border",children:[p.jsx("h3",{className:"font-bold text-lg mb-3 text-brand-light-purple",children:$.name}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:`char-prompt-vi-${ee}`,className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"M t (Ting Vit)"}),p.jsx("textarea",{id:`char-prompt-vi-${ee}`,value:$.promptVietnamese,onChange:C=>V(ee,"promptVietnamese",C.target.value),rows:3,className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:`char-prompt-en-${ee}`,className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Prompt gc (Ting Anh - Dng  to video)"}),p.jsx("textarea",{id:`char-prompt-en-${ee}`,value:$.prompt,onChange:C=>V(ee,"prompt",C.target.value),rows:3,className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple"})]})]})]},ee))}),p.jsx("button",{onClick:De,disabled:X,className:"w-full py-3 px-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:bg-gray-500 transition-colors",children:"Tip tc: To cc phn cnh"})]});case"scenes":return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Bc 3: Kt Qu Phn Cnh"}),O.length>0&&p.jsx("div",{className:"mt-4",children:p.jsxs("button",{onClick:H,className:"inline-flex items-center justify-center py-2 px-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-500 transition-colors",children:[p.jsx(bb,{}),"Ti v ton b Prompts (.txt)"]})})]}),p.jsx("div",{className:"space-y-4 max-h-[65vh] overflow-y-auto p-2 rounded-md",children:O.map(($,ee)=>p.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-dark-border",children:[p.jsx("h3",{className:"font-bold text-lg text-brand-light-purple mb-2",children:$.sceneName}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text-secondary",children:"S kin chnh:"})," ",$.mainEvents]}),p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text-secondary",children:"Nhn vt xut hin:"})," ",$.charactersPresent.join(", ")]}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-dark-text-secondary",children:"Prompt Video chi tit:"}),p.jsx("p",{className:"mt-1 p-2 bg-black/30 rounded text-gray-300 whitespace-pre-wrap",children:$.detailedVideoPrompt})]})]})]},ee))})]})}};return p.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[p.jsx(li,{title:"To prompt Veo3 hng lot",onBack:i}),X&&p.jsx(ii,{message:K}),p.jsxs("div",{className:"bg-dark-card p-4 sm:p-8 rounded-xl shadow-2xl border border-dark-border",children:[p.jsx(Cb,{currentStep:n,completedSteps:s,onStepClick:Pe}),L&&p.jsxs("div",{className:"mb-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("span",{className:"block sm:inline",children:L}),p.jsx("button",{onClick:()=>te(null),className:"ml-4 font-bold",children:"X"})]}),ne()]}),p.jsx("div",{className:"text-center mt-8",children:n!=="script"&&p.jsx("button",{onClick:Xe,className:"py-2 px-5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Lm li t u"})})]})},Nb=p.jsxs(p.Fragment,{children:[p.jsx("h2",{children:"Giai on chun b"}),p.jsx("p",{children:"Khi to knh hon chnh  bt u giai on ngm knh."}),p.jsxs("p",{children:[p.jsx("strong",{children:"Thi gian ngm:"})," 7 ngy"]}),p.jsx("p",{children:"Sau khi ngm , tin hnh ng video chnh thc."}),p.jsx("h3",{children:"Nguyn tc ngm:"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Ngy 1:"})," 3 video"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Ngy 2-3:"})," 3 video/ngy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Ngy 4-7:"})," 46 video/ngy"]})]}),p.jsx("h2",{children:" Chi tit tng ngy"}),p.jsx("h3",{children:"Ngy 1  Ngy 3"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Video:"})," 3 video/ngy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Thao tc:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Xem mi video 5 pht"}),p.jsx("li",{children:"Sau  Like , Bnh lun , Share "}),p.jsx("li",{children:"Khng qu 5 bnh lun/ngy"}),p.jsx("li",{children:"Mi ngy dnh 1530 pht  thao tc"})]})]})]}),p.jsx("h3",{children:"Ngy 4  Ngy 7"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Video:"})," 5 video/ngy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Thao tc Video:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Xem mi video 5 pht"}),p.jsx("li",{children:"Like , Bnh lun , Share , ng k "}),p.jsx("li",{children:"Khng qu 10 bnh lun/ngy"}),p.jsx("li",{children:"Khng ng k qu 5 knh/ngy"}),p.jsx("li",{children:"Mi ngy dnh 1530 pht"})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Shorts:"})," 1020 video/ngy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Thao tc Shorts:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Xem mi video 34 ln"}),p.jsx("li",{children:"Ln 1: Like "}),p.jsx("li",{children:"Ln 2: Bnh lun "}),p.jsx("li",{children:"Ln 3: Share "}),p.jsx("li",{children:"Ln 4: ng k knh "}),p.jsx("li",{children:"Khng qu 10 bnh lun/ngy"})]})]})]}),p.jsx("h3",{children:"T ngy 8 tr i"}),p.jsx("p",{children:" Lp li ton b thao tc nh trn (gi nhp n nh  duy tr tn hiu cho knh)."})]}),_b=[{id:7,title:"Quy Trnh Ngm Knh YouTube Cho Ngi Mi Bt u",description:'Hng dn chi tit quy trnh 7 ngy  "ngm" knh YouTube mi, to tn hiu tt v chun b cho vic ng video chnh thc.',imageUrl:"https://images.unsplash.com/photo-1611926653458-09294b3142b4?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",tags:["Tng trng knh","Chin lc","Ngi mi"],content:Nb}],Xp=({onGoHome:i,onNavigateToArticle:n})=>p.jsxs("div",{className:"animate-fade-in max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"animated-gradient-text text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-brand-light-purple mb-4",children:"Th Vin Kinh Nghim YouTube"}),p.jsx("p",{className:"max-w-2xl mx-auto text-lg text-dark-text-secondary",children:"Tng hp cc bi vit, hng dn v kinh nghim thc chin gip bn xy dng v pht trin knh YouTube thnh cng."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:_b.map(o=>p.jsxs("button",{onClick:()=>n(o),className:"group block text-left bg-dark-card rounded-xl border border-dark-border overflow-hidden transition-all duration-300 hover:border-brand-purple/50 hover:-translate-y-1 hover:shadow-2xl",children:[p.jsx("div",{className:"aspect-video overflow-hidden",children:p.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:o.tags.map(s=>p.jsx("span",{className:"text-xs font-semibold bg-brand-purple/20 text-brand-light-purple px-3 py-1 rounded-full",children:s},s))}),p.jsx("h2",{className:"text-xl font-bold text-white mb-2 group-hover:text-brand-light-purple transition-colors",children:o.title}),p.jsx("p",{className:"text-dark-text-secondary text-sm leading-relaxed",children:o.description})]})]},o.id))}),p.jsx("div",{className:"text-center mt-12",children:p.jsx("button",{onClick:i,className:"py-3 px-8 bg-brand-purple text-white font-bold rounded-lg hover:bg-brand-light-purple transition-colors text-lg",children:"Tr v Trang ch"})})]}),Mb=({article:i,onBack:n})=>p.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-dark-text-secondary hover:text-white transition-colors duration-300 font-semibold py-2 px-4 rounded-lg hover:bg-dark-card","aria-label":"Quay li Th vin",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),p.jsx("span",{children:"Quay li Th vin"})]})}),p.jsxs("article",{children:[p.jsxs("header",{className:"mb-8 border-b border-dark-border pb-6",children:[p.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:i.tags.map(o=>p.jsx("span",{className:"text-sm font-semibold bg-brand-purple/20 text-brand-light-purple px-4 py-1 rounded-full",children:o},o))}),p.jsx("h1",{id:"article-viewer-title",className:"animated-gradient-text text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-brand-light-purple",children:i.title})]}),p.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-auto max-h-[500px] object-cover rounded-xl my-8 shadow-2xl border border-dark-border"}),p.jsxs("div",{className:"article-content",children:[p.jsx("style",{children:`
                .article-content h2 { font-size: 1.75rem; font-weight: bold; margin-top: 2rem; margin-bottom: 1rem; color: #fff; border-bottom: 1px solid #374151; padding-bottom: 0.5rem; }
                .article-content h3 { font-size: 1.5rem; font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #d1d5db; }
                .article-content p { margin-bottom: 1.25rem; line-height: 1.7; color: #9ca3af; }
                .article-content strong { color: #d1d5db; }
                .article-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1.25rem; color: #9ca3af; }
                .article-content ul ul { list-style-type: circle; margin-top: 0.5rem; margin-left: 1rem;}
                .article-content li { margin-bottom: 0.5rem; }
            `}),i.content]})]})]}),wb=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Rb=({onGoHome:i})=>{const[n,o]=j.useState(null),[s,u]=j.useState(null),[f,m]=j.useState(!0),[y,v]=j.useState(""),[g,x]=j.useState(""),[S,E]=j.useState(!1),[_,w]=j.useState(""),[D,Y]=j.useState(null),z=j.useRef(null),[F,O]=j.useState(!1),J=W=>{var te;const L=(te=W.target.files)==null?void 0:te[0];if(L){if(!L.type.startsWith("image/")){Y("Vui lng ti ln mt tp nh hp l (JPEG, PNG, WEBP, etc.).");return}const de=new FileReader;de.onloadend=()=>{o(de.result),u(L.type),v(""),Y(null)},de.readAsDataURL(L)}},X=async()=>{if(!n||!s){Y("Vui lng ti nh mu ln trc.");return}E(!0),w("AI ang phn tch nh v to prompt..."),Y(null);try{const W=n.split(",")[1],L=await db(W,s,f);v(L)}catch(W){Y(W instanceof Error?W.message:" xy ra li khng xc nh khi to prompt.")}finally{E(!1)}},Q=async()=>{if(!y){Y("Vui lng to prompt ban u trc.");return}if(!g.trim()){Y("Vui lng nhp yu cu chnh sa.");return}E(!0),w("AI ang chnh sa prompt..."),Y(null);try{const W=await fb(y,g);v(W),x("")}catch(W){Y(W instanceof Error?W.message:" xy ra li khng xc nh khi chnh sa prompt.")}finally{E(!1)}},K=()=>{y&&navigator.clipboard.writeText(y).then(()=>{O(!0),setTimeout(()=>O(!1),2e3)})};return p.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[S&&p.jsx(ii,{message:_}),p.jsx(li,{title:"To Thumbnail theo nh mu",onBack:i}),D&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:D}),p.jsx("button",{onClick:()=>Y(null),className:"ml-4 font-bold",children:"X"})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 1: Ti nh mu & To prompt gc"}),p.jsxs("div",{className:"border-2 border-dashed border-dark-border rounded-lg p-8 text-center cursor-pointer hover:border-brand-purple transition-colors",onClick:()=>{var W;return(W=z.current)==null?void 0:W.click()},children:[p.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",ref:z,"aria-label":"Ti ln nh mu"}),n?p.jsx("img",{src:n,alt:"nh mu  ti ln",className:"max-h-64 mx-auto rounded-lg shadow-lg"}):p.jsxs("div",{children:[p.jsx(wb,{}),p.jsx("p",{className:"text-dark-text-secondary",children:"Nhn  ti ln nh ca bn"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, WEBP, etc."})]})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[p.jsx("input",{type:"checkbox",id:"remove-text",checked:f,onChange:W=>m(W.target.checked),className:"h-5 w-5 rounded border-gray-300 text-brand-purple focus:ring-brand-purple bg-gray-700",disabled:!n}),p.jsx("label",{htmlFor:"remove-text",className:"text-md font-medium text-dark-text",children:"T ng b ch khi nh mu"})]}),p.jsx("button",{onClick:X,disabled:!n||S,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"To Prompt"})]}),p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 2: Chnh sa Prompt"}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"generated-prompt",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Prompt (c th chnh sa)"}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{id:"generated-prompt",value:y,onChange:W=>v(W.target.value),placeholder:"Prompt chi tit s xut hin  y...",className:"w-full h-40 p-3 pr-12 bg-gray-900/50 border border-dark-border rounded-lg resize-y focus:ring-2 focus:ring-brand-purple"}),p.jsx("button",{onClick:K,className:"absolute top-2 right-2 bg-gray-700 hover:bg-brand-purple text-white p-2 rounded-lg transition-colors","aria-label":"Sao chp prompt",disabled:!y,children:F?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"refinement-instruction",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Yu cu chnh sa"}),p.jsx("textarea",{id:"refinement-instruction",value:g,onChange:W=>x(W.target.value),placeholder:"V d: 'thm mt con mo', 'i nn thnh bi bin lc hong hn', 'lm cho n trng in nh hn'...",className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg resize-y focus:ring-2 focus:ring-brand-purple",rows:3})]}),p.jsx("button",{onClick:Q,disabled:!y||!g.trim()||S,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"Chnh sa bng AI"})]})]})]})},Xr=({isCopied:i})=>i?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),Ib=({onGoHome:i})=>{const[n,o]=j.useState(""),[s,u]=j.useState(""),[f,m]=j.useState("Ting Vit"),[y,v]=j.useState(!1),[g,x]=j.useState(!1),[S,E]=j.useState(null),[_,w]=j.useState(null),[D,Y]=j.useState(""),[z,F]=j.useState(null),[O,J]=j.useState(null),X=async()=>{if(!n.trim()||!s.trim()){E("Vui lng nhp Tn knh v Ni dung video.");return}v(!0),E(null),w(null),Y(""),F(null);try{const L=await pb(n,s,f);w(L),Y(L.description)}catch(L){E(L instanceof Error?L.message:" xy ra li khng xc nh.")}finally{v(!1)}},Q=async()=>{if(D){x(!0),E(null);try{const L=await mu(D,"Vietnamese");F(L)}catch{E("Li khi dch m t.")}finally{x(!1)}}},K=(L,te)=>{navigator.clipboard.writeText(L).then(()=>{J(te),setTimeout(()=>J(null),2e3)})},W=()=>{o(""),u(""),w(null),E(null),m("Ting Vit"),Y(""),F(null)};return p.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[(y||g)&&p.jsx(ii,{message:g?"ang dch...":"AI ang sng to ni dung SEO..."}),p.jsx(li,{title:"Vit tiu  chun SEO Youtube",onBack:i}),S&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:S}),p.jsx("button",{onClick:()=>E(null),className:"ml-4 font-bold",children:"X"})]}),p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"channel-name",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Tn knh"}),p.jsx("input",{id:"channel-name",type:"text",value:n,onChange:L=>o(L.target.value),placeholder:"V d: Tifo Official",className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"video-content",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Ni dung video"}),p.jsx("textarea",{id:"video-content",value:s,onChange:L=>u(L.target.value),placeholder:"M t chi tit v ni dung video ca bn. Cng chi tit, kt qu cng chnh xc.",className:"w-full h-40 p-3 bg-gray-900/50 border border-dark-border rounded-lg resize-y focus:ring-2 focus:ring-brand-purple"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"language-select",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Ngn ng u ra"}),p.jsxs("select",{id:"language-select",value:f,onChange:L=>m(L.target.value),className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple",children:[p.jsx("option",{value:"Ting Vit",children:"Ting Vit"}),p.jsx("option",{value:"Ting Anh",children:"Ting Anh"})]})]}),p.jsx("button",{onClick:X,disabled:y,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"To ni dung SEO"})]}),_&&p.jsxs("div",{className:"mt-8 bg-dark-card p-6 rounded-lg border border-dark-border space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Kt qu SEO"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple",children:"Tiu  gi "}),p.jsx("ul",{className:"space-y-2",children:_.titles.map((L,te)=>p.jsxs("li",{className:"flex items-center justify-between bg-gray-900/50 p-3 rounded-md",children:[p.jsxs("span",{className:"flex-1 pr-4 text-dark-text",children:[te+1,". ",L]}),p.jsx("button",{onClick:()=>K(L,`title-${te}`),className:"p-2 rounded-md hover:bg-gray-700 transition-colors","aria-label":"Sao chp tiu ",children:p.jsx(Xr,{isCopied:O===`title-${te}`})})]},te))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple",children:"M t video"}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{value:D,onChange:L=>{Y(L.target.value),F(null)},className:"w-full h-72 p-3 pr-12 bg-gray-900/50 border border-dark-border rounded-lg resize-y focus:ring-2 focus:ring-brand-purple"}),p.jsx("button",{onClick:()=>K(D,"description"),className:"absolute top-2 right-2 p-2 rounded-md hover:bg-gray-700 transition-colors","aria-label":"Sao chp m t",children:p.jsx(Xr,{isCopied:O==="description"})})]}),f==="Ting Anh"&&p.jsx("div",{className:"pt-2",children:p.jsx("button",{onClick:Q,disabled:g||!D,className:"w-full sm:w-auto flex items-center justify-center py-2 px-4 text-sm font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-500",children:"Dch sang Ting Vit"})})]}),z&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Bn dch ( tham kho)"}),p.jsx("div",{className:"bg-cyan-900/30 p-3 rounded-md border border-cyan-700/50",children:p.jsx("p",{className:"text-cyan-200 whitespace-pre-wrap",children:z})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple",children:"T kha (Tags)"}),p.jsxs("div",{className:"relative bg-gray-900/50 p-3 rounded-md",children:[p.jsx("p",{className:"text-dark-text",children:_.keywords}),p.jsx("button",{onClick:()=>K(_.keywords,"keywords"),className:"absolute top-2 right-2 p-2 rounded-md hover:bg-gray-700 transition-colors","aria-label":"Sao chp t kha",children:p.jsx(Xr,{isCopied:O==="keywords"})})]})]})]}),p.jsx("div",{className:"text-center mt-8",children:(_||S)&&p.jsx("button",{onClick:W,className:"py-2 px-5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Lm li"})})]})},Qp=({onSuccess:i})=>{const[n,o]=j.useState(""),[s,u]=j.useState(null),f=m=>{if(m.preventDefault(),n.trim()===""){u("Vui lng nhp API Key.");return}localStorage.setItem("gemini-api-key",n),i()};return p.jsx("div",{className:"min-h-screen bg-dark-bg text-dark-text flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-2xl p-8 bg-dark-card rounded-xl shadow-2xl border border-dark-border",children:[p.jsx("h1",{className:"animated-gradient-text text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-brand-light-purple mb-4 text-center",children:"Thit Lp API Key"}),p.jsx("p",{className:"text-center text-dark-text-secondary mb-8",children:"Bn cn cung cp API Key Gemini  s dng cc tnh nng ca cng c."}),p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"api-key-input",className:"sr-only",children:"Gemini API Key"}),p.jsx("input",{id:"api-key-input",type:"password",value:n,onChange:m=>{o(m.target.value),u(null)},placeholder:"Dn API Key ca bn vo y",autoFocus:!0,className:"w-full p-3 bg-gray-700 border border-dark-border rounded-lg text-center text-white focus:ring-2 focus:ring-brand-purple focus:border-brand-purple transition-all"})]}),s&&p.jsx("p",{className:"text-sm text-red-400 text-center",children:s}),p.jsx("button",{type:"submit",className:"w-full py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 transition-colors",children:"Lu v Tip Tc"})]}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-dark-border text-left",children:[p.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Hng dn ly API Key"}),p.jsxs("ol",{className:"space-y-3 text-dark-text-secondary list-decimal list-inside",children:[p.jsxs("li",{children:["Truy cp vo ",p.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-brand-light-purple hover:underline",children:"Google AI Studio"}),"."]}),p.jsx("li",{children:"ng nhp bng ti khon Google ca bn."}),p.jsxs("li",{children:['Nhp vo nt "',p.jsx("strong",{children:"Create API key"}),'" (To kha API).']}),p.jsx("li",{children:"Sao chp kha API va c to v dn vo   trn."})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Lu : API Key ca bn s c lu tr cc b trn trnh duyt ny v khng c gi n bt k my ch no khc."})]})]})})},kb=({onClose:i})=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",children:p.jsxs("div",{className:"relative bg-dark-card rounded-lg shadow-2xl w-full max-w-md p-8 text-center",onClick:n=>n.stopPropagation(),children:[p.jsxs("p",{className:"text-lg text-dark-text leading-relaxed mb-6",children:["Tsoft2 c vit bi ",p.jsx("a",{href:"https://zalo.me/0879382468",target:"_blank",rel:"noopener noreferrer",className:"font-bold text-brand-light-purple hover:underline",children:"Arsne Lupin"})," l hng tng km khng bn khi mua Tsoft1."]}),p.jsx("button",{onClick:i,className:"py-2 px-8 bg-brand-purple text-white font-bold rounded-lg hover:bg-brand-light-purple transition-colors",children:" hiu"})]})}),Db=()=>{const i=localStorage.getItem("gemini-api-key");return i?new wm({apiKey:i}):(console.error("API Key not found for Chatbot."),null)},Ub=()=>{const[i,n]=j.useState(!1),[o,s]=j.useState([{role:"model",text:"Cho Anh/Ch, em l Diu Linh, tr l AI ca anh Arsne Lupin.  tin xng h, Anh/Ch cho em bit tn ca mnh l g ?"}]),[u,f]=j.useState(""),[m,y]=j.useState(!1),v=j.useRef(null),g=j.useRef(null),x=Db(),[S,E]=j.useState("askingName"),[_,w]=j.useState("");j.useEffect(()=>{var X;(X=g.current)==null||X.scrollIntoView({behavior:"smooth"})},[o,m]);const D=(X,Q)=>{if(x){const K=`You are "Diu Linh", the AI assistant for the Tsoft2 web application, created by Arsne Lupin. You are part of the TifoTeam. Your purpose is to explain the app's features to users in VIETNAMESE.

            **Your Persona:**
            - Your name is Diu Linh.
            - You are the assistant to Arsne Lupin, the author of this website.
            - You are a member of TifoTeam.
            - You MUST always refer to yourself as "em".

            **User's Information (CRITICAL):**
            - The user's name is "${X}".
            - You MUST address the user with the pronoun "${Q}".
            - Address them as "${Q} ${X}" in greetings, and just "${Q}" in subsequent conversation. For example: "D em cho ${Q} ${X}. Em c th gip g cho ${Q} ?"

            **The app has four main features:**
            1.  **To hnh nh theo kch bn:** Users upload a script, and the AI generates descriptive prompts and illustrative images for each scene.
            2.  **To prompt Veo3 hng lot:** An advanced feature for animation. Users provide a script and characters, and the AI creates detailed, consistent video prompts.
            3.  **To Thumbnail theo nh mu:** Users upload a sample thumbnail, and the AI generates a prompt to create similar images.
            4.  **Vit tiu  chun SEO Youtube:** The AI acts as a YouTube SEO expert, generating optimized titles, descriptions, and keywords.

            **CRITICAL Response Rules:**
            1.  **Language:** Always respond in VIETNAMESE.
            2.  **Scope:** ONLY answer questions directly related to the features of the Tsoft2 website. If asked about anything else, you MUST politely decline and state your purpose. For example: "D em xin li ${Q}, em l Diu Linh, tr l AI ca TifoTeam. Em ch c th h tr cc cu hi lin quan n tnh nng ca website Tsoft2 thi ."
            3.  **Zalo Group Promotion (MANDATORY):** Starting with your THIRD response to the user in the conversation (not counting your initial setup messages), you MUST append the following text to the end of your answer: " c h tr chi tit hn v tham gia cng ng, ${Q} c th vo nhm Zalo ny nh: https://zalo.me/g/qnkofg173".
            4.  **Conciseness:** Keep your answers concise and easy to understand.`;v.current=x.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:K}})}},Y=()=>n(!i),z=async X=>{if(X.preventDefault(),!u.trim()||m)return;const Q=u,K={role:"user",text:Q};if(s(W=>[...W,K]),f(""),S==="askingName"){w(Q),E("askingGender"),setTimeout(()=>{s(W=>[...W,{role:"model",text:`D, ${Q}. Bn mun em xng h l anh hay ch ?`}])},300);return}if(S==="chatting"&&v.current){y(!0);try{const W=await v.current.sendMessageStream({message:Q});let L="";s(te=>[...te,{role:"model",text:""}]);for await(const te of W)L+=te.text,s(de=>{const re=[...de];return re[re.length-1].text=L,re})}catch(W){console.error("Li khi gi tin nhn:",W),s(L=>[...L,{role:"model",text:"Xin li,  c li xy ra. Vui lng th li."}])}finally{y(!1)}}},F=X=>{const Q={role:"user",text:`Em gi l ${X} nh`};s(K=>[...K,Q]),D(_,X),E("chatting"),setTimeout(()=>{s(K=>[...K,{role:"model",text:`D em cho ${X} ${_}. Em c th gip g cho ${X} v cc tnh nng ca website ?`}])},300)},O=async X=>{if(m||S!=="chatting"||!v.current)return;const Q={role:"user",text:X};s(K=>[...K,Q]),y(!0);try{const K=await v.current.sendMessageStream({message:X});let W="";s(L=>[...L,{role:"model",text:""}]);for await(const L of K)W+=L.text,s(te=>{const de=[...te];return de[de.length-1].text=W,de})}catch(K){console.error("Li khi gi tin nhn:",K),s(W=>[...W,{role:"model",text:"Xin li,  c li xy ra. Vui lng th li."}])}finally{y(!1)}};if(!x)return null;const J=()=>S==="askingGender"?p.jsxs("div",{className:"p-4 border-t border-dark-border flex-shrink-0 flex items-center justify-center gap-4 animate-fade-in-up",children:[p.jsx("button",{onClick:()=>F("anh"),className:"py-2 px-6 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-all transform hover:scale-105",children:"Anh"}),p.jsx("button",{onClick:()=>F("ch"),className:"py-2 px-6 bg-pink-600 text-white font-bold rounded-lg hover:bg-pink-700 transition-all transform hover:scale-105",children:"Ch"})]}):p.jsx("form",{onSubmit:z,className:"p-4 border-t border-dark-border flex-shrink-0",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"text",value:u,onChange:X=>f(X.target.value),placeholder:S==="askingName"?"Nhp tn ca bn...":"Hi ti v cc tnh nng...",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple focus:border-brand-purple focus:ring-offset-2 focus:ring-offset-dark-card transition-all",disabled:m,autoFocus:!0}),p.jsx("button",{type:"submit",className:"bg-brand-purple text-white rounded-lg p-2 disabled:bg-gray-500 transition-colors transform hover:scale-110",disabled:m||!u.trim(),children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transform rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})});return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`fixed bottom-8 right-8 z-40 transition-all duration-300 ${i?"translate-y-16 opacity-0":"translate-y-0 opacity-100"}`,children:p.jsx("button",{onClick:Y,className:"bg-brand-purple text-white rounded-full p-4 shadow-lg hover:bg-brand-light-purple focus:outline-none focus:ring-2 focus:ring-brand-light-purple focus:ring-offset-2 focus:ring-offset-dark-bg chatbot-pulse","aria-label":"M tr l AI",title:"Hi Diu Linh",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.5l-.648-1.938a3.375 3.375 0 00-2.456-2.456L11.25 18l1.938-.648a3.375 3.375 0 002.456-2.456L16.25 13l.648 1.938a3.375 3.375 0 002.456 2.456L21 18l-1.938.648a3.375 3.375 0 00-2.456 2.456z"})})})}),p.jsxs("div",{className:`fixed bottom-0 right-0 sm:bottom-8 sm:right-8 w-full sm:w-96 h-full sm:h-[600px] bg-dark-card border-t-2 sm:border sm:border-dark-border rounded-t-2xl sm:rounded-xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] z-50 flex flex-col transform transition-transform duration-500 ease-in-out ${i?"translate-y-0":"translate-y-full"}`,children:[p.jsxs("header",{className:"relative flex items-center justify-center p-4 border-b border-dark-border flex-shrink-0",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"animated-gradient-text text-xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-brand-light-purple",children:"Diu Linh"}),p.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[p.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),p.jsx("p",{className:"text-xs text-green-400",children:"ang hot ng"})]})]}),p.jsx("button",{onClick:Y,className:"absolute top-1/2 right-4 -translate-y-1/2 text-dark-text-secondary hover:text-white","aria-label":"ng tr l AI",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map((X,Q)=>p.jsxs("div",{className:`flex items-end gap-2 ${X.role==="user"?"justify-end":"justify-start"} animate-fade-in-up`,children:[X.role==="model"&&p.jsx("img",{src:"https://sf-static.upanhlaylink.com/img/image_2025102296c3d021496f10ed4689a13895e23bcf.jpg",alt:"Diu Linh avatar",className:"w-8 h-8 rounded-full flex-shrink-0"}),p.jsx("div",{className:`max-w-xs lg:max-w-sm px-4 py-2 rounded-2xl shadow-md ${X.role==="user"?"bg-brand-purple text-white rounded-br-none":"bg-dark-border text-dark-text rounded-bl-none"}`,children:p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.text})})]},Q)),m&&p.jsxs("div",{className:"flex items-end gap-2 justify-start animate-fade-in-up",children:[p.jsx("img",{src:"https://sf-static.upanhlaylink.com/img/image_2025102296c3d021496f10ed4689a13895e23bcf.jpg",alt:"Diu Linh avatar",className:"w-8 h-8 rounded-full flex-shrink-0 avatar-glowing"}),p.jsx("div",{className:"max-w-xs lg:max-w-sm px-4 py-2 rounded-2xl bg-dark-border text-dark-text rounded-bl-none shadow-md",children:p.jsxs("div",{className:"typing-indicator",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]})})]}),p.jsx("div",{ref:g}),S==="chatting"&&o.length===5&&!m&&p.jsxs("div",{className:"pt-4 flex flex-wrap gap-2 justify-center animate-fade-in-up",children:[p.jsx("button",{onClick:()=>O("To nh theo kch bn l g?"),className:"text-sm py-1.5 px-3 bg-gray-700/50 rounded-full hover:bg-gray-700 transition-colors",children:"To nh theo kch bn l g?"}),p.jsx("button",{onClick:()=>O("To prompt Veo3 hot ng th no?"),className:"text-sm py-1.5 px-3 bg-gray-700/50 rounded-full hover:bg-gray-700 transition-colors",children:"To prompt Veo3 hot ng th no?"}),p.jsx("button",{onClick:()=>O("Tnh nng SEO Youtube c g hay?"),className:"text-sm py-1.5 px-3 bg-gray-700/50 rounded-full hover:bg-gray-700 transition-colors",children:"Tnh nng SEO Youtube c g hay?"})]})]}),J()]})]})},Lb=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Gb=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Vb=({onGoHome:i})=>{const[n,o]=j.useState(null),[s,u]=j.useState(null),[f,m]=j.useState(null),[y,v]=j.useState(null),[g,x]=j.useState(!1),[S,E]=j.useState(""),[_,w]=j.useState(null),D=j.useRef(null),Y=J=>{var Q;const X=(Q=J.target.files)==null?void 0:Q[0];if(X){if(!X.type.startsWith("video/")){w("Vui lng ti ln mt tp video hp l."),o(null),u(null);return}o(X),u(URL.createObjectURL(X)),m(null),v(null),w(null)}},z=async()=>{if(!n){w("Vui lng ti video ln trc.");return}x(!0),E("AI ang phn tch video. Qu trnh ny c th mt vi pht..."),w(null),m(null),v(null);try{const J=await gb(n);m(J)}catch(J){w(J instanceof Error?J.message:" xy ra li khng xc nh khi phn tch video.")}finally{x(!1)}},F=async()=>{if(!f||f.scenes.length===0){w("Khng c phn cnh no  to prompt.");return}x(!0),E("AI ang to prompt video..."),w(null),v(null);try{const J=await yb(f);v(J)}catch(J){w(J instanceof Error?J.message:" xy ra li khng xc nh khi to prompt.")}finally{x(!1)}},O=()=>{if(!y||y.length===0)return;const J=y.join(`
`),X=new Blob([J],{type:"text/plain;charset=utf-8"}),Q=URL.createObjectURL(X),K=document.createElement("a");K.href=Q,K.download=`veo_prompts_${(n==null?void 0:n.name.split(".")[0])||"analysis"}.txt`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(Q)};return p.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[g&&p.jsx(ii,{message:S}),p.jsx(li,{title:"Phn tch Video v To Prompt",onBack:i}),_&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:_}),p.jsx("button",{onClick:()=>w(null),className:"ml-4 font-bold",children:"X"})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 1: Ti ln v Phn tch Video"}),p.jsx("input",{type:"file",accept:"video/*",onChange:Y,className:"hidden",ref:D,"aria-label":"Ti ln video"}),s?p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("video",{src:s,controls:!0,className:"max-h-64 mx-auto rounded-lg shadow-lg"}),p.jsx("button",{onClick:()=>{var J;return(J=D.current)==null?void 0:J.click()},className:"py-2 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Ti ln video khc"})]}):p.jsx("div",{className:"border-2 border-dashed border-dark-border rounded-lg p-8 text-center cursor-pointer hover:border-brand-purple transition-colors",onClick:()=>{var J;return(J=D.current)==null?void 0:J.click()},children:p.jsxs("div",{children:[p.jsx(Lb,{}),p.jsx("p",{className:"text-dark-text-secondary",children:"Nhn  ti ln video ca bn"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"MP4, MOV, WEBM, etc."})]})}),n&&p.jsxs("p",{className:"text-center text-dark-text-secondary",children:["Tp  chn: ",n.name]}),p.jsx("button",{onClick:z,disabled:!n||g,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"Phn tch Video"})]}),f&&p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 2: Kt qu phn tch"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple mb-2",children:"Tm tt chung"}),p.jsx("p",{className:"p-3 bg-gray-900/50 rounded-md text-dark-text",children:f.summary})]}),f.characters.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple mb-2",children:"Nhn vt chnh"}),p.jsx("div",{className:"space-y-3",children:f.characters.map((J,X)=>p.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-md",children:[p.jsx("p",{className:"font-bold text-white",children:J.name}),p.jsx("p",{className:"text-sm text-dark-text-secondary",children:J.description})]},X))})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-semibold text-brand-light-purple mb-2",children:["Cc phn cnh  xc nh (",f.scenes.length,")"]}),p.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:f.scenes.map((J,X)=>p.jsxs("li",{className:"flex items-start bg-gray-900/50 p-3 rounded-md",children:[p.jsxs("span",{className:"font-bold text-brand-purple mr-3",children:[X+1,"."]}),p.jsx("p",{className:"flex-1 text-dark-text-secondary",children:J})]},X))})]}),p.jsx("button",{onClick:F,disabled:g,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"To Prompt Veo3"})]}),y&&p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 3: Prompt Veo3 (Ting Anh)"}),p.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:y.map((J,X)=>p.jsx("p",{className:"p-3 bg-gray-900/50 rounded-md text-dark-text font-mono text-sm",children:J},X))}),p.jsxs("button",{onClick:O,disabled:g,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:[p.jsx(Gb,{}),"Ti v Prompts (.txt)"]})]})]})]})},pa=({title:i,value:n,icon:o})=>p.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg flex items-center",children:[p.jsx("div",{className:"p-3 rounded-full bg-brand-purple/20 mr-4 text-brand-light-purple",children:o}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-dark-text-secondary",children:i}),p.jsx("p",{className:"text-xl font-bold text-white",children:n})]})]}),Qr=["Ngi k chuyn (Ging k li cun, c cm xc)","Chuyn gia Phn tch (Ging khch quan, chuyn su, logic)","Nh bo iu tra (Ging tng thut, tp trung vo s tht)","Bnh lun vin Hi hc (Ging d dm, chm bim, gii tr)","Reviewer Cng ngh (Ging hin i, nh gi u/nhc im)","Gio vin Thn thin (Ging ging gii, d hiu, gn gi)"],Zr=["Vietnamese","English","German","Chinese (Mandarin)","Spanish","Arabic","French","Hindi","Portuguese","Japanese","Korean"],qb=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Hb=({onGoHome:i})=>{const[n,o]=j.useState(""),[s,u]=j.useState(Qr[0]),[f,m]=j.useState(Zr[0]),[y,v]=j.useState(""),[g,x]=j.useState(!1),[S,E]=j.useState(""),[_,w]=j.useState(null),[D,Y]=j.useState(null),[z,F]=j.useState(!1),[O,J]=j.useState(0),[X,Q]=j.useState(0),[K,W]=j.useState(0),[L,te]=j.useState(0),de=j.useRef(null);j.useEffect(()=>{(ne=>{const $=ne.length,ee=ne.trim().split(/\s+/).filter(Boolean).length;Q($),J(ee===1&&ne.trim()===""?0:ee)})(n)},[n]),j.useEffect(()=>{if(D!=null&&D.rewrittenScript){const H=D.rewrittenScript,ne=H.length,$=H.trim().split(/\s+/).filter(Boolean).length;te(ne),W($)}},[D]);const re=H=>{var $;const ne=($=H.target.files)==null?void 0:$[0];if(ne&&ne.type==="text/plain"){const ee=new FileReader;ee.onload=C=>{var Z;const U=(Z=C.target)==null?void 0:Z.result;o(U)},ee.readAsText(ne),w(null)}else w("Vui lng ti ln mt tp .txt hp l.")},De=async()=>{if(!n.trim()){w("Vui lng nhp kch bn cn phn tch v vit li.");return}const H=Number(y);if(y.trim()!==""&&(isNaN(H)||H<0)){w("Vui lng nhp mt thi lng hp l.");return}x(!0),w(null),Y(null);try{if(H<=10||!y.trim()){E("AI ang phn tch v sng to... Qu trnh ny c th mt mt lc.");const ne=await jp(n,s,H>0?H:0,f);Y(ne)}else{const ne=Math.ceil(H/10);E(`AI ang x l phn 1/${ne}...`);const $=await jp(n,s,10,f);let ee=$.rewrittenScript;for(let U=2;U<=ne;U++){E(`AI ang x l phn ${U}/${ne}...`);const oe=U===ne?H%10===0?10:H%10:10,fe=await vb(n,s,f,oe,U,ne,ee);ee+=`

${fe}`}const C={...$,rewrittenScript:ee};Y(C)}}catch(ne){w(ne instanceof Error?ne.message:" xy ra li khng xc nh.")}finally{x(!1)}},Xe=()=>{o(""),u(Qr[0]),m(Zr[0]),v(""),Y(null),w(null),x(!1)},Pe=()=>{D&&navigator.clipboard.writeText(D.rewrittenScript).then(()=>{F(!0),setTimeout(()=>F(!1),2e3)})},V=()=>{if(!D)return;const H=new Blob([D.rewrittenScript],{type:"text/plain;charset=utf-8"}),ne=URL.createObjectURL(H),$=document.createElement("a");$.href=ne;const ee=s.split(" (")[0].replace(/[^a-z0-9]/gi,"_").toLowerCase();$.download=`rewritten_script_${ee}.txt`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(ne)};return p.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[p.jsx(li,{title:"Vit li kch bn i th",onBack:i}),g&&p.jsx(ii,{message:S||"AI ang phn tch v sng to..."}),_&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:_}),p.jsx("button",{onClick:()=>w(null),className:"ml-4 font-bold",children:"X"})]}),D?p.jsxs("div",{className:"space-y-8 animate-fade-in",children:[p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Bo co phn tch"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-dark-text-secondary mb-3 text-center",children:"Kch bn gc"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(pa,{title:"S t",value:D.analysis.wordCount,icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),p.jsx(pa,{title:"S k t",value:D.analysis.charCount,icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10m16-5H4"})})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-dark-text-secondary mb-3 text-center",children:"Kch bn vit li"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(pa,{title:"S t",value:K,icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),p.jsx(pa,{title:"S k t",value:L,icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10m16-5H4"})})})]})]})]}),p.jsx("h3",{className:"text-xl font-semibold text-brand-light-purple mb-3",children:"Kim tra chnh sch"}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"Ri ro Reuse Content:"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.analysis.policyCheck.reuseRisk})]}),p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"Ghi ch Fair Use:"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.analysis.policyCheck.fairUseNotes})]}),p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"T ng b cm:"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.analysis.policyCheck.forbiddenWordsFound.length>0?D.analysis.policyCheck.forbiddenWordsFound.join(", "):"Khng tm thy"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Nhn vt"}),p.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:D.characters.map((H,ne)=>p.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-md",children:[p.jsxs("p",{className:"font-bold text-white",children:[H.name," ",p.jsx("span",{className:"text-xs font-normal bg-brand-purple/50 text-brand-light-purple px-2 py-0.5 rounded-full ml-2",children:H.role})]}),p.jsx("p",{className:"text-sm text-dark-text-secondary",children:H.description})]},ne))})]}),p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Cu trc 3 hi"}),p.jsxs("div",{className:"space-y-2 text-sm max-h-60 overflow-y-auto pr-2",children:[p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"Hi 1 (M u):"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.threeActStructure.act1_setup})]}),p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"Hi 2 (Cao tro):"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.threeActStructure.act2_confrontation})]}),p.jsxs("p",{children:[p.jsx("strong",{className:"text-dark-text",children:"Hi 3 (Kt):"})," ",p.jsx("span",{className:"text-dark-text-secondary",children:D.threeActStructure.act3_resolution})]})]})]})]}),p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border",children:[p.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Kch bn  vit li (Ging iu: ",s.split(" (")[0],")"]}),p.jsx("textarea",{readOnly:!0,value:D.rewrittenScript,className:"w-full h-96 p-4 bg-gray-900/50 border border-dark-border rounded-lg resize-y"}),p.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[p.jsx("button",{onClick:Pe,className:"flex-1 flex items-center justify-center py-2 px-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:z?" sao chp!":"Sao chp kch bn"}),p.jsx("button",{onClick:V,className:"flex-1 flex items-center justify-center py-2 px-4 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Ti v (.txt)"})]})]}),p.jsx("div",{className:"text-center",children:p.jsx("button",{onClick:Xe,className:"py-2 px-5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Vit li kch bn khc"})})]}):p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bc 1: Nhp kch bn & Chn ty chn"}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{htmlFor:"script-input",className:"block text-md font-medium text-dark-text-secondary",children:"Kch bn gc"}),p.jsxs("button",{onClick:()=>{var H;return(H=de.current)==null?void 0:H.click()},className:"flex items-center text-sm py-1 px-3 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[p.jsx(qb,{})," Ti ln .txt"]}),p.jsx("input",{type:"file",ref:de,onChange:re,accept:".txt",className:"hidden"})]}),p.jsx("textarea",{id:"script-input",value:n,onChange:H=>o(H.target.value),placeholder:"Dn kch bn ca i th vo y...",className:"w-full h-80 p-4 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple focus:border-brand-purple transition-all duration-300 resize-y"}),p.jsxs("div",{className:"text-right text-sm text-dark-text-secondary mt-2",children:["S t: ",O," | S k t: ",X]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"tone-select",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Ging iu vit li"}),p.jsx("select",{id:"tone-select",value:s,onChange:H=>u(H.target.value),className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple",children:Qr.map(H=>p.jsx("option",{value:H,children:H},H))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"language-select",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Ngn ng u ra"}),p.jsx("select",{id:"language-select",value:f,onChange:H=>m(H.target.value),className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple",children:Zr.map(H=>p.jsx("option",{value:H,children:H},H))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"duration-input",className:"block text-md font-medium text-dark-text-secondary mb-2",children:"Thi lng kch bn (pht)"}),p.jsx("input",{id:"duration-input",type:"number",value:y,onChange:H=>v(H.target.value),placeholder:" trng  AI t quyt nh",className:"w-full p-3 bg-gray-900/50 border border-dark-border rounded-lg focus:ring-2 focus:ring-brand-purple",min:"0"}),p.jsx("p",{className:"text-xs text-dark-text-secondary mt-1",children:"c tnh 1 pht  1000 k t."})]})]}),p.jsx("button",{onClick:De,disabled:g||!n.trim(),className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"Phn tch & Vit li"})]})]})},Zp=({onSuccess:i,onClose:n,passwordToMatch:o,sessionKey:s,title:u,description:f})=>{const[m,y]=j.useState(""),[v,g]=j.useState(null),x=S=>{S.preventDefault(),m===o?(sessionStorage.setItem(s,"true"),i()):(g("Mt khu khng ng. Vui lng th li."),y(""))};return p.jsx("div",{className:"fixed inset-0 bg-dark-bg bg-opacity-95 flex items-center justify-center z-50 animate-fade-in",children:p.jsxs("div",{className:"w-full max-w-sm p-8 bg-dark-card rounded-xl shadow-2xl border border-dark-border relative",children:[p.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-2 text-dark-text-secondary hover:text-white transition-colors rounded-full","aria-label":"ng",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("h2",{className:"text-2xl font-bold text-center text-yellow-400 mb-2",children:u}),p.jsx("p",{className:"text-center text-dark-text-secondary mb-6",children:f}),p.jsxs("form",{onSubmit:x,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password-input",className:"sr-only",children:"Mt khu"}),p.jsx("input",{id:"password-input",type:"password",value:m,onChange:S=>y(S.target.value),placeholder:"Nhp mt khu",autoFocus:!0,className:"w-full p-3 bg-gray-700 border border-dark-border rounded-lg text-center text-white focus:ring-2 focus:ring-brand-purple focus:border-brand-purple transition-all"})]}),v&&p.jsx("p",{className:"text-sm text-red-400 text-center",children:v}),p.jsx("button",{type:"submit",className:"w-full py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 transition-colors",children:"Xc nhn"})]})]})})},$p=["Pop","Lofi","EDM","Rock","Trap","Acoustic","Ballad","R&B","Hip-Hop","Cinematic","Country","Folk","Ambient","Classical"],Wp=["Vui v","Bun","Ho hng","B n","Cng thng","Th gin","Lng mn","Nng lng cao","Hoi nim","Truyn cm hng"],em=["Ging nam","Ging n","Khng li"],tm=["Ting Vit","Ting Anh","Ting Nht","Ting Hn"],Pb=({isCopied:i})=>i?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),zb=({onGoHome:i})=>{const[n,o]=j.useState("idea"),[s,u]=j.useState(""),[f,m]=j.useState($p[0]),[y,v]=j.useState(Wp[0]),[g,x]=j.useState(em[0]),[S,E]=j.useState(tm[0]),[_,w]=j.useState("Piano, guitar"),[D,Y]=j.useState([]),[z,F]=j.useState(!1),[O,J]=j.useState(null),[X,Q]=j.useState(null),K=async(L=!1)=>{if(!s.trim()){J("Vui lng nhp  tng hoc li bi ht.");return}F(!0),J(null),L||Y([]);try{const de=await xb(s,n,{genre:f,mood:y,vocals:g,language:S,instruments:_});Y(de)}catch(te){J(te instanceof Error?te.message:" xy ra li khng xc nh.")}finally{F(!1)}},W=(L,te)=>{navigator.clipboard.writeText(L).then(()=>{Q(te),setTimeout(()=>Q(null),2e3)})};return p.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto",children:[p.jsx(li,{title:"Tsoft Melody - Tr l to prompt Suno",onBack:i}),z&&p.jsx(ii,{message:"AI ang sng tc prompt nhc..."}),O&&p.jsxs("div",{className:"my-4 text-center bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Li! "}),p.jsx("span",{className:"block sm:inline",children:O}),p.jsx("button",{onClick:()=>J(null),className:"ml-4 font-bold",children:"X"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsx("div",{className:"lg:col-span-4",children:p.jsxs("div",{className:"bg-dark-card p-6 rounded-lg border border-dark-border space-y-6 sticky top-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"1. Nhp liu"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-around bg-gray-900/50 p-1 rounded-lg",children:[p.jsx("button",{onClick:()=>o("idea"),className:`w-full py-2 px-3 text-sm font-semibold rounded-md transition-colors ${n==="idea"?"bg-brand-purple text-white":"text-dark-text-secondary hover:bg-gray-700"}`,children:"To li t  tng"}),p.jsx("button",{onClick:()=>o("lyrics"),className:`w-full py-2 px-3 text-sm font-semibold rounded-md transition-colors ${n==="lyrics"?"bg-brand-purple text-white":"text-dark-text-secondary hover:bg-gray-700"}`,children:"Dng li c sn"})]}),p.jsx("textarea",{id:"idea-input",value:s,onChange:L=>u(L.target.value),placeholder:n==="idea"?`Nhp  tng bi ht...
VD: mt bi ht bun v chia tay, EDM hng hc kh th, lofi  hc bi...`:"Dn ton b li bi ht ca bn vo y...",className:"w-full h-36 p-3 bg-gray-900/50 border border-dark-border rounded-lg resize-y focus:ring-2 focus:ring-brand-purple"})]}),p.jsx("h2",{className:"text-2xl font-bold text-white pt-4 border-t border-dark-border",children:"2. Ty chnh"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"genre-select",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Th loi"}),p.jsx("select",{id:"genre-select",value:f,onChange:L=>m(L.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple",children:$p.map(L=>p.jsx("option",{value:L,children:L},L))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"mood-select",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Cm xc"}),p.jsx("select",{id:"mood-select",value:y,onChange:L=>v(L.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple",children:Wp.map(L=>p.jsx("option",{value:L,children:L},L))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"vocal-select",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Ging ht"}),p.jsx("select",{id:"vocal-select",value:g,onChange:L=>x(L.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple",children:em.map(L=>p.jsx("option",{value:L,children:L},L))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Ngn ng"}),p.jsx("select",{id:"language-select",value:S,onChange:L=>E(L.target.value),className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple",children:tm.map(L=>p.jsx("option",{value:L,children:L},L))})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"instruments-input",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Nhc c chnh"}),p.jsx("input",{id:"instruments-input",type:"text",value:_,onChange:L=>w(L.target.value),placeholder:"VD: Guitar, Piano, Synth",className:"w-full p-2 bg-gray-700 border border-dark-border rounded-md focus:ring-2 focus:ring-brand-purple"})]}),p.jsx("button",{onClick:()=>K(!1),disabled:z,className:"w-full flex items-center justify-center py-3 px-4 font-bold text-white bg-brand-purple rounded-lg hover:bg-brand-light-purple disabled:bg-gray-500 disabled:cursor-not-allowed transition-all",children:"To Prompt"})]})}),p.jsxs("div",{className:"lg:col-span-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"3. Kt qu"}),D.length>0&&p.jsxs("button",{onClick:()=>K(!0),disabled:z,className:"flex items-center gap-2 py-2 px-4 font-semibold text-sm text-white bg-gray-600 rounded-lg hover:bg-gray-700 disabled:bg-gray-500 transition-colors",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h5M20 20v-5h-5M4 4l5 5M20 20l-5-5"})}),"To phin bn khc"]})]}),p.jsxs("div",{className:"space-y-6",children:[D.length===0&&!z&&p.jsxs("div",{className:"text-center py-16 px-6 bg-dark-card border-2 border-dashed border-dark-border rounded-lg",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 6l12-3"})}),p.jsx("h3",{className:"mt-2 text-xl font-semibold text-white",children:"Prompt ca bn s xut hin  y"}),p.jsx("p",{className:"mt-1 text-md text-dark-text-secondary",children:'Nhp  tng v bm "To Prompt"  bt u.'})]}),D.map((L,te)=>p.jsxs("div",{className:"bg-dark-card p-4 sm:p-6 rounded-lg border border-dark-border animate-fade-in",children:[p.jsxs("h3",{className:"text-xl font-semibold text-brand-light-purple mb-3",children:[te+1,". ",L.title]}),L.lyrics&&p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm font-medium text-dark-text-secondary mb-1",children:"Li bi ht"}),p.jsx("div",{className:"p-3 bg-gray-900/50 rounded-md border border-dark-border/50 max-h-60 overflow-y-auto",children:p.jsx("p",{className:"text-dark-text whitespace-pre-wrap",children:L.lyrics})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm font-medium text-dark-text-secondary mb-1",children:"Prompt y  (sn sng  sao chp)"}),p.jsxs("div",{className:"relative",children:[p.jsx("p",{className:"p-3 pr-12 bg-gray-900/50 rounded-md text-sm text-cyan-300 font-mono leading-relaxed",children:L.prompt}),p.jsx("button",{onClick:()=>W(L.prompt,`prompt-${te}`),className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-md bg-gray-700 hover:bg-brand-purple transition-colors","aria-label":"Sao chp prompt",children:p.jsx(Pb,{isCopied:X===`prompt-${te}`})})]})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-border/50",children:[p.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Hng dn ci t cho Suno"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-md",children:[p.jsxs("p",{className:"font-bold text-dark-text-secondary",children:["Weirdness: ",p.jsx("span",{className:"font-mono text-yellow-400",children:L.weirdness.value})]}),p.jsx("p",{className:"text-dark-text-secondary mt-1 italic",children:L.weirdness.explanation})]}),p.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-md",children:[p.jsxs("p",{className:"font-bold text-dark-text-secondary",children:["Style Influence: ",p.jsx("span",{className:"font-mono text-yellow-400",children:L.styleInfluence.value})]}),p.jsx("p",{className:"text-dark-text-secondary mt-1 italic",children:L.styleInfluence.explanation})]})]})]})]},te))]})]})]})]})},nm=({onClose:i})=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999] p-4 animate-fade-in",children:p.jsxs("div",{className:"relative bg-dark-card rounded-lg shadow-2xl w-full max-w-lg p-8 text-center border-2 border-yellow-500",children:[p.jsxs("button",{onClick:i,className:"absolute top-3 right-3 text-white text-2xl font-bold hover:text-red-400",children:""}),p.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Thng Bo Quan Trng"}),p.jsx("p",{className:"text-lg text-dark-text leading-relaxed",children:"Tsoft2 tm thi kho trang v khng th s dng mi tnh nng."}),p.jsx("p",{className:"text-lg text-dark-text leading-relaxed mt-4",children:"Mi thng tin chi tit xin lin h Admin:"}),p.jsxs("p",{className:"text-xl font-bold text-dark-text-secondary mt-2",children:["Zalo: ",p.jsx("a",{href:"https://zalo.me/0879382468",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline hover:text-cyan-300 transition-colors",children:"Arsne Lupin"})," - ",p.jsx("span",{className:"text-red-500",children:"Hotline 037 28 99999"})]})]})}),Bb=()=>{const[i,T]=j.useState(!0),[n,o]=j.useState(!1),[s,u]=j.useState("home"),[f,m]=j.useState(null),[y,v]=j.useState(!1),[g,x]=j.useState(!1),[S,E]=j.useState(!1);j.useEffect(()=>{localStorage.getItem("gemini-api-key")&&o(!0),sessionStorage.getItem("infoPopupShown")||(v(!0),sessionStorage.setItem("infoPopupShown","true"))},[]);const _=()=>{o(!0),u("home")},w=re=>{m(re),u("articleDetail")},D=()=>{u("scriptToImage"),m(null)},Y=()=>{u("veoAnimation"),m(null)},z=()=>{u("thumbnailGenerator"),m(null)},F=()=>{u("youtubeSeo"),m(null)},O=()=>{u("videoAnalyzer"),m(null)},J=()=>{sessionStorage.getItem("sunoAccessGranted")==="true"?(u("sunoPromptGenerator"),m(null)):E(!0)},X=()=>{sessionStorage.getItem("vipAccessGranted")==="true"?(u("scriptRewriter"),m(null)):x(!0)},Q=()=>{u("home"),m(null)},K=()=>{u("history"),m(null)},W=()=>{u("apiKeySetup"),m(null)},L=()=>{x(!1),u("scriptRewriter"),m(null)},te=()=>{E(!1),u("sunoPromptGenerator"),m(null)};if(!n)return p.jsxs(p.Fragment,{children:[i&&p.jsx(nm,{onClose:()=>T(!1)}),p.jsx(Qp,{onSuccess:_})]});const de=()=>{switch(s){case"home":return p.jsx(Mh,{onNavigateToScriptToImage:D,onNavigateToVeoAnimation:Y,onNavigateToThumbnailGenerator:z,onNavigateToYouTubeSeo:F,onNavigateToVideoAnalyzer:O,onNavigateToScriptRewriter:X,onNavigateToSunoPromptGenerator:J});case"scriptToImage":return p.jsx(Sb,{onGoHome:Q});case"veoAnimation":return p.jsx(Ab,{onGoHome:Q});case"thumbnailGenerator":return p.jsx(Rb,{onGoHome:Q});case"youtubeSeo":return p.jsx(Ib,{onGoHome:Q});case"videoAnalyzer":return p.jsx(Vb,{onGoHome:Q});case"sunoPromptGenerator":return p.jsx(zb,{onGoHome:Q});case"scriptRewriter":return p.jsx(Hb,{onGoHome:Q});case"history":return p.jsx(Xp,{onGoHome:Q,onNavigateToArticle:w});case"articleDetail":return f?p.jsx(Mb,{article:f,onBack:K}):p.jsx(Xp,{onGoHome:Q,onNavigateToArticle:w});case"apiKeySetup":return p.jsx(Qp,{onSuccess:_});default:return p.jsx(Mh,{onNavigateToScriptToImage:D,onNavigateToVeoAnimation:Y,onNavigateToThumbnailGenerator:z,onNavigateToYouTubeSeo:F,onNavigateToVideoAnalyzer:O,onNavigateToScriptRewriter:X,onNavigateToSunoPromptGenerator:J})}};return p.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[i&&p.jsx(nm,{}),y&&p.jsx(kb,{onClose:()=>v(!1)}),g&&p.jsx(Zp,{onSuccess:L,onClose:()=>x(!1),passwordToMatch:"123@",sessionKey:"vipAccessGranted",title:"Yu cu quyn truy cp VIP",description:"Tnh nng ny dnh ring cho khch hng VIP."}),S&&p.jsx(Zp,{onSuccess:te,onClose:()=>E(!1),passwordToMatch:"123#",sessionKey:"sunoAccessGranted",title:"Truy cp Tsoft Melody (VIP)",description:"Tnh nng ny dnh ring cho khch hng VIP v yu cu mt khu."}),p.jsx(gv,{onGoHome:Q,onNavigateToHistory:K,onNavigateToApiKeySetup:W}),p.jsx("main",{className:"container mx-auto p-4 md:p-8",children:de()}),p.jsx("footer",{className:"text-center py-4 mt-8 border-t border-dark-border",children:p.jsx("p",{className:"text-sm text-dark-text-secondary",children:" 2025 All rights reserved. c pht trin bi Arsne Lupin - Hotline 037 28 99999."})}),p.jsx(Ub,{})]})},km=document.getElementById("root");if(!km)throw new Error("Could not find root element to mount to");const Ob=fv.createRoot(km);Ob.render(p.jsx($r.StrictMode,{children:p.jsx(Bb,{})}));
